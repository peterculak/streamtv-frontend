{"version":3,"sources":["framework/kernel/Kernel.ts","app/config/index.ts","app/controller/Error/Error404.tsx","context/authContext.tsx","app/controller/Auth/index.tsx","app/config/constants/action_types.ts","actions/archiveItem.ts","actions/player.ts","components/slider/ValueLabel.js","components/slider/Slider.js","helpers/functions.ts","components/player/mediaControls/videoProgressBar.tsx","components/tooltip/index.tsx","components/player/mediaControls/volumeControls.tsx","components/player/mediaControls/castButton.tsx","components/player/mediaControls/index.tsx","components/ripple/index.tsx","components/player/mediaControls/volumeLabel.tsx","components/player/index.tsx","components/playlist/playlistItem.tsx","actions/theme.ts","service/player/Playlist.ts","service/player/PlaylistItem.ts","service/player/PlaylistFactory.ts","components/playlist/header.tsx","components/playlist/index.tsx","components/errorBoundary/index.tsx","app/controller/EpisodeDetail/index.tsx","components/tvChannel/index.tsx","app/controller/Channels/index.tsx","components/archiveItem/index.tsx","components/scrollManager/index.ts","app/controller/Programs/index.tsx","app/controller/Sandbox/animation/index.tsx","app/controller/Sandbox/slider/index.tsx","app/config/constants/ioc.ts","app/controller/Sandbox/castButton/index.tsx","containers/Main.tsx","containers/Layout.tsx","containers/App.tsx","entities/Channel.ts","service/ChannelService.ts","service/ProgramService.ts","service/auth/index.ts","service/player/adapter/AdapterException.ts","service/player/adapter/DomAdapter.ts","service/player/Player.ts","service/player/adapter/CastSenderAdapter.ts","app/config/ioc_config.ts","containers/themes/streamTv.ts","reducers/index.ts","store/index.ts","entities/Locale.ts","Kernel.tsx","index.ts"],"names":["Kernel","booted","config","this","loadConfig","initializeContainer","_container","undefined","Error404","react_default","a","createElement","className","Link","to","AuthContext","React","createContext","AuthProvider","props","cached","sessionStorage","getItem","authService","login","_React$useState","useState","password","_React$useState2","Object","slicedToArray","setPassword","Provider","assign","value","setItem","isLoggedIn","logout","clear","useAuth","context","useContext","Error","withStyles","theme","form","height","container","gridItem","width","withTheme","prop","auth","showPassword","values","setValues","handleLogin","classes","onSubmit","Grid","alignItems","justify","direction","item","xs","md","lg","spacing","Box","textAlign","FormControl","InputLabel","htmlFor","Input","id","type","onChange","event","objectSpread","defineProperty","target","autoFocus","endAdornment","InputAdornment","position","IconButton","aria-label","onClick","Visibility_default","VisibilityOff_default","Button","size","variant","color","PLAYER_SET_VIDEO_ELEMENT_AND_START_PLAYING","PLAYER_NEXT","PLAYER_PREVIOUS","PLAYER_PLAY","PLAYER_PAUSE","PLAYER_TOGGLE_PAUSE_PLAY","PLAYER_TOGGLE_PAUSE_PLAY_WITH_ANIMATION","PLAYER_REWIND_WITH_ANIMATION","PLAYER_FAST_FORWARD_WITH_ANIMATION","PLAYER_VOLUME_UP_WITH_ANIMATION","PLAYER_VOLUME_DOWN_WITH_ANIMATION","PLAYER_SET_AUTOPLAY_ON_OFF","PLAYER_LOAD_PLAYLIST","PLAYER_LOAD_PLAYLIST_AND_START_PLAYING","PLAYER_PLAY_PLAYLIST_ITEM","PLAYER_SORT_PLAYLIST_REVERSE_SORT","PLAYER_SORT_PLAYLIST_ASC","PLAYER_SORT_PLAYLIST_DESC","PLAYER_SHUFFLE_ON","PLAYER_SHUFFLE_OFF","PLAYER_LOOP_ON","PLAYER_LOOP_OFF","PLAYER_SET_HIGHEST_QUALITY","PLAYER_SET_LOWEST_QUALITY","PLAYER_VIDEO_ELEMENT_DATA_LOADED","PLAYER_UPDATE_NEXT_ITEM_DURATION","PLAYER_VIDEO_TIME_UPDATE","PLAYER_TOGGLE_MUTE","PLAYER_TOGGLE_MUTE_WITH_ANIMATION","SELECT_CHANNEL_ARCHIVE","SELECT_TVSERIES_ARCHIVE","THEME_SELECT_MODE","THEME_TOGGLE_MODE","OPEN_PLAYLIST_MENU","CLOSE_PLAYLIST_MENU","selectSeriesArchive","archive","payload","next","playPlaylistItem","reversePlaylistSort","openPlaylistMenu","anchorEl","thumb","&$open","& $offset","transform","open","offset","zIndex","typography","body2","fontSize","pxToRem","lineHeight","transition","transitions","create","duration","shortest","top","left","transformOrigin","circle","display","justifyContent","borderRadius","backgroundColor","label","palette","primary","contrastText","name","children","index","valueLabelDisplay","valueLabelFormat","cloneElement","clsx","asc","b","clamp","min","max","findClosest","currentValue","reduce","acc","distance","Math","abs","trackFinger","touchId","current","changedTouches","i","length","touch","identifier","x","pageX","y","pageY","valueToPercent","percentToValue","percent","roundValueToStep","step","nearest","round","Number","toFixed","num","parts","toExponential","split","matissaDecimalPart","parseInt","decimalPart","toString","getDecimalPrecision","setValueIndex","_ref","source","newValue","output","toConsumableArray","focusThumb","_ref2","sliderRef","activeIndex","setActive","contains","document","activeElement","getAttribute","querySelector","concat","focus","axisProps","horizontal","leap","horizontal-reverse","right","vertical","bottom","defaultMarks","Identity","Slider","forwardRef","ref","_clsx","ariaLabel","ariaLabelledby","ariaValuetext","_props$component","component","Component","defaultValue","_props$disabled","disabled","getAriaValueText","_props$marks","marks","marksProp","_props$max","_props$min","onChangeCommitted","onMouseDown","_props$orientation","orientation","_props$step","_props$ThumbComponent","ThumbComponent","valueProp","_props$ValueLabelComp","ValueLabelComponent","ValueLabel","_props$valueLabelDisp","_props$valueLabelForm","_props$railHoverLabel","railHoverLabel","_props$railHoverLabel2","railHoverLabelFormat","onMouseOver","onMouseOut","other","objectWithoutProperties","useTheme","isControlled","useRef","active","_React$useState3","_React$useState4","setOpen","_React$useState5","_React$useState6","valueState","setValueState","valueDerived","range","Array","isArray","instanceRef","sort","map","floor","_","_useIsFocusVisible","useIsFocusVisible","isFocusVisible","onBlurVisible","focusVisibleRef","_React$useState7","_React$useState8","focusVisible","setFocusVisible","handleFocusRef","useForkRef","handleRef","handleFocus","useEventCallback","currentTarget","handleBlur","handleMouseOver","handleMouseLeave","handleKeyDown","tenPercents","marksValues","mark","marksIndex","indexOf","key","preventDefault","previousValue","previousIndex","axis","getFingerNewValue","useCallback","_ref3","finger","_ref3$move","move","values2","slider","_slider$getBoundingCl","getBoundingClientRect","ownerWindow","pageYOffset","pageXOffset","getMouseNewValue","mouse","_slider$getBoundingCl2","handleTouchMove","_getFingerNewValue","handleTouchEnd","body","removeEventListener","handleMouseEnter","buttons","handleTouchStart","_getFingerNewValue3","addEventListener","useEffect","handleMouseDown","_getFingerNewValue4","_React$useState9","_React$useState10","railHoverScaleX","setRailHoverScaleX","_React$useState11","_React$useState12","railHoverTooltipOpacity","setRailHoverTooltipOpacity","_React$useState13","_React$useState14","railHoverTooltipLeft","setRailHoverTooltipLeft","_React$useState15","_React$useState16","railHoverTooltipValue","setRailHoverTooltipValue","railHoverStyle","railHoverTooltipStyle","opacity","trackOffset","trackLeap","trackStyle","root","marked","some","rect","closest","clientX","scale","clientY","onMouseMove","rail","style","railHover","railHoverTooltip","railHoverTooltipInner","track","join","markActive","Fragment","markLabel","markLabelActive","_clsx4","valueLabel","tabIndex","role","data-index","aria-labelledby","aria-orientation","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","onKeyDown","onFocus","onBlur","onMouseLeave","boxSizing","padding","cursor","touchAction","main","WebkitTapHighlightColor","&$disabled","grey","&$vertical","marginBottom","marginRight","$vertical &","marginLeft","marginTop","outline","&$focusVisible,&:hover","boxShadow","fade","@media (hover: none)","&$active","$disabled &","pointerEvents","&:hover","$vertical$disabled &","lighten","text","secondary","whiteSpace","formatLength","lengthInSeconds","hours","minutes","seconds","secondsStr","String","minutesStr","progressBarStyles","makeStyles","hover","letterSpacing","fontWeight","StyledSlider","rest","slider_Slider","VideoProgressBar","player","useSelector","state","isVideoProgressMouseOver","setIsVideoProgressMouseOver","isLoaded","format","getCurrentTime","setProgress","createStyles","tooltip","Tooltip","placement","volumeControlBar","volumeSlider","volumeSliderVisible","minWidth","verticalAlign","dispatch","useDispatch","isVolumeMouseOver","setIsVolumeMouseOver","isVolumeMouseDown","setIsVolumeMouseDown","volumeMouseOver","volumeMouseDown","ClickAwayListener","onClickAway","title","isMuted","VolumeOff_default","getVolume","VolumeUp_default","VolumeDown_default","volumeControls_StyledSlider","onMouseUp","setVolume","GoogleCastButton","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","createRef","remove","--disconnected-color","--connected-color","fileDownload","require","gradientBottom","margin","backgroundPosition","backgroundRepeat","backgroundImage","hdBadge","&::after","content","timeDisplay","textShadow","leftControls","float","rightControls","timeCurrent","timeSeparator","timeDuration","_useSelector","selectedTVSeriesArchive","showControls","isCasting","isHover","isPlaying","mdUp","useMediaQuery","breakpoints","up","getVideoElementWidth","videoProgressBar","Pause_default","PlayArrow_default","ACTIONS","SkipNext_default","volumeControls","isHighQualitySelected","Settings_default","url","m","match","seriesNumber","selectedSeasonIndex","series","meta","episodeNumber","episode","ext","filename","window","download","currentStream","GetApp_default","canCast","castButton_GoogleCastButton","isFullScreenAvailable","requestFullScreen","Fullscreen_default","useStyles","icon","transitionGroup","fadeIn-entered","fadeIn-entering","animation","fadeIn-exiting","fadeIn-exited","from","Index","animate","Transition","in","timeout","inner","VolumeLabel","Player","playerRef","animatePausePlay","animateMute","animateFastForward","animateRewind","animateVolumeUp","animateVolumeDown","animateVolumeLabel","_useState","_useState2","setIsHover","playNextTrigger","dataLoaded","timeupdate","togglePlay","toggleMute","fastForward","rewind","volumeUp","volumeDown","subtitle","videoElement","callbacks","ended","loadeddata","ripple","Forward5_default","Replay5_default","volumeLabel","player_mediaControls","Hidden","smDown","Typography","mt","mb","Divider","_media","_playlistPositionNumb","card","paddingBottom","down","notSelectedCard","selectedCard","selectedCardMarginTop","media","detail","&:last-child","headline","maxHeight","overflow","subhead","dateAdded","playlistPosition","playlistPositionNumberWidth","paddingLeft","playlistPositionArrow","hint","playlistPositionNumber","itemLength","itemClick","imageQuality","Card","square","elevation","CardActionArea","sm","CardMedia","image","replace","CardContent","ReactTimeAgo","locale","lang","date","toggleThemeMode","Playlist","_items","_currentIndex","_sortOrder","push","filter","src","moveToIndex","forEach","mp4","currentIndex","reverse","items","sortPosition","PlaylistItem","_sortPosition","PlaylistFactory","selectedSeason","playlist","episodes","playlistItem","createPlaylistItem","Date","parse","add","sortAsc","sortDesc","error","isValidDate","bits","correctlyFormattedDateString","thumbnailUrl","timeRequired","d","isNaN","_playlistHeader","_playlistHeaderMetaDa","_playlistHeaderTitle","_controlBar","playlistHeader","playlistHeaderMetaData","playlistHeaderTitle","playlistHeaderSubHead","controlBar","playerControlsButton","playerControlsButtonCommon","firstButton","menuAnchorElement","handlePlaylistChange","setSelectedSeasonIndex","createPlaylistForProgramSeason","seasons","handleMenuClose","e","code","buttonRef","THEME_ACTIONS","currentlyPlayingItemOrder","playlistItemsCount","List_default","Menu","keepMounted","Boolean","onClose","season","MenuItem","getPlaylistSortOrder","SortByAlpha_default","SvgIcon","_playlist","borderBottom","playlistItems","playlistHeight","setPlaylistHeight","videoHeight","getVideoElementHeight","innerHeight","setHeight","isVideoDataLoaded","cellMeasurerCache","CellMeasurerCache","fixedWidth","defaultHeight","RowMdUp","parent","dist_es","cache","columnIndex","rowIndex","playlist_playlistItem","_useState3","_useState4","rowSmDown","header","disableHeight","paddingTop","deferredMeasurementCache","rowHeight","rowRenderer","rowCount","overscanRowCount","ErrorBoundary","hasError","info","_rhc","videoPlayer","rhc","seriesArchive","programService","findOne","params","slug","then","newArchive","ITEM_ACTIONS","catch","videoElementHeight","setVideoElementHeight","ceil","parseFloat","errorBoundary","components_player","components_playlist","channel","ChannelsController","channels","setChannels","channelService","findAll","history","tvChannel","styles","archiveItem","onClickHandler","programArchive","channelId","img","gutterBottom","memoryStore","_data","Map","get","set","data","ScrollPositionManager","_target","pos","_this2","scrollStore","scrollKey","requestAnimationFrame","scroll","getScrollPosition","restoreScrollPosition","nextProps","saveScrollPosition","prevProps","_this$props$children","scrollTo","scrollX","scrollY","defaultProps","ProgramController","archives","channelArchives","isBetween","between","isMdUp","Row","components_archiveItem","scrollManager_ScrollPositionManager","defaultStyle","transitionStyles","entering","entered","exiting","exited","inProp","setInProp","run","setRun","toggleInOut","currentTime","setValue","slider_StyledSlider","CONSTANTS","PLAYER","Symbol","for","BASENAME","CHANNELS","PROGRAMS","AUTH","font-size","react","Switch","Route","exact","path","render","routeProps","Channels","Sandbox_slider","Sandbox_castButton_GoogleCastButton","Programs","EpisodeDetail","controller_Auth","Layout","app","containers_Main","App","HashRouter","MuiThemeProvider","CssBaseline","containers_Layout","Channel","injectable","_dec","_class","datafile","arguments","ChannelService","basename","channelsUrl","fetch","r","encrypted","decrypt","jsonString","JSON","keys","channelData","Promise","resolve","find","crypto","Utf8","ProgramService","Auth","_password","AdapterException","volume","DomAdapter","_window","documentListeners","htmlElementListeners","htmlVideoElement","getComputedStyle","setVideoSource","play","emptyVideoSource","poster","pause","paused","listener","numberOfSeconds","muted","volumeOutOfRange","requestFullscreen","fullscreen","exitFullscreen","_autoplay","shuffleEnabled","loopEnabled","_isVideoDataLoaded","_isHighQualitySelected","adapter","_adapter","unmount","addListener","getVideoDuration","resume","getCurrentVideoTime","addKeyDownListener","castSenderAdapter","cast","framework","RemotePlayerEventType","IS_CONNECTED_CHANGED","switchAdapter","streamUrl","contentId","setPosterSource","moveIndexTo","isConnected","loadQueueData","hasVideoElement","selectStream","hasNext","previous","previousItem","nextItem","sortOrder","_this3","qualityLabel","reloadStream","getVideoVolume","setVideoVolume","newVolume","newTime","setCurrentVideoTime","percentage","time","toggleFullScreen","_this4","getCastQueueData","_this5","setTimeout","unMute","mute","playNext","toggleQualityMinMax","setLowestVideoQuality","setHighestQuality","_this6","newItem","CastSenderAdapter","chrome","castQueueData","listeners","options","receiverApplicationId","DEFAULT_MEDIA_RECEIVER_APP_ID","autoJoinPolicy","AutoJoinPolicy","ORIGIN_SCOPED","CastContext","getInstance","setOptions","remotePlayer","RemotePlayer","remotePlayerController","RemotePlayerController","session","getCurrentSession","mediaStatus","getMediaSession","savedPlayerState","volumeLevel","isPaused","playOrPause","MediaInfo","request","LoadRequest","queueData","QueueData","mediaInfoItem","queueItem","QueueItem","preloadTime","loadMedia","seek","setVolumeLevel","muteOrUnmute","JavascriptTimeAgo","en","sk","Container","bind","inSingletonScope","process","toDynamicValue","isAvailable","initializeCastPlayer","getTheme","mode","createMuiTheme","background","default","initialState","rootReducer","action","autoplay","load","initializeHtmlPlayer","sortPlaylistAsc","sortPlaylistDesc","enableShuffle","disableShuffle","enableLoop","disableLoop","willPlayNext","store","createStore","Locale","_lang","_territory","inputString","localeString","ReactAppKernel","fromString","boot","es","containers_App","element","getElementById","attachTo"],"mappings":"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","file":"static/js/main.90076cc4.chunk.js","sourcesContent":["import KernelInterface from \"./KernelInterface\";\n\nabstract class Kernel implements KernelInterface {\n    protected booted: boolean = false;\n    protected _container: any;\n    protected config: Object = {};\n\n    get container(): any {\n        return this._container;\n    }\n\n    public boot(): void {\n        if (!this.booted) {\n            this.loadConfig();\n            this.initializeContainer();\n            this.booted = true;\n        }\n    }\n\n    public shutDown(): void {\n        this.booted = false;\n        this._container = undefined;\n    }\n\n    abstract run(): void;\n\n    protected abstract loadConfig(): void;\n\n    protected abstract initializeContainer(): void;\n}\n\nexport default Kernel;\n","export default {};\n","import React from 'react';\nimport {Link} from 'react-router-dom';\n\nconst Error404 = () => (\n    <div className=\"page-error-container\">\n        <div className=\"page-error-content\">\n            <div className=\"error-code mb-4\">404</div>\n            <h2 className=\"text-center fw-regular title\">\n                Page not found\n            </h2>\n            <p className=\"text-center\">\n                <Link className=\"btn btn-primary\" to=\"/\">Home</Link>\n            </p>\n        </div>\n    </div>\n);\n\nexport default Error404;\n","import React from 'react';\nimport AuthInterface from \"../service/auth/AuthInterface\";\nconst AuthContext = React.createContext({});\n\nfunction AuthProvider(props: {authService: AuthInterface}) {\n    const PASSWORD_KEY = 'password';\n    const cached = sessionStorage.getItem(PASSWORD_KEY);\n    if (cached) {\n        props.authService.login(cached);\n    }\n\n    const [password, setPassword] = React.useState(props.authService.password);\n\n    const login = (password: string) => {\n        props.authService.login(password);\n        sessionStorage.setItem(PASSWORD_KEY, password);\n        setPassword(password);\n    };\n\n    const logout = () => {\n        props.authService.logout();\n        sessionStorage.clear();\n        setPassword('');\n    };\n\n    const isLoggedIn = () => props.authService.isLoggedIn();\n\n    return (\n        <AuthContext.Provider value={{login, isLoggedIn, logout}} {...props} />\n    )\n}\n\nfunction useAuth<T = AuthInterface>(): T {\n    const context = React.useContext(AuthContext) as T;\n    if (context === undefined) {\n        throw new Error(`useAuth must be used within a AuthProvider`)\n    }\n    return context\n}\n\nexport {AuthProvider, useAuth};\n","import React from 'react';\nimport Grid from '@material-ui/core/Grid';\nimport {withStyles, Theme} from '@material-ui/core/styles';\nimport FormControl from '@material-ui/core/FormControl';\nimport Input from '@material-ui/core/Input';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport IconButton from '@material-ui/core/IconButton';\nimport Visibility from '@material-ui/icons/Visibility';\nimport VisibilityOff from '@material-ui/icons/VisibilityOff';\nimport Button from '@material-ui/core/Button';\nimport {useAuth} from \"../../../context/authContext\";\nimport Box from '@material-ui/core/Box';\nconst styles = (theme: Theme) => ({\n    form: {\n        height: '100%',\n    },\n    container: {\n        height: '100%',\n    },\n    gridItem: {\n        width: '100%',\n    }\n});\n\ninterface State {\n    password: string;\n    showPassword: boolean;\n}\n\nfunction AuthController(props: any) {\n    const auth = useAuth();\n\n    const [values, setValues] = React.useState<State>({\n        password: '',\n        showPassword: false,\n    });\n\n    const handleChange = (prop: keyof State) => (event: React.ChangeEvent<HTMLInputElement>) => {\n        setValues({ ...values, [prop]: event.target.value });\n    };\n\n    const handleClickShowPassword = () => {\n        setValues({ ...values, showPassword: !values.showPassword });\n    };\n\n    const handleLogin = () => {\n        auth.login(values.password);\n    };\n\n    const {classes} = props;\n\n    return (\n        <form onSubmit={handleLogin} className={classes.form}>\n            <Grid\n                className={classes.container}\n                alignItems=\"center\"\n                justify=\"center\"\n                container\n                direction=\"row\"\n            >\n                <Grid item xs={8} md={3} lg={2}>\n                    <Grid container\n                          alignItems=\"center\"\n                          justify=\"center\"\n                          spacing={2}\n                    >\n                        <Grid item className={classes.gridItem}>\n                            <Box textAlign=\"right\">\n                                <FormControl>\n                                    <InputLabel htmlFor=\"adornment-password\">Password</InputLabel>\n                                    <Input\n                                        id=\"adornment-password\"\n                                        type={values.showPassword ? 'text' : 'password'}\n                                        value={values.password}\n                                        onChange={handleChange('password')}\n                                        autoFocus\n                                        endAdornment={\n                                            <InputAdornment position=\"end\">\n                                                <IconButton aria-label=\"Toggle password visibility\"\n                                                            onClick={handleClickShowPassword}>\n                                                    {values.showPassword ? <Visibility/> : <VisibilityOff/>}\n                                                </IconButton>\n                                            </InputAdornment>\n                                        }\n                                    />\n                                </FormControl>\n                            </Box>\n                        </Grid>\n\n                        <Grid item className={classes.gridItem}>\n                            <Box textAlign=\"right\">\n                                <Button size=\"large\" variant=\"contained\" color=\"primary\" onClick={handleLogin}>Login</Button>\n                            </Box>\n                        </Grid>\n                    </Grid>\n                </Grid>\n            </Grid>\n        </form>\n    );\n}\n\nexport default withStyles(styles, {withTheme: true})(AuthController);\n","export const PLAYER_SET_VIDEO_ELEMENT_AND_START_PLAYING = \"PLAYER_SET_VIDEO_ELEMENT_AND_START_PLAYING\";\nexport const PLAYER_NEXT = \"PLAYER_NEXT\";\nexport const PLAYER_PREVIOUS = \"PLAYER_PREVIOUS\";\nexport const PLAYER_PLAY = \"PLAYER_PLAY\";\nexport const PLAYER_PAUSE = \"PLAYER_PAUSE\";\nexport const PLAYER_TOGGLE_PAUSE_PLAY = \"PLAYER_TOGGLE_PAUSE_PLAY\";\nexport const PLAYER_TOGGLE_PAUSE_PLAY_WITH_ANIMATION = \"PLAYER_TOGGLE_PAUSE_PLAY_WITH_ANIMATION\";\nexport const PLAYER_REWIND_WITH_ANIMATION = \"PLAYER_REWIND_WITH_ANIMATION\";\nexport const PLAYER_FAST_FORWARD_WITH_ANIMATION = \"PLAYER_FAST_FORWARD_WITH_ANIMATION\";\nexport const PLAYER_VOLUME_UP_WITH_ANIMATION = \"PLAYER_VOLUME_UP_WITH_ANIMATION\";\nexport const PLAYER_VOLUME_DOWN_WITH_ANIMATION = \"PLAYER_VOLUME_DOWN_WITH_ANIMATION\";\nexport const PLAYER_SET_AUTOPLAY_ON_OFF = \"PLAYER_TOGGLE_AUTOPLAY\";\nexport const PLAYER_LOAD_PLAYLIST = \"PLAYER_LOAD_PLAYLIST\";\nexport const PLAYER_LOAD_PLAYLIST_AND_START_PLAYING = \"PLAYER_LOAD_PLAYLIST_AND_START_PLAYING\";\nexport const PLAYER_CHANGE_STREAM_QUALITY_INDEX = \"PLAYER_CHANGE_STREAM_QUALITY_INDEX\";\nexport const PLAYER_PLAY_PLAYLIST_ITEM = \"PLAYER_PLAY_PLAYLIST_ITEM\";\nexport const PLAYER_SORT_PLAYLIST_REVERSE_SORT = \"PLAYER_SORT_PLAYLIST_REVERSE_SORT\";\nexport const PLAYER_SORT_PLAYLIST_ASC = \"PLAYER_SORT_PLAYLIST_ASC\";\nexport const PLAYER_SORT_PLAYLIST_DESC = \"PLAYER_SORT_PLAYLIST_DESC\";\nexport const PLAYER_SHUFFLE_ON = \"PLAYER_SHUFFLE_ON\";\nexport const PLAYER_SHUFFLE_OFF = \"PLAYER_SHUFFLE_OFF\";\nexport const PLAYER_LOOP_ON = \"PLAYER_LOOP_ON\";\nexport const PLAYER_LOOP_OFF = \"PLAYER_LOOP_OFF\";\nexport const PLAYER_SET_HIGHEST_QUALITY = \"PLAYER_SET_HIGHEST_QUALITY\";\nexport const PLAYER_SET_LOWEST_QUALITY = \"PLAYER_SET_LOWEST_QUALITY\";\nexport const PLAYER_VIDEO_ELEMENT_DATA_LOADED = \"PLAYER_VIDEO_ELEMENT_DATA_LOADED\";\nexport const PLAYER_UPDATE_NEXT_ITEM_DURATION = \"PLAYER_UPDATE_NEXT_ITEM_DURATION\";\nexport const PLAYER_VIDEO_TIME_UPDATE = \"PLAYER_VIDEO_TIME_UPDATE\";\nexport const PLAYER_TOGGLE_MUTE = \"PLAYER_TOGGLE_MUTE\";\nexport const PLAYER_TOGGLE_MUTE_WITH_ANIMATION = \"PLAYER_TOGGLE_MUTE_WITH_ANIMATION\";\nexport const SELECT_CHANNEL_ARCHIVE = \"SELECT_CHANNEL_ARCHIVE\";\nexport const SELECT_TVSERIES_ARCHIVE = \"SELECT_TVSERIES_ARCHIVE\";\nexport const THEME_SELECT_MODE = \"THEME_SELECT_MODE\";\nexport const THEME_TOGGLE_MODE = \"THEME_TOGGLE_MODE\";\nexport const OPEN_PLAYLIST_MENU = \"OPEN_PLAYLIST_MENU\";\nexport const CLOSE_PLAYLIST_MENU = \"CLOSE_PLAYLIST_MENU\";","import {\n    SELECT_CHANNEL_ARCHIVE,\n    SELECT_TVSERIES_ARCHIVE\n} from \"../app/config/constants/action_types\";\n\nexport function selectSeriesArchive(archive: any) {\n    return {type: SELECT_TVSERIES_ARCHIVE, payload: archive};\n}\n\nexport function selectTVChannelArchive(channelId: string, archive: any) {\n    return {type: SELECT_CHANNEL_ARCHIVE, payload: {channelId: channelId, archive: archive}};\n}\n","import {\n    PLAYER_CHANGE_STREAM_QUALITY_INDEX,\n    PLAYER_LOAD_PLAYLIST,\n    PLAYER_LOAD_PLAYLIST_AND_START_PLAYING,\n    PLAYER_PLAY,\n    PLAYER_NEXT,\n    PLAYER_PLAY_PLAYLIST_ITEM,\n    PLAYER_PREVIOUS,\n    PLAYER_SET_AUTOPLAY_ON_OFF,\n    PLAYER_SET_VIDEO_ELEMENT_AND_START_PLAYING,\n    PLAYER_TOGGLE_MUTE,\n    PLAYER_TOGGLE_MUTE_WITH_ANIMATION,\n    PLAYER_TOGGLE_PAUSE_PLAY,\n    PLAYER_TOGGLE_PAUSE_PLAY_WITH_ANIMATION,\n    PLAYER_SORT_PLAYLIST_REVERSE_SORT,\n    PLAYER_SORT_PLAYLIST_ASC,\n    PLAYER_SORT_PLAYLIST_DESC,\n    PLAYER_SHUFFLE_ON,\n    PLAYER_SHUFFLE_OFF,\n    PLAYER_LOOP_ON,\n    PLAYER_LOOP_OFF,\n    PLAYER_SET_HIGHEST_QUALITY,\n    PLAYER_SET_LOWEST_QUALITY,\n    PLAYER_VIDEO_ELEMENT_DATA_LOADED,\n    PLAYER_UPDATE_NEXT_ITEM_DURATION,\n    PLAYER_VIDEO_TIME_UPDATE,\n    PLAYER_FAST_FORWARD_WITH_ANIMATION,\n    PLAYER_REWIND_WITH_ANIMATION,\n    PLAYER_VOLUME_UP_WITH_ANIMATION, PLAYER_VOLUME_DOWN_WITH_ANIMATION, OPEN_PLAYLIST_MENU, CLOSE_PLAYLIST_MENU,\n} from \"../app/config/constants/action_types\";\nimport PlaylistInterface from \"../service/player/PlaylistInterface\";\nimport PlayableItem from \"../service/player/PlayableItem\";\n\nexport function play() {\n    return {type: PLAYER_PLAY};\n}\n\nexport function next() {\n    return {type: PLAYER_NEXT};\n}\n\nexport function previous() {\n    return {type: PLAYER_PREVIOUS};\n}\n\nexport function togglePlay() {\n    return {type: PLAYER_TOGGLE_PAUSE_PLAY};\n}\n\nexport function togglePlayWithAnimation() {\n    return {type: PLAYER_TOGGLE_PAUSE_PLAY_WITH_ANIMATION};\n}\n\nexport function toggleMute() {\n    return {type: PLAYER_TOGGLE_MUTE};\n}\n\nexport function toggleMuteWithAnimation() {\n    return {type: PLAYER_TOGGLE_MUTE_WITH_ANIMATION};\n}\n\nexport function fastForwardWithAnimation() {\n    return {type: PLAYER_FAST_FORWARD_WITH_ANIMATION};\n}\n\nexport function rewindWithAnimation() {\n    return {type: PLAYER_REWIND_WITH_ANIMATION};\n}\n\nexport function volumeUpWithAnimation() {\n    return {type: PLAYER_VOLUME_UP_WITH_ANIMATION};\n}\n\nexport function volumeDownWithAnimation() {\n    return {type: PLAYER_VOLUME_DOWN_WITH_ANIMATION};\n}\n\nexport function loadPlaylist(playlist: PlaylistInterface) {\n    return {type: PLAYER_LOAD_PLAYLIST, payload: playlist};\n}\n\nexport function loadPlaylistAndStartPlaying(playlist: PlaylistInterface) {\n    return {type: PLAYER_LOAD_PLAYLIST_AND_START_PLAYING, payload: playlist};\n}\n\nexport function setAutoplayOnOff(autoplay: boolean) {\n    return {type: PLAYER_SET_AUTOPLAY_ON_OFF, payload: autoplay};\n}\n\nexport function setVideoElementAndStartPlaying(\n    videoElement: HTMLVideoElement,\n    callbacks?: {\n        ended?: any,\n        loadeddata?: any,\n        timeupdate?: any,\n        togglePlay?: any,\n        toggleMute?: any,\n        fastForward?: any,\n        rewind?: any,\n        volumeUp?: any,\n        volumeDown?: any,\n        reversePlaylistSort?: any,\n    }\n) {\n    return {type: PLAYER_SET_VIDEO_ELEMENT_AND_START_PLAYING, payload: videoElement, callbacks: callbacks};\n}\n\nexport function playPlaylistItem(item: PlayableItem) {\n    return {type: PLAYER_PLAY_PLAYLIST_ITEM, payload: item};\n}\n\nexport function reversePlaylistSort() {\n    return {type: PLAYER_SORT_PLAYLIST_REVERSE_SORT};\n}\n\nexport function sortPlaylistAsc() {\n    return {type: PLAYER_SORT_PLAYLIST_ASC};\n}\n\nexport function sortPlaylistDesc() {\n    return {type: PLAYER_SORT_PLAYLIST_DESC};\n}\n\nexport function openPlaylistMenu(anchorEl: HTMLElement) {\n    return {type: OPEN_PLAYLIST_MENU, payload: anchorEl};\n}\n\nexport function closePlaylistMenu() {\n    return {type: CLOSE_PLAYLIST_MENU};\n}\n\nexport function enableShuffle() {\n    return {type: PLAYER_SHUFFLE_ON};\n}\n\nexport function disableShuffle() {\n    return {type: PLAYER_SHUFFLE_OFF};\n}\n\nexport function enableLoop() {\n    return {type: PLAYER_LOOP_ON};\n}\n\nexport function disableLoop() {\n    return {type: PLAYER_LOOP_OFF};\n}\n\nexport function setStreamQuality(index: number) {\n    return {type: PLAYER_CHANGE_STREAM_QUALITY_INDEX, payload: index};\n}\n\nexport function setVideoHighestQuality() {\n    return {type: PLAYER_SET_HIGHEST_QUALITY};\n}\n\nexport function setVideoLowestQuality() {\n    return {type: PLAYER_SET_LOWEST_QUALITY};\n}\n\nexport function videoElementDataLoaded() {\n    return {type: PLAYER_VIDEO_ELEMENT_DATA_LOADED};\n}\n\nexport function addNextItemDuration(duration: number) {\n    return {type: PLAYER_UPDATE_NEXT_ITEM_DURATION, payload: duration};\n}\n\nexport function videoElementTimeUpdate() {\n    return {type: PLAYER_VIDEO_TIME_UPDATE};\n}","import React from 'react';\nimport clsx from 'clsx';\nimport withStyles from '@material-ui/core/styles/withStyles';\n\nconst styles = theme => ({\n  thumb: {\n    '&$open': {\n      '& $offset': {\n        transform: 'scale(1) translateY(-10px)',\n      },\n    },\n  },\n  open: {},\n  offset: {\n    zIndex: 1,\n    ...theme.typography.body2,\n    fontSize: theme.typography.pxToRem(12),\n    lineHeight: 1.2,\n    transition: theme.transitions.create(['transform'], {\n      duration: theme.transitions.duration.shortest,\n    }),\n    top: -34,\n    left: 'calc(-50% + -4px)',\n    transformOrigin: 'bottom center',\n    transform: 'scale(0)',\n    position: 'absolute',\n  },\n  circle: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    width: 32,\n    height: 32,\n    borderRadius: '50% 50% 50% 0',\n    backgroundColor: 'currentColor',\n    transform: 'rotate(-45deg)',\n  },\n  label: {\n    color: theme.palette.primary.contrastText,\n    transform: 'rotate(45deg)',\n  },\n});\n\n/**\n * @ignore - internal component.\n */\nfunction ValueLabel(props) {\n  const {\n    children,\n    classes,\n    className,\n    index,\n    open,\n    value,\n    valueLabelDisplay,\n    valueLabelFormat,\n  } = props;\n\n  if (valueLabelDisplay === 'off') {\n    return children;\n  }\n\n  return React.cloneElement(\n    children,\n    {\n      className: clsx(\n        children.props.className,\n        {\n          [classes.open]: open || valueLabelDisplay === 'on',\n        },\n        classes.thumb,\n      ),\n    },\n    <span className={clsx(classes.offset, className)}>\n      <span className={classes.circle}>\n        <span className={classes.label}>\n          {typeof valueLabelFormat === 'function'\n            ? valueLabelFormat(value, index)\n            : valueLabelFormat}\n        </span>\n      </span>\n    </span>,\n  );\n}\n\nexport default withStyles(styles, { name: 'PrivateValueLabel' })(ValueLabel);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { chainPropTypes } from '@material-ui/utils';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport useTheme from '@material-ui/core/styles/useTheme';\nimport { fade, lighten } from '@material-ui/core/styles/colorManipulator';\nimport { useIsFocusVisible } from '@material-ui/core/utils/focusVisible';\nimport ownerWindow from '@material-ui/core/utils/ownerWindow';\nimport useEventCallback from '@material-ui/core/utils/useEventCallback';\nimport { useForkRef } from '@material-ui/core/utils/reactHelpers';\nimport ValueLabel from './ValueLabel';\n\nfunction asc(a, b) {\n  return a - b;\n}\n\nfunction clamp(value, min, max) {\n  if (value < min) {\n    return min;\n  }\n  if (value > max) {\n    return max;\n  }\n  return value;\n}\n\nfunction findClosest(values, currentValue) {\n  const { index: closestIndex } = values.reduce((acc, value, index) => {\n    const distance = Math.abs(currentValue - value);\n\n    if (acc === null || distance < acc.distance || distance === acc.distance) {\n      return {\n        distance,\n        index,\n      };\n    }\n\n    return acc;\n  }, null);\n  return closestIndex;\n}\n\nfunction trackFinger(event, touchId) {\n  if (touchId.current !== undefined && event.changedTouches) {\n    for (let i = 0; i < event.changedTouches.length; i += 1) {\n      const touch = event.changedTouches[i];\n      if (touch.identifier === touchId.current) {\n        return {\n          x: touch.pageX,\n          y: touch.pageY,\n        };\n      }\n    }\n\n    return false;\n  }\n\n  return {\n    x: event.pageX,\n    y: event.pageY,\n  };\n}\n\nfunction valueToPercent(value, min, max) {\n  return ((value - min) * 100) / (max - min);\n}\n\nfunction percentToValue(percent, min, max) {\n  return (max - min) * percent + min;\n}\n\nfunction getDecimalPrecision(num) {\n  // This handles the case when num is very small (0.00000001), js will turn this into 1e-8.\n  // When num is bigger than 1 or less than -1 it won't get converted to this notation so it's fine.\n  if (Math.abs(num) < 1) {\n    const parts = num.toExponential().split('e-');\n    const matissaDecimalPart = parts[0].split('.')[1];\n    return (matissaDecimalPart ? matissaDecimalPart.length : 0) + parseInt(parts[1], 10);\n  }\n\n  const decimalPart = num.toString().split('.')[1];\n  return decimalPart ? decimalPart.length : 0;\n}\n\nfunction roundValueToStep(value, step) {\n  const nearest = Math.round(value / step) * step;\n  return Number(nearest.toFixed(getDecimalPrecision(step)));\n}\n\nfunction setValueIndex({ values, source, newValue, index }) {\n  // Performance shortcut\n  if (values[index] === newValue) {\n    return source;\n  }\n\n  const output = [...values];\n  output[index] = newValue;\n  return output;\n}\n\nfunction focusThumb({ sliderRef, activeIndex, setActive }) {\n  if (\n    !sliderRef.current.contains(document.activeElement) ||\n    Number(document.activeElement.getAttribute('data-index')) !== activeIndex\n  ) {\n    sliderRef.current.querySelector(`[data-index=\"${activeIndex}\"]`).focus();\n  }\n\n  if (setActive) {\n    setActive(activeIndex);\n  }\n}\n\nconst axisProps = {\n  horizontal: {\n    offset: percent => ({ left: `${percent}%` }),\n    leap: percent => ({ width: `${percent}%` }),\n  },\n  'horizontal-reverse': {\n    offset: percent => ({ right: `${percent}%` }),\n    leap: percent => ({ width: `${percent}%` }),\n  },\n  vertical: {\n    offset: percent => ({ bottom: `${percent}%` }),\n    leap: percent => ({ height: `${percent}%` }),\n  },\n};\n\nconst defaultMarks = [];\nconst Identity = x => x;\n\nexport const styles = theme => (  {\n  /* Styles applied to the root element. */\n  root: {\n    height: 2,\n    width: '100%',\n    boxSizing: 'content-box',\n    padding: '11px 0',\n    display: 'inline-block',\n    position: 'relative',\n    cursor: 'pointer',\n    touchAction: 'none',\n    color: theme.palette.primary.main,\n    // Remove grey highlight\n    WebkitTapHighlightColor: 'transparent',\n    '&$disabled': {\n      cursor: 'default',\n      color: theme.palette.grey[400],\n    },\n    '&$vertical': {\n      width: 2,\n      height: '100%',\n      padding: '0 11px',\n    },\n  },\n  /* Styles applied to the root element if `marks` is provided with at least one label. */\n  marked: {\n    marginBottom: 20,\n    '&$vertical': {\n      marginBottom: 'auto',\n      marginRight: 20,\n    },\n  },\n  /* Pseudo-class applied to the root element if `orientation=\"vertical\"`. */\n  vertical: {},\n  /* Pseudo-class applied to the root element if `disabled={true}`. */\n  disabled: {},\n  /* Styles applied to the rail element. */\n  rail: {\n    display: 'block',\n    position: 'absolute',\n    width: '100%',\n    height: 2,\n    borderRadius: 1,\n    backgroundColor: 'currentColor',\n    opacity: 0.38,\n    '$vertical &': {\n      height: '100%',\n      width: 2,\n    },\n  },\n  railHover: {\n    transformOrigin: '0',\n    position: 'absolute',\n    width: '100%',\n    height: 2,\n    borderRadius: 1,\n    backgroundColor: 'currentColor',\n    opacity: 1,\n    '$vertical &': {\n      height: '100%',\n      width: 2,\n    },\n  },\n  railHoverTooltip: {\n    position: 'absolute',\n    left: '0px',\n    bottom: '12px',\n    transformOrigin: '0',\n  },\n  railHoverTooltipInner: {\n    marginLeft: '-50%',\n  },\n  /* Styles applied to the track element. */\n  track: {\n    display: 'block',\n    position: 'absolute',\n    height: 2,\n    borderRadius: 1,\n    backgroundColor: 'currentColor',\n    '$vertical &': {\n      width: 2,\n    },\n  },\n  /* Styles applied to the thumb element. */\n  thumb: {\n    position: 'absolute',\n    width: 12,\n    height: 12,\n    marginLeft: -6,\n    marginTop: -5,\n    boxSizing: 'border-box',\n    borderRadius: '50%',\n    outline: 'none',\n    backgroundColor: 'currentColor',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    transition: theme.transitions.create(['box-shadow'], {\n      duration: theme.transitions.duration.shortest,\n    }),\n    '&$focusVisible,&:hover': {\n      boxShadow: `0px 0px 0px 8px ${fade(theme.palette.primary.main, 0.16)}`,\n      '@media (hover: none)': {\n        boxShadow: 'none',\n      },\n    },\n    '&$active': {\n      boxShadow: `0px 0px 0px 14px ${fade(theme.palette.primary.main, 0.16)}`,\n    },\n    '$disabled &': {\n      pointerEvents: 'none',\n      width: 8,\n      height: 8,\n      marginLeft: -4,\n      marginTop: -3,\n      '&:hover': {\n        boxShadow: 'none',\n      },\n    },\n    '$vertical &': {\n      marginLeft: -5,\n      marginBottom: -6,\n    },\n    '$vertical$disabled &': {\n      marginLeft: -3,\n      marginBottom: -4,\n    },\n  },\n  /* Pseudo-class applied to the thumb element if it's active. */\n  active: {},\n  /* Pseudo-class applied to the thumb element if keyboard focused. */\n  focusVisible: {},\n  /* Styles applied to the thumb label element. */\n  valueLabel: {},\n  /* Styles applied to the mark element. */\n  mark: {\n    position: 'absolute',\n    width: 2,\n    height: 2,\n    borderRadius: 1,\n    backgroundColor: 'currentColor',\n  },\n  /* Styles applied to the mark element if active (depending on the value). */\n  markActive: {\n    backgroundColor: lighten(theme.palette.primary.main, 0.76),\n  },\n  /* Styles applied to the mark label element. */\n  markLabel: {\n    ...theme.typography.body2,\n    color: theme.palette.text.secondary,\n    position: 'absolute',\n    top: 22,\n    transform: 'translateX(-50%)',\n    whiteSpace: 'nowrap',\n    '$vertical &': {\n      top: 'auto',\n      left: 22,\n      transform: 'translateY(50%)',\n    },\n  },\n  /* Styles applied to the mark label element if active (depending on the value). */\n  markLabelActive: {\n    color: theme.palette.text.primary,\n  },\n});\n\nconst Slider = React.forwardRef(function Slider(props, ref) {\n  const {\n    'aria-label': ariaLabel,\n    'aria-labelledby': ariaLabelledby,\n    'aria-valuetext': ariaValuetext,\n    classes,\n    className,\n    component: Component = 'span',\n    defaultValue,\n    disabled = false,\n    getAriaValueText,\n    marks: marksProp = defaultMarks,\n    max = 100,\n    min = 0,\n    name,\n    onChange,\n    onChangeCommitted,\n    onMouseDown,\n    orientation = 'horizontal',\n    step = 1,\n    ThumbComponent = 'span',\n    value: valueProp,\n    ValueLabelComponent = ValueLabel,\n    valueLabelDisplay = 'off',\n    valueLabelFormat = Identity,\n    railHoverLabel = false,\n    railHoverLabelFormat = Identity,\n    onMouseOver,\n    onMouseOut,\n    ...other\n  } = props;\n  const theme = useTheme();\n  const { current: isControlled } = React.useRef(valueProp != null);\n  const touchId = React.useRef();\n  // We can't use the :active browser pseudo-classes.\n  // - The active state isn't triggered when clicking on the rail.\n  // - The active state isn't transfered when inversing a range slider.\n  const [active, setActive] = React.useState(-1);\n  const [open, setOpen] = React.useState(-1);\n  const [valueState, setValueState] = React.useState(defaultValue);\n  const valueDerived = isControlled ? valueProp : valueState;\n  const range = Array.isArray(valueDerived);\n  const instanceRef = React.useRef();\n  let values = range ? valueDerived.sort(asc) : [valueDerived];\n  values = values.map(value => clamp(value, min, max));\n  const marks =\n    marksProp === true && step !== null\n      ? [...Array(Math.floor((max - min) / step) + 1)].map((_, index) => ({\n        value: min + step * index,\n      }))\n      : marksProp;\n\n  instanceRef.current = {\n    source: valueDerived, // Keep track of the input value to leverage immutable state comparison.\n  };\n\n  const { isFocusVisible, onBlurVisible, ref: focusVisibleRef } = useIsFocusVisible();\n  const [focusVisible, setFocusVisible] = React.useState(-1);\n\n  const sliderRef = React.useRef();\n  const handleFocusRef = useForkRef(focusVisibleRef, sliderRef);\n  const handleRef = useForkRef(ref, handleFocusRef);\n\n  const handleFocus = useEventCallback(event => {\n    const index = Number(event.currentTarget.getAttribute('data-index'));\n    if (isFocusVisible(event)) {\n      setFocusVisible(index);\n    }\n    setOpen(index);\n  });\n  const handleBlur = useEventCallback(() => {\n    if (focusVisible !== -1) {\n      setFocusVisible(-1);\n      onBlurVisible();\n    }\n    setOpen(-1);\n  });\n  const handleMouseOver = useEventCallback(event => {\n    const index = Number(event.currentTarget.getAttribute('data-index'));\n    setOpen(index);\n  });\n  const handleMouseLeave = useEventCallback(() => {\n    setOpen(-1);\n  });\n\n  const handleKeyDown = useEventCallback(event => {\n    const index = Number(event.currentTarget.getAttribute('data-index'));\n    const value = values[index];\n    const tenPercents = (max - min) / 10;\n    const marksValues = marks.map(mark => mark.value);\n    const marksIndex = marksValues.indexOf(value);\n    let newValue;\n\n    switch (event.key) {\n      case 'Home':\n        newValue = min;\n        break;\n      case 'End':\n        newValue = max;\n        break;\n      case 'PageUp':\n        if (step) {\n          newValue = value + tenPercents;\n        }\n        break;\n      case 'PageDown':\n        if (step) {\n          newValue = value - tenPercents;\n        }\n        break;\n      case 'ArrowRight':\n      case 'ArrowUp':\n        if (step) {\n          newValue = value + step;\n        } else {\n          newValue = marksValues[marksIndex + 1] || marksValues[marksValues.length - 1];\n        }\n        break;\n      case 'ArrowLeft':\n      case 'ArrowDown':\n        if (step) {\n          newValue = value - step;\n        } else {\n          newValue = marksValues[marksIndex - 1] || marksValues[0];\n        }\n        break;\n      default:\n        return;\n    }\n\n    event.preventDefault();\n\n    if (step) {\n      newValue = roundValueToStep(newValue, step);\n    }\n\n    newValue = clamp(newValue, min, max);\n\n    if (range) {\n      const previousValue = newValue;\n      newValue = setValueIndex({\n        values,\n        source: valueDerived,\n        newValue,\n        index,\n      }).sort(asc);\n      focusThumb({ sliderRef, activeIndex: newValue.indexOf(previousValue) });\n    }\n\n    if (!isControlled) {\n      setValueState(newValue);\n    }\n\n    setFocusVisible(index);\n\n    if (onChange) {\n      onChange(event, newValue);\n    }\n    if (onChangeCommitted) {\n      onChangeCommitted(event, newValue);\n    }\n  });\n\n  const previousIndex = React.useRef();\n  let axis = orientation;\n  if (theme.direction === 'rtl' && orientation === 'horizontal') {\n    axis += '-reverse';\n  }\n\n  const getFingerNewValue = React.useCallback(\n    ({ finger, move = false, values: values2, source }) => {\n      const { current: slider } = sliderRef;\n      const { width, height, bottom, left } = slider.getBoundingClientRect();\n      let percent;\n\n      if (axis.indexOf('vertical') === 0) {\n        percent = (bottom + ownerWindow(slider).pageYOffset - finger.y) / height;\n      } else {\n        percent = (finger.x - left - ownerWindow(slider).pageXOffset) / width;\n      }\n\n      if (axis.indexOf('-reverse') !== -1) {\n        percent = 1 - percent;\n      }\n\n      let newValue;\n      newValue = percentToValue(percent, min, max);\n      if (step) {\n        newValue = roundValueToStep(newValue, step);\n      } else {\n        const marksValues = marks.map(mark => mark.value);\n        const closestIndex = findClosest(marksValues, newValue);\n        newValue = marksValues[closestIndex];\n      }\n\n      newValue = clamp(newValue, min, max);\n      let activeIndex = 0;\n\n      if (range) {\n        if (!move) {\n          activeIndex = findClosest(values2, newValue);\n        } else {\n          activeIndex = previousIndex.current;\n        }\n\n        const previousValue = newValue;\n        newValue = setValueIndex({\n          values: values2,\n          source,\n          newValue,\n          index: activeIndex,\n        }).sort(asc);\n        activeIndex = newValue.indexOf(previousValue);\n        previousIndex.current = activeIndex;\n      }\n\n      return { newValue, activeIndex };\n    },\n    [max, min, axis, range, step, marks],\n  );\n\n  const getMouseNewValue = (mouse) => {\n      const { current: slider } = sliderRef;\n      const { width, height, bottom, left } = slider.getBoundingClientRect();\n      let percent;\n\n      if (axis.indexOf('vertical') === 0) {\n        percent = (bottom + ownerWindow(slider).pageYOffset - mouse.y) / height;\n      } else {\n        percent = (mouse.x - left - ownerWindow(slider).pageXOffset) / width;\n      }\n\n      if (axis.indexOf('-reverse') !== -1) {\n        percent = 1 - percent;\n      }\n\n      let newValue;\n      newValue = percentToValue(percent, min, max);\n\n      return newValue;\n    };\n\n  const handleTouchMove = useEventCallback(event => {\n    const finger = trackFinger(event, touchId);\n\n    if (!finger) {\n      return;\n    }\n\n    const { newValue, activeIndex } = getFingerNewValue({\n      finger,\n      move: true,\n      values,\n      source: valueDerived,\n    });\n\n    focusThumb({ sliderRef, activeIndex, setActive });\n    if (!isControlled) {\n      setValueState(newValue);\n    }\n    if (onChange) {\n      onChange(event, newValue);\n    }\n  });\n\n  const handleTouchEnd = useEventCallback(event => {\n    const finger = trackFinger(event, touchId);\n\n    if (!finger) {\n      return;\n    }\n\n    const { newValue } = getFingerNewValue({ finger, values, source: valueDerived });\n\n    setActive(-1);\n    if (event.type === 'touchend') {\n      setOpen(-1);\n    }\n\n    if (onChangeCommitted) {\n      onChangeCommitted(event, newValue);\n    }\n\n    touchId.current = undefined;\n    document.body.removeEventListener('mousemove', handleTouchMove);\n    document.body.removeEventListener('mouseup', handleTouchEnd);\n    // eslint-disable-next-line no-use-before-define\n    document.body.removeEventListener('mouseenter', handleMouseEnter);\n    document.body.removeEventListener('touchmove', handleTouchMove);\n    document.body.removeEventListener('touchend', handleTouchEnd);\n  });\n\n  const handleMouseEnter = useEventCallback(event => {\n    // If the slider was being interacted with but the mouse went off the window\n    // and then re-entered while unclicked then end the interaction.\n    if (event.buttons === 0) {\n      handleTouchEnd(event);\n    }\n  });\n\n  const handleTouchStart = useEventCallback(event => {\n    // Workaround as Safari has partial support for touchAction: 'none'.\n    event.preventDefault();\n    const touch = event.changedTouches[0];\n    if (touch != null) {\n      // A number that uniquely identifies the current finger in the touch session.\n      touchId.current = touch.identifier;\n    }\n    const finger = trackFinger(event, touchId);\n    const { newValue, activeIndex } = getFingerNewValue({ finger, values, source: valueDerived });\n    focusThumb({ sliderRef, activeIndex, setActive });\n\n    if (!isControlled) {\n      setValueState(newValue);\n    }\n    if (onChange) {\n      onChange(event, newValue);\n    }\n\n    document.body.addEventListener('touchmove', handleTouchMove);\n    document.body.addEventListener('touchend', handleTouchEnd);\n  });\n\n  React.useEffect(() => {\n    if (disabled) {\n      return () => {};\n    }\n\n    const { current: slider } = sliderRef;\n    slider.addEventListener('touchstart', handleTouchStart);\n\n    return () => {\n      slider.removeEventListener('touchstart', handleTouchStart);\n      document.body.removeEventListener('mousemove', handleTouchMove);\n      document.body.removeEventListener('mouseup', handleTouchEnd);\n      document.body.removeEventListener('mouseenter', handleMouseEnter);\n      document.body.removeEventListener('touchmove', handleTouchMove);\n      document.body.removeEventListener('touchend', handleTouchEnd);\n    };\n  }, [disabled, handleMouseEnter, handleTouchEnd, handleTouchMove, handleTouchStart]);\n\n  const handleMouseDown = useEventCallback(event => {\n    if (onMouseDown) {\n      onMouseDown(event);\n    }\n\n    if (disabled) {\n      return;\n    }\n\n    event.preventDefault();\n    const finger = trackFinger(event, touchId);\n    const { newValue, activeIndex } = getFingerNewValue({ finger, values, source: valueDerived });\n    focusThumb({ sliderRef, activeIndex, setActive });\n\n    if (!isControlled) {\n      setValueState(newValue);\n    }\n    if (onChange) {\n      onChange(event, newValue);\n    }\n\n    document.body.addEventListener('mousemove', handleTouchMove);\n    document.body.addEventListener('mouseenter', handleMouseEnter);\n    document.body.addEventListener('mouseup', handleTouchEnd);\n  });\n\n  const [railHoverScaleX, setRailHoverScaleX] = React.useState(0);\n  const [railHoverTooltipOpacity, setRailHoverTooltipOpacity] = React.useState(0);\n  const [railHoverTooltipLeft, setRailHoverTooltipLeft] = React.useState(0);\n  const [railHoverTooltipValue, setRailHoverTooltipValue] = React.useState(0);\n  const railHoverStyle = {\n    transform: `scaleX(${railHoverScaleX})`,\n  };\n  const railHoverTooltipStyle = {\n    opacity: `${railHoverTooltipOpacity}`,\n    transform: `translateX(${railHoverTooltipLeft}px)`\n  };\n  const handleSliderMouseOver = (event) => {\n    const parent = event.target.closest(\"div\");\n    const rect = parent.getBoundingClientRect();\n    let left = event.clientX - rect.left; //x position within the element.\n    const scale = left / rect.width;\n    setRailHoverScaleX(scale);\n    setRailHoverTooltipOpacity(1);\n    setRailHoverTooltipLeft(left);\n    let newValue = getMouseNewValue({x: event.clientX, y: event.clientY});\n    if (newValue < 0) {\n      newValue = 0;\n    }\n    setRailHoverTooltipValue(newValue);\n\n    if (onMouseOver) {\n      onMouseOver(event, newValue);\n    }\n  };\n  const handleSliderMouseOut = (event) => {\n    if (onMouseOut) {\n      onMouseOut(event);\n    }\n    setRailHoverScaleX(0);\n    setRailHoverTooltipOpacity(0);\n  };\n  const handleSliderMouseMove = (event) => {\n    const parent = event.target.closest(\"div\");\n    const rect = parent.getBoundingClientRect();\n    const left = event.clientX - rect.left; //x position within the element.\n    const scale = left / rect.width;\n    setRailHoverTooltipLeft(left);\n    setRailHoverScaleX(scale);\n    let newValue = getMouseNewValue({x: event.clientX, y: event.clientY});\n    if (newValue < 0) {\n      newValue = 0;\n    }\n    setRailHoverTooltipValue(newValue);\n  };\n\n  const trackOffset = valueToPercent(range ? values[0] : min, min, max);\n  const trackLeap = valueToPercent(values[values.length - 1], min, max) - trackOffset;\n  const trackStyle = {\n    ...axisProps[axis].offset(trackOffset),\n    ...axisProps[axis].leap(trackLeap),\n  };\n\n  return (\n    <Component\n      ref={handleRef}\n      className={clsx(\n        classes.root,\n        {\n          [classes.disabled]: disabled,\n          [classes.marked]: marks.length > 0 && marks.some(mark => mark.label),\n          [classes.vertical]: orientation === 'vertical',\n        },\n        className,\n      )}\n      onMouseDown={handleMouseDown}\n      onMouseOver={handleSliderMouseOver}\n      onMouseOut={handleSliderMouseOut}\n      onMouseMove={handleSliderMouseMove}\n      {...other}\n    >\n      <span className={classes.rail} />\n      <span\n        style={railHoverStyle}\n        className={classes.railHover}\n      />\n      {railHoverLabel ? (\n        <span\n          style={railHoverTooltipStyle}\n          className={classes.railHoverTooltip}>\n            <span className={classes.railHoverTooltipInner}>\n              {typeof railHoverLabelFormat === 'function'\n                ? railHoverLabelFormat(railHoverTooltipValue)\n                : railHoverTooltipValue}\n            </span>\n        </span>\n      ) : ''}\n      <span className={classes.track} style={trackStyle} />\n      <input value={values.join(',')} name={name} type=\"hidden\" />\n      {marks.map(mark => {\n        const percent = valueToPercent(mark.value, min, max);\n        const style = axisProps[axis].offset(percent);\n        const markActive = range\n          ? mark.value >= values[0] && mark.value <= values[values.length - 1]\n          : mark.value <= values[0];\n\n        return (\n          <React.Fragment key={mark.value}>\n            <span\n              style={style}\n              className={clsx(classes.mark, {\n                [classes.markActive]: markActive,\n              })}\n            />\n            <span\n              style={style}\n              className={clsx(classes.markLabel, {\n                [classes.markLabelActive]: markActive,\n              })}\n            >\n              {mark.label}\n            </span>\n          </React.Fragment>\n        );\n      })}\n      {values.map((value, index) => {\n        const percent = valueToPercent(value, min, max);\n        const style = axisProps[axis].offset(percent);\n\n        return (\n          <ValueLabelComponent\n            key={index}\n            valueLabelFormat={valueLabelFormat}\n            valueLabelDisplay={valueLabelDisplay}\n            className={classes.valueLabel}\n            value={value}\n            index={index}\n            open={open === index || active === index}\n            disabled={disabled}\n          >\n            <ThumbComponent\n              className={clsx(classes.thumb, {\n                [classes.active]: active === index,\n                [classes.focusVisible]: focusVisible === index,\n              })}\n              tabIndex={disabled ? null : 0}\n              role=\"slider\"\n              style={style}\n              data-index={index}\n              aria-label={ariaLabel}\n              aria-labelledby={ariaLabelledby}\n              aria-orientation={orientation}\n              aria-valuemax={max}\n              aria-valuemin={min}\n              aria-valuenow={value}\n              aria-valuetext={getAriaValueText ? getAriaValueText(value, index) : ariaValuetext}\n              onKeyDown={handleKeyDown}\n              onFocus={handleFocus}\n              onBlur={handleBlur}\n              onMouseOver={handleMouseOver}\n              onMouseLeave={handleMouseLeave}\n            />\n          </ValueLabelComponent>\n        );\n      })}\n    </Component>\n  );\n});\n\nSlider.propTypes = {\n  /**\n   * The label of the slider.\n   */\n  'aria-label': PropTypes.string,\n  /**\n   * The id of the element containing a label for the slider.\n   */\n  'aria-labelledby': PropTypes.string,\n  /**\n   * A string value that provides a user-friendly name for the current value of the slider.\n   */\n  'aria-valuetext': chainPropTypes(PropTypes.string, props => {\n    const range = Array.isArray(props.value || props.defaultValue);\n\n    if (range && props['aria-valuetext']) {\n      return new Error(\n        'Material-UI: you need to use the `getAriaValueText` prop instead of `aria-valuetext` when using a range input.',\n      );\n    }\n\n    return null;\n  }),\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object.isRequired,\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n  /**\n   * The component used for the root node.\n   * Either a string to use a DOM element or a component.\n   */\n  component: PropTypes.elementType,\n  /**\n   * The default element value. Use when the component is not controlled.\n   */\n  defaultValue: PropTypes.oneOfType([PropTypes.number, PropTypes.arrayOf(PropTypes.number)]),\n  /**\n   * If `true`, the slider will be disabled.\n   */\n  disabled: PropTypes.bool,\n  /**\n   * Accepts a function which returns a string value that provides a user-friendly name for the current value of the slider.\n   *\n   * @param {number} value The thumb label's value to format\n   * @param {number} index The thumb label's index to format\n   */\n  getAriaValueText: PropTypes.func,\n  /**\n   * Marks indicate predetermined values to which the user can move the slider.\n   * If `true` the marks will be spaced according the value of the `step` prop.\n   * If an array, it should contain objects with `value` and an optional `label` keys.\n   */\n  marks: PropTypes.oneOfType([PropTypes.bool, PropTypes.array]),\n  /**\n   * The maximum allowed value of the slider.\n   * Should not be equal to min.\n   */\n  max: PropTypes.number,\n  /**\n   * The minimum allowed value of the slider.\n   * Should not be equal to max.\n   */\n  min: PropTypes.number,\n  /**\n   * Name attribute of the hidden `input` element.\n   */\n  name: PropTypes.string,\n  /**\n   * Callback function that is fired when the slider's value changed.\n   *\n   * @param {object} event The event source of the callback\n   * @param {any} value The new value\n   */\n  onChange: PropTypes.func,\n  /**\n   * Callback function that is fired when the `mouseup` is triggered.\n   *\n   * @param {object} event The event source of the callback\n   * @param {any} value The new value\n   */\n  onChangeCommitted: PropTypes.func,\n  /**\n   * @ignore\n   */\n  onMouseDown: PropTypes.func,\n  /**\n   * The slider orientation.\n   */\n  orientation: PropTypes.oneOf(['horizontal', 'vertical']),\n  /**\n   * The granularity with which the slider can step through values. (A \"discrete\" slider.)\n   * When step is `null`, the thumb can only be slid onto marks provided with the `marks` prop.\n   */\n  step: PropTypes.number,\n  /**\n   * The component used to display the value label.\n   */\n  ThumbComponent: PropTypes.elementType,\n  /**\n   * The value of the slider.\n   * For ranged sliders, provide an array with two values.\n   */\n  value: PropTypes.oneOfType([PropTypes.number, PropTypes.arrayOf(PropTypes.number)]),\n  /**\n   * The value label componnet.\n   */\n  ValueLabelComponent: PropTypes.elementType,\n  /**\n   * Controls when the value label is displayed:\n   *\n   * - `auto` the value label will display when the thumb is hovered or focused.\n   * - `on` will display persistently.\n   * - `off` will never display.\n   */\n  valueLabelDisplay: PropTypes.oneOf(['on', 'auto', 'off']),\n  /**\n   * The format function the value label's value.\n   *\n   * When a function is provided, it should have the following signature:\n   *\n   * - {number} value The value label's value to format\n   * - {number} index The value label's index to format\n   */\n  valueLabelFormat: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  /**\n   * Whether to display mouse over label with value\n   */\n  railHoverLabel: PropTypes.bool,\n  /**\n   * The format function for the label\n   *\n   * When a function is provided, it should have the following signature:\n   *\n   * - {number} value The value label's value to format\n   * - {number} index The value label's index to format\n   */\n  railHoverLabelFormat: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n};\n\nexport default withStyles(styles, { name: 'MuiSlider' })(Slider);","function isScalar(mixedVar: any): boolean {\n    return (/boolean|number|string/).test(typeof mixedVar);\n}\n\nfunction ucWords(value: string): string {\n    return value.toLowerCase().replace(/\\b[a-z]/g, (letter: string) => letter.toUpperCase());\n}\n\nfunction formatLength(lengthInSeconds: number, index?: number): string {\n    let hours = 0;\n    let minutes = Math.floor(lengthInSeconds / 60);\n\n    if (minutes >=60) {\n        hours = Math.floor(minutes / 60);\n        minutes = minutes - hours * 60;\n    }\n    let seconds = Math.floor(lengthInSeconds - (hours * 60 * 60) - (minutes * 60));\n\n    let secondsStr = String(seconds);\n    if (seconds < 10) {\n        secondsStr = '0' + secondsStr;\n    }\n\n    let minutesStr = String(minutes);\n    if (hours) {\n        if (minutes < 10) {\n            minutesStr = '0' + minutesStr;\n        }\n\n        return `${hours}:${minutesStr}:${secondsStr}`;\n    }\n\n    return `${minutesStr}:${secondsStr}`;\n}\n\nexport {isScalar, ucWords, formatLength};\n","import React from 'react';\nimport {makeStyles} from '@material-ui/core/styles';\nimport {useSelector} from 'react-redux';\nimport Slider from '../../slider/Slider';\nimport {formatLength} from \"../../../helpers/functions\";\n\nconst progressBarStyles = makeStyles({\n    root: {\n        color: 'rgb(255,0,0)',\n        height: '5px',\n        padding: '28px 0 0 0',\n        display: 'block',\n        position: 'absolute',\n        bottom: '33px',\n    },\n    thumb: (props: any) => ({\n        transition: 'transform .1s cubic-bezier(0.4,0.0,1,1)',\n        marginTop: props.hover ? '-3.5px' : '-4.5px',\n        transform: props.hover ? 'none' : 'scale(0)',\n        '&$focusVisible,&:hover': {\n            boxShadow: 'none',\n        },\n        '&$active': {\n            boxShadow: 'none',\n        }\n    }),\n    active: (props: any) => ({\n        boxShadow: 'none',\n    }),\n    focusVisible: (props: any) => ({\n        boxShadow: 'none',\n    }),\n    track:(props: any) => ({\n        height: '5px',\n        transform: props.hover ? '' : 'scaleY(0.6)',\n        transition: 'transform .1s cubic-bezier(0.4,0.0,1,1)',\n        //this could have width transition but only when state is playing so it's smoother\n    }),\n    rail:(props: any) => ({\n        color: 'rgba(255,255,255,.2)',\n        transition: 'transform .1s cubic-bezier(0.4,0.0,1,1)',\n        opacity: 1,\n        height: '5px',\n        transform: props.hover ? '' : 'scaleY(0.6)',\n    }),\n    railHover:(props: any) => ({\n        backgroundColor: props.hover ? 'rgba(255, 255, 255, 0.5)' : 'transparent',\n        height: '5px',\n        transform: props.hover ? '' : 'scaleY(0.6)',\n        transition: 'opacity .25s cubic-bezier(0.0,0.0,0.2,1)',\n    }),\n    railHoverTooltip: {\n        left: '0px',\n        transformOrigin: '0',\n        bottom: '20px',\n        color: 'white',\n        borderRadius: '2px',\n        letterSpacing: '.5px',\n        fontSize: '12px',\n        fontWeight: 'bold',\n        lineHeight: '12px',\n    },\n    railHoverTooltipInner: {\n        padding: '5px 9px',\n        backgroundColor: 'rgba(28,28,28,0.9)',\n        borderRadius: '2px',\n        fontSize: '118%',\n        fontWeight: 'bold',\n        lineHeight: '15px',\n    }\n});\n\n\nfunction StyledSlider(props: any) {\n    const {hover, ...rest} = props;\n    const classes = progressBarStyles(props);\n\n    return <Slider classes={classes} {...rest} />\n}\n\nfunction VideoProgressBar(props: any, ref: any) {\n    const {player} = useSelector((state: any) => ({\n        player: state.player,\n    }));\n    const [isVideoProgressMouseOver, setIsVideoProgressMouseOver] = React.useState<boolean>(false);\n    const videoProgresChange = (event: any, newValue: any) => {\n        player.setProgress(newValue);\n    };\n    const progressBarMouseOut = () => {\n        setIsVideoProgressMouseOver(false);\n    };\n    const progressBarMouseOver = () => {\n        setIsVideoProgressMouseOver(true);\n    };\n\n    const format = (value: number, index : number): string => {\n        return formatLength(player.current().duration * value / 100, index);\n    };\n\n    if (player && player.isLoaded()) {\n        return (\n            <StyledSlider\n                railHoverLabel={true}\n                railHoverLabelFormat={(value: any, index: number) => format(value, index)}\n                hover={isVideoProgressMouseOver}\n                onMouseOver={() => progressBarMouseOver()}\n                onMouseOut={() => progressBarMouseOut()}\n                component=\"div\"\n                value={(player.getCurrentTime() / player.current().duration) * 100}\n                onChange={videoProgresChange}\n                aria-labelledby=\"continuous-slider\"\n            />\n        );\n    }\n\n    return (<div></div>);\n}\n\nexport default VideoProgressBar;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {withStyles, Theme, createStyles} from '@material-ui/core/styles';\nimport Tooltip from '@material-ui/core/Tooltip';\n\nconst styles = (theme: Theme) => createStyles({\n    tooltip: {\n        padding: '5px 9px',\n        backgroundColor: 'rgba(28,28,28,0.9)',\n        borderRadius: '2px',\n        fontSize: '14px',\n        fontWeight: 'bold',\n        lineHeight: '15px',\n    },\n});\n\nfunction StyledTooltip(props: any) {\n    const {classes, children, ...rest} = props;\n\n    return (\n        <Tooltip\n            classes={classes}\n            placement=\"top\"\n            {...rest}\n        >\n            {children}\n        </Tooltip>\n    );\n}\n\nStyledTooltip.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(StyledTooltip);","import React from 'react';\nimport {withStyles, useTheme, Theme, createStyles, makeStyles} from '@material-ui/core/styles';\nimport {useSelector, useDispatch} from 'react-redux';\nimport Slider from '../../slider/Slider';\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener';\nimport VolumeUp from '@material-ui/icons/VolumeUp';\nimport VolumeDown from '@material-ui/icons/VolumeDown';\nimport VolumeOff from '@material-ui/icons/VolumeOff';\nimport Button from '@material-ui/core/Button';\nimport * as ACTIONS from \"../../../actions/player\";\nimport Tooltip from '../../tooltip';\n\nconst progressBarStyles = makeStyles({\n    root: {\n        color: 'rgb(255,255,255)',\n    },\n    thumb: (props: any) => ({\n        '&$focusVisible,&:hover': {\n            boxShadow: 'none',\n        },\n        '&$active': {\n            boxShadow: 'none',\n        }\n    }),\n    active: (props: any) => ({\n        boxShadow: 'none',\n    }),\n    focusVisible: (props: any) => ({\n        boxShadow: 'none',\n    }),\n    railHover: (props: any) => ({\n        display: 'none',\n    }),\n});\n\nfunction StyledSlider(props: any) {\n    const {hover, ...rest} = props;\n    const classes = progressBarStyles(props);\n\n    return <Slider classes={classes} {...rest} />\n}\n\nconst styles = (theme: Theme) => createStyles({\n        volumeControlBar: {},\n        volumeSlider: {\n            root: {\n                color: 'white',\n            },\n            transition: 'opacity .1s cubic-bezier(0.4,0.0,1,1),margin .2s cubic-bezier(0.4,0.0,1,1),width .2s cubic-bezier(0.4,0.0,1,1)',\n            width: '0px',\n            opacity: 0,\n        },\n        volumeSliderVisible: {\n            transition: 'opacity .1s cubic-bezier(0.4,0.0,1,1),margin .2s cubic-bezier(0.4,0.0,1,1),width .2s cubic-bezier(0.4,0.0,1,1)',\n            opacity: 1,\n            width: '52px',\n            marginLeft: '4px',\n            marginRight: '8px',\n        },\n        buttons: {\n            transition: 'opacity .1s cubic-bezier(0.4,0.0,1,1)',\n            opacity: 0.9,\n            minWidth: '20px',\n            verticalAlign: 'initial',\n            color: 'rgb(238, 238, 238)',\n            '&:hover': {\n                opacity: 1,\n                color: \"#fff\",\n            },\n        },\n        tooltip: {\n            padding: '5px 9px',\n            backgroundColor: 'rgba(28,28,28,0.9)',\n            borderRadius: '2px',\n            fontSize: '14px',\n            fontWeight: 'bold',\n            lineHeight: '15px',\n        }\n    }\n);\n\nfunction VolumeControls(props: any, ref: any) {\n    const dispatch = useDispatch();\n\n    const {player} = useSelector((state: any) => ({\n        player: state.player,\n    }));\n\n    const volumeChange = (event: any, newValue: any) => {\n        player.setVolume(newValue / 100);\n    };\n    const [isVolumeMouseOver, setIsVolumeMouseOver] = React.useState<boolean>(false);\n    const [isVolumeMouseDown, setIsVolumeMouseDown] = React.useState<boolean>(false);\n    const volumeMouseOver = (event: MouseEvent, value: boolean) => {\n        setIsVolumeMouseOver(value);\n    };\n    const volumeMouseDown = (event: MouseEvent, value: boolean) => {\n        setIsVolumeMouseDown(value);\n    };\n    const hideVolumeSlider = () => {\n        setIsVolumeMouseOver(false);\n        setIsVolumeMouseDown(false);\n    };\n    const toggleMute = () => {\n        dispatch(ACTIONS.toggleMute());\n    };\n    const shouldShowVolumeSlider = () => isVolumeMouseOver || isVolumeMouseDown;\n\n    const {classes} = props;\n\n\n    return (\n        <ClickAwayListener onClickAway={hideVolumeSlider}>\n            <span\n                onMouseOver={(event: any) => volumeMouseOver(event, true)}\n                onMouseOut={(event: any) => volumeMouseOver(event, false)}\n                className={classes.volumeControlBar}>\n                <Tooltip title={player.isMuted() ? 'Unmute (m)' : 'Mute (m)'}>\n                    <Button\n                        size=\"small\"\n                        className={classes.buttons}\n                        style={{backgroundColor: 'transparent'}}\n                        onClick={toggleMute}\n                    >\n                        {player.isMuted() ? (\n                            <VolumeOff/>\n                        ) : (player.getVolume() > 0.5 ? (<VolumeUp\n                            className={classes.buttons}/>) : (<VolumeDown\n                            className={classes.buttons}/>))}\n\n                    </Button>\n                </Tooltip>\n                <StyledSlider\n                    onMouseDown={(event: any) => volumeMouseDown(event, true)}\n                    onMouseUp={(event: any) => volumeMouseDown(event, false)}\n                    className={shouldShowVolumeSlider() ? classes.volumeSliderVisible : classes.volumeSlider}\n                    value={player.getVolume() * 100}\n                    onChange={volumeChange} aria-labelledby=\"continuous-slider\"\n                />\n            </span>\n        </ClickAwayListener>\n    );\n}\n\nexport default withStyles(styles)(VolumeControls);","import React, {useState} from 'react';\nimport './index.css';\nimport Cast from '@material-ui/icons/Cast';\nimport Button from '@material-ui/core/Button';\n\nexport default class GoogleCastButton extends React.Component<any, any> {\n\n    private _ref: React.RefObject<HTMLElement>;\n\n    constructor(props: any) {\n        super(props);\n        this._ref = React.createRef();\n    }\n\n    componentWillUnmount() {\n        this._ref.current!.remove();\n        // this._ref.current!.dispose() // <-- error throws here\n    }\n\n    render() {\n        const props = {\n            ref: this._ref,\n            style: {\n                'transition': 'opacity .1s cubic-bezier(0.4,0.0,1,1)',\n                'width': '23px',\n                'height': '23px',\n                'marginLeft': '8px',\n                'marginRight': '8px',\n                'fontSize': '1.5rem',\n                'display': 'inline-block',\n                '--disconnected-color': 'rgb(238, 238, 238)',\n                '--connected-color': 'rgb(62, 166, 255)',\n            }\n        };\n        //\n        // if (this.props.disabled) {\n        //     return (\n        //         <Button\n        //             disabled={true}\n        //             size=\"small\"\n        //             style={{backgroundColor: 'transparent', verticalAlign: 'initial'}}\n        //         >\n        //             <Cast />\n        //         </Button>\n        //     );\n        // }\n\n        return (\n            //@ts-ignore\n            <google-cast-launcher {...props} />\n        );\n    }\n}","import React from 'react';\nimport {withStyles, useTheme, Theme, createStyles} from '@material-ui/core/styles';\nimport PlayArrow from '@material-ui/icons/PlayArrow';\nimport Pause from '@material-ui/icons/Pause';\nimport SkipNext from '@material-ui/icons/SkipNext';\nimport Settings from '@material-ui/icons/Settings';\nimport Fullscreen from '@material-ui/icons/Fullscreen';\nimport * as ACTIONS from \"../../../actions/player\";\nimport Button from '@material-ui/core/Button';\nimport {useSelector, useDispatch} from 'react-redux';\nimport VideoProgressBar from \"./videoProgressBar\";\nimport VolumeControls from \"./volumeControls\";\nimport GoogleCastButton from \"./castButton\";\nimport {formatLength} from \"../../../helpers/functions\";\nimport Player from \"../../../service/player/Player\";\nimport Tooltip from '../../tooltip';\nimport GetApp from '@material-ui/icons/GetApp';\nconst fileDownload = require('js-file-download');\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\n\nconst styles = (theme: Theme) => createStyles({\n        root: {\n            position: 'absolute',\n            bottom: '0px',\n            left: '12px',\n            height: '36px',\n            zIndex: 1000,\n            padding: '0px',\n            // transition: 'opacity .1s cubic-bezier(0.4,0.0,1,1)',\n            opacity: 0,\n        },\n        gradientBottom: {\n            opacity: 0,\n            height: '36px',\n            margin: '-41px 0px 0px 0px',\n            zIndex: 22,\n            backgroundPosition: 'bottom',\n            width: '100%',\n            position: 'absolute',\n            backgroundRepeat: 'repeat-x',\n            backgroundImage: 'url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAADGCAYAAAAT+OqFAAAAdklEQVQoz42QQQ7AIAgEF/T/D+kbq/RWAlnQyyazA4aoAB4FsBSA/bFjuF1EOL7VbrIrBuusmrt4ZZORfb6ehbWdnRHEIiITaEUKa5EJqUakRSaEYBJSCY2dEstQY7AuxahwXFrvZmWl2rh4JZ07z9dLtesfNj5q0FU3A5ObbwAAAABJRU5ErkJggg==)',\n            transition: 'opacity .25s cubic-bezier(0.0,0.0,0.2,1)',\n            pointerEvents: 'none',\n        },\n        hover: {\n            opacity: 1,\n        },\n        buttons: {\n            transition: 'opacity .1s cubic-bezier(0.4,0.0,1,1)',\n            opacity: 0.9,\n            minWidth: '20px',\n            verticalAlign: 'initial',\n            color: 'rgb(238, 238, 238)',\n            '&:hover': {\n                opacity: 1,\n                color: \"#fff\",\n            },\n            marginTop: '1px',\n        },\n        hdBadge: {\n            '&::after': {\n                backgroundImage: 'url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMTAwJSIgdmVyc2lvbj0iMS4xIiB2aWV3Qm94PSIwIDAgMTMgOSIgd2lkdGg9IjEwMCUiPjxwYXRoIGQ9Ik01LDcgTDYsNyBMNiw4IEw1LDggTDUsNyBaIE0xMCwzIEwxMCw0IEw4LDQgTDgsMyBMMTAsMyBaIE0zLDYgTDMsNSBMNSw1IEw1LDYgTDMsNiBaIE0yLDcgTDMsNyBMMyw4IEwyLDggTDIsNyBaIE03LDcgTDEwLDcgTDEwLDggTDcsOCBMNyw3IFogTTEwLDYgTDExLDYgTDExLDcgTDEwLDcgTDEwLDYgWiIgZmlsbD0iIzAwMCIgZmlsbC1vcGFjaXR5PSIwLjY0NzEiIGZpbGwtcnVsZT0iZXZlbm9kZCIgLz48cGF0aCBkPSJNNSw3IEw1LDYgTDUsNSBMMyw1IEwzLDYgTDMsNyBMMiw3IEwyLDIgTDMsMiBMMyw0IEw1LDQgTDUsMiBMNiwyIEw2LDcgTDUsNyBaIE0xMSw2IEwxMCw2IEwxMCw3IEw3LDcgTDcsMiBMMTAsMiBMMTAsMyBMMTEsMyBMMTEsNiBaIE0xMCw0IEwxMCwzIEw4LDMgTDgsNCBMOCw2IEwxMCw2IEwxMCw0IFoiIGZpbGw9IiNmZmYiIGZpbGwtcnVsZT0iZXZlbm9kZCIgLz48L3N2Zz4=)',\n                content: \"''\",\n                position: 'absolute',\n                top: '7px',\n                right: '5px',\n                height: '9px',\n                width: '13px',\n                backgroundColor: 'red',\n                borderRadius: '1px',\n            }\n        },\n        timeDisplay: {\n            position: 'absolute',\n            top: '6px',\n            display: 'inline-block',\n            verticalAlign: 'middle',\n            padding: '0 5px',\n            lineHeight: '24px',\n            fontSize: '13px',\n            textShadow: '0 0 2px rgba(0,0,0,.5)',\n            color: 'rgb(238, 238, 238)',\n        },\n        leftControls: {\n            height: '100%',\n            float: 'left',\n        },\n        rightControls: {\n            height: '100%',\n            float: 'right',\n            marginTop: '-1px',\n        },\n        timeCurrent: {},\n        timeSeparator: {},\n        timeDuration: {},\n    }\n);\n\nfunction MediaControls(props: any, ref: any) {\n    const dispatch = useDispatch();\n    const theme = useTheme();\n\n    const {player, archive} = useSelector<{ player: Player, selectedTVSeriesArchive: any }, { player: Player, archive: any }>((state) => ({\n        player: state.player,\n        archive: state.selectedTVSeriesArchive,\n    }));\n\n    const {classes} = props;\n\n    function showControls(): boolean {\n        return player.isCasting || props.isHover || !player.isPlaying();\n    }\n\n    const requestFullScreenVideo = () => {\n        player.requestFullScreen();\n    };\n\n    const mdUp = useMediaQuery(theme.breakpoints.up('md'));\n    //todo fix this whole thing\n    function download(url: string): void {\n        const m = url.match(/\\.[0-9a-z]+$/i);\n        if (m && m[0]) {\n            const title = archive.name;\n            let seriesNumber = String(props.selectedSeasonIndex + 1);\n            if (props.selectedSeasonIndex + 1) {\n                seriesNumber = '0' + seriesNumber;\n            }\n            const series = `S${seriesNumber}`;\n            const meta = player.current().meta as any;\n            let episodeNumber = String(meta.episodeNumber);\n            if (meta.episodeNumber < 9) {\n                episodeNumber = '0' + episodeNumber;\n            }\n            const episode = `E${episodeNumber}`;\n            const ext = m[0];\n            const filename = title + '_' + series + episode + '_' + player.isHighQualitySelected() ? 'hd' : '' + ext;\n\n            if (mdUp) {\n                fileDownload(\n                    url,\n                    filename\n                );\n            } else {\n                window.open(url, '_blank');\n            }\n        }\n    }\n\n    if (player && player.isLoaded()) {\n        return (\n            <React.Fragment>\n                <div\n                    className={showControls() ? `${classes.gradientBottom} ${classes.hover}` : classes.gradientBottom}></div>\n                <div\n                    style={{width: `${parseInt(player.getVideoElementWidth()) - 24}px`}}\n                    className={showControls() ? `${classes.root} ${classes.hover}` : classes.root}\n                >\n                    <VideoProgressBar/>\n\n                    <Tooltip\n                        title={player.isPlaying() ? 'Pause (k)' : 'Play (k)'}\n                    >\n                        <Button\n                            size=\"small\"\n                            className={classes.buttons}\n                            style={{backgroundColor: 'transparent'}}\n                            onClick={() => dispatch(ACTIONS.togglePlay())}\n                        >\n                            {player.isPlaying() ? (\n                                <Pause\n                                    className={classes.buttons}\n\n                                />\n                            ) : (\n                                <PlayArrow\n                                    className={classes.buttons}\n                                />\n                            )}\n                        </Button>\n                    </Tooltip>\n                    <Tooltip\n                        title=\"Next (n)\"\n                    >\n                        <Button\n                            size=\"small\"\n                            className={classes.buttons}\n                            style={{backgroundColor: 'transparent'}}\n                            onClick={() => dispatch(ACTIONS.next())}\n                        >\n                            <SkipNext\n                                className={classes.buttons}\n                            />\n                        </Button>\n                    </Tooltip>\n\n                    <VolumeControls/>\n\n                    <div className={classes.timeDisplay}>\n                        <span className={classes.timeCurrent}>\n                            {formatLength(player.getCurrentTime())}\n                        </span>\n                        <span className={classes.timeSeparator}>&nbsp;/&nbsp;</span>\n                        <span className={classes.timeDuration}>\n                            {formatLength(player.current().duration)}\n                        </span>\n                    </div>\n\n                    <div className={classes.rightControls}>\n                        <Tooltip\n                            title={player.isHighQualitySelected() ? \"Low quality (h)\" : \"High quality(h)\"}\n                        >\n                            <Button\n                                size=\"small\"\n                                className={player.isHighQualitySelected() ? `${classes.buttons} ${classes.hdBadge}` : `${classes.buttons}`}\n                                style={{backgroundColor: 'transparent'}}\n                                onClick={() => dispatch(player.isHighQualitySelected() ? ACTIONS.setVideoLowestQuality() : ACTIONS.setVideoHighestQuality())}\n                            >\n                                <Settings\n                                    className={classes.buttons}\n                                />\n                            </Button>\n                        </Tooltip>\n\n                        <Tooltip\n                            title=\"Download (d)\"\n                        >\n                            <Button\n                                className={classes.buttons}\n                                style={{backgroundColor: 'transparent'}}\n                                size=\"small\"\n                                onClick={() => download(player.currentStream())}\n                            >\n                                <GetApp\n                                    className={classes.buttons}\n                                />\n                            </Button>\n                        </Tooltip>\n\n                        {player.canCast ? (\n                          <Tooltip\n                            title=\"Cast (c)\"\n                          >\n                            <GoogleCastButton\n                                disabled={!player.canCast}\n                            />\n                          </Tooltip>\n                        ) : ''}\n\n                        <Tooltip\n                            title=\"Full screen (f)\"\n                        >\n                        <Button\n                            disabled={!player.isFullScreenAvailable()}\n                            onClick={() => requestFullScreenVideo()}\n                            size=\"medium\"\n                            className={classes.buttons}\n                            style={{backgroundColor: 'transparent'}}\n                        >\n                            <Fullscreen\n                                className={classes.buttons}\n                            />\n                        </Button>\n                        </Tooltip>\n                    </div>\n                </div>\n            </React.Fragment>\n        );\n    }\n\n    return (<div></div>);\n}\n\nexport default withStyles(styles)(MediaControls);\n","import React from 'react';\nimport {makeStyles} from '@material-ui/core/styles';\nimport Transition from \"react-transition-group/Transition\";\n\nconst fadeInUp = \"fade-in\";\n\nconst useStyles = makeStyles({\n    root: {\n        position: 'absolute',\n        top: '50%',\n        left: '50%',\n        width: '52px',\n        height: '52px',\n        marginLeft: '-26px',\n        marginTop: '-26px',\n        backgroundColor: 'rgba(0,0,0,.5)',\n        borderRadius: '26px',\n    },\n    icon: {\n        width: '36px',\n        height: '36px',\n        margin: '14px',\n        display: 'block',\n        color: 'white',\n    },\n    transitionGroup: {\n        position: \"absolute\",\n        width: \"100%\",\n        height: \"100%\",\n    },\n    \"fadeIn-entered\": {\n        display: \"none\",\n    },\n    \"fadeIn-entering\": {\n        top: '50%',\n        left: '50%',\n        animation: `$${fadeInUp} .5s linear 1 normal forwards`,\n        position: \"absolute\",\n    },\n    \"fadeIn-exiting\": {\n        top: '50%',\n        left: '50%',\n        animation: `$${fadeInUp} .5s linear 1 normal forwards`,\n        position: \"absolute\",\n    },\n    \"fadeIn-exited\": {\n        display: \"none\",\n    },\n    [`@keyframes ${fadeInUp}`]: {\n        from: {\n            opacity: 1,\n            transform: 'translateY(-50%)'\n        },\n        to: {\n            opacity: 0,\n            transform: 'scale(2)'\n        }\n    },\n});\n\nfunction Index(props: any) {\n    const classes = useStyles();\n    const {animate, children, ...rest} = props;\n\n    return (\n        <Transition\n            {...rest} in={animate} timeout={500}>\n            {state => {\n                return (<div className={classes[`fadeIn-${state}`] || \"\"}>\n                    <div className={classes.root}>\n                        <div className={classes.icon}>\n                            {children}\n                        </div>\n                    </div>\n                </div>);\n            }}\n        </Transition>\n    );\n}\n\nexport default Index;\n","import React, {useEffect, useState} from 'react';\nimport {makeStyles} from '@material-ui/core/styles';\nimport Transition from \"react-transition-group/Transition\";\n\nconst fadeInUp = \"fade-in\";\n\nconst useStyles = makeStyles({\n    root: {\n        fontSize: '11px',//todo should be set in player root\n        position: 'absolute',\n        top: '10%',\n        left: '0%',\n        right: '0%',\n        textAlign: 'center',\n    },\n    inner: {\n        display: 'inline-block',\n        padding: '10px 20px',\n        fontSize: '175%',\n        backgroundColor: 'rgba(0,0,0,.5)',\n        pointerEvents: 'none',\n        borderRadius: '3px',\n    },\n    transitionGroup: {\n        position: \"absolute\",\n        width: \"100%\",\n        height: \"100%\",\n    },\n    \"fadeIn-entered\": {\n        display: \"none\",\n    },\n    \"fadeIn-exited\": {\n        display: \"none\",\n    },\n    [`@keyframes ${fadeInUp}`]: {\n    },\n});\n\nfunction VolumeLabel(props: any) {\n    const classes = useStyles();\n    const {animate, children, ...rest} = props;\n\n    return (\n        <Transition\n            {...rest} in={animate} timeout={500}>\n            {state => {\n                return (<div className={classes[`fadeIn-${state}`] || \"\"}>\n                    <div className={classes.root}>\n                        <div className={classes.inner}>\n                            {children}\n                        </div>\n                    </div>\n                </div>);\n            }}\n        </Transition>\n    );\n}\n\nexport default VolumeLabel;\n","import React, {useEffect, useRef, useState} from 'react';\nimport Box from '@material-ui/core/Box';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport Divider from '@material-ui/core/Divider';\nimport {useSelector, useDispatch} from 'react-redux';\nimport * as ACTIONS from \"../../actions/player\";\nimport Hidden from '@material-ui/core/Hidden';\nimport PlayerInterface from \"../../service/player/PlayerInterface\";\nimport MediaControls from \"./mediaControls\";\nimport Ripple from \"../ripple\";\nimport Pause from '@material-ui/icons/Pause';\nimport PlayArrow from '@material-ui/icons/PlayArrow';\nimport VolumeUp from '@material-ui/icons/VolumeUp';\nimport VolumeDown from '@material-ui/icons/VolumeDown';\nimport VolumeOff from '@material-ui/icons/VolumeOff';\nimport Forward5 from '@material-ui/icons/Forward5';\nimport Rewind5 from '@material-ui/icons/Replay5';\nimport VolumeLabel from \"./mediaControls/volumeLabel\";\n\nfunction Player(props: any, ref: any) {\n    const dispatch = useDispatch();\n    let playerRef = useRef<HTMLVideoElement>(null);\n\n    type stateInterface = {\n        animateFastForward: boolean,\n        animateRewind: boolean,\n        animateMute: boolean,\n        animatePausePlay: boolean,\n        animateVolumeUp: boolean,\n        animateVolumeDown: boolean,\n        animateVolumeLabel: boolean,\n        player: PlayerInterface\n    };\n\n    const {\n        animateFastForward,\n        animateRewind,\n        animateMute,\n        animatePausePlay,\n        animateVolumeUp,\n        animateVolumeDown,\n        animateVolumeLabel,\n        player,\n    } = useSelector<stateInterface, stateInterface>((state) => ({\n        player: state.player,\n        animatePausePlay: state.animatePausePlay,\n        animateMute: state.animateMute,\n        animateFastForward: state.animateFastForward,\n        animateRewind: state.animateRewind,\n        animateVolumeUp: state.animateVolumeUp,\n        animateVolumeDown: state.animateVolumeDown,\n        animateVolumeLabel: state.animateVolumeLabel,\n    }));\n\n    const [isHover, setIsHover] = useState<boolean>(false);\n\n    const playNextTrigger = () => {\n        dispatch(ACTIONS.next());\n    };\n\n    const dataLoaded = () => {\n        //this is not in store it just triggers react to rerender\n        dispatch(ACTIONS.videoElementDataLoaded());\n    };\n\n    const timeupdate = () => {\n        //this is not in store it just triggers react to rerender\n        dispatch(ACTIONS.videoElementTimeUpdate());\n    };\n\n    const togglePlay = (event: any) => {\n        dispatch(ACTIONS.togglePlayWithAnimation());\n    };\n\n    const toggleMute = (event: any) => {\n        dispatch(ACTIONS.toggleMuteWithAnimation());\n    };\n\n    const fastForward = (event: any) => {\n        dispatch(ACTIONS.fastForwardWithAnimation());\n    };\n\n    const rewind = (event: any) => {\n        dispatch(ACTIONS.rewindWithAnimation());\n    };\n\n    const volumeUp = (event: any) => {\n        dispatch(ACTIONS.volumeUpWithAnimation());\n    };\n\n    const volumeDown = (event: any) => {\n        dispatch(ACTIONS.volumeDownWithAnimation());\n    };\n\n    const reversePlaylistSort = (event: any) => {\n        dispatch(ACTIONS.reversePlaylistSort());\n    };\n\n    useEffect(() => {\n        if (player && player.current()) {\n            document.title = player.current().subtitle;\n        }\n    }, [player && player.current()]);\n\n    useEffect(() => {\n        if (playerRef && playerRef.current) {\n            dispatch(ACTIONS.setVideoElementAndStartPlaying(playerRef.current, {\n                ended: playNextTrigger,\n                loadeddata: dataLoaded,\n                timeupdate: timeupdate,\n                togglePlay: togglePlay,\n                toggleMute: toggleMute,\n                fastForward: fastForward,\n                rewind: rewind,\n                volumeUp: volumeUp,\n                volumeDown: volumeDown,\n                reversePlaylistSort: reversePlaylistSort,\n            }));\n        }\n    }, [player]);\n\n    return (\n        <React.Fragment>\n            <div\n                style={{height: '100%', position: 'relative'}}\n                onMouseOver={() => setIsHover(true)}\n                onMouseOut={() => setIsHover(false)}\n            >\n                {player.isLoaded() ? (\n                    <div\n                        onClick={(event: any) => togglePlay(event)}\n                        style={{width: '100%', height: 'calc(100% - 36px)', zIndex: 99, position: 'absolute'}}\n                    >\n                        <Ripple\n                            animate={animatePausePlay}\n                        >\n                            {player.isPlaying() ? (<PlayArrow/>) : (<Pause/>)}\n                        </Ripple>\n                        <Ripple\n                            animate={animateMute}\n                        >\n                            {player.isMuted() ? (<VolumeOff/>) : (<VolumeUp/>)}\n                        </Ripple>\n                        <Ripple\n                            animate={animateFastForward}\n                        >\n                            <Forward5/>\n                        </Ripple>\n                        <Ripple\n                            animate={animateRewind}\n                        >\n                            <Rewind5/>\n                        </Ripple>\n\n                        <Ripple\n                            animate={animateVolumeUp}\n                        >\n                            <VolumeUp/>\n                        </Ripple>\n\n                        <Ripple\n                            animate={animateVolumeDown}\n                        >\n                            <VolumeDown/>\n                        </Ripple>\n\n                        <VolumeLabel\n                            animate={animateVolumeLabel}\n                        >\n                            {player.getVolume() * 100}%\n                        </VolumeLabel>\n                    </div>\n                ) : ''}\n                <video\n                    ref={playerRef} width=\"100%\" height=\"100%\"/>\n                <MediaControls isHover={isHover}/>\n            </div>\n            {player && player.current() && (\n                <Hidden smDown>\n                    <Box>\n                        <Grid container spacing={2}\n                              direction=\"row\"\n                              justify=\"space-between\"\n                              alignItems=\"flex-start\">\n\n                            <Grid item>\n                                <Typography variant=\"h6\" component=\"h1\">{player.current().title}</Typography>\n                                <Typography variant={'caption'} component=\"p\">{player.current().subtitle}</Typography>\n                            </Grid>\n\n                        </Grid>\n                        <Box mt={1} mb={1}>\n                            <Divider variant=\"fullWidth\"/>\n                        </Box>\n                    </Box>\n                </Hidden>\n            )}\n        </React.Fragment>\n    );\n}\n\nexport default Player;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {withStyles, useTheme, Theme, createStyles} from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardActionArea from '@material-ui/core/CardActionArea';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport Typography from '@material-ui/core/Typography';\nimport Grid from '@material-ui/core/Grid';\nimport Box from '@material-ui/core/Box';\nimport PlayArrow from '@material-ui/icons/PlayArrow';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport ReactTimeAgo from 'react-time-ago';\nimport PlayerInterface from \"../../service/player/PlayerInterface\";\nimport {useSelector} from 'react-redux';\nimport {formatLength} from '../../helpers/functions';\n\nconst styles = (theme: Theme) => createStyles({\n    card: {\n        backgroundColor: 'transparent',\n        paddingBottom: '12px',\n        [theme.breakpoints.down('sm')]: {\n            padding: '12px',\n        },\n    },\n    notSelectedCard: {\n        [theme.breakpoints.down('sm')]: {\n            marginBottom: '-12px',\n        }\n    },\n    selectedCard: {\n        [theme.breakpoints.down('sm')]: {\n            backgroundColor: 'hsla(0,0%,53.3%,.8)',\n        },\n    },\n    selectedCardMarginTop: {\n        [theme.breakpoints.down('sm')]: {\n            marginTop: '12px',\n        },\n    },\n    media: {\n        [theme.breakpoints.down('sm')]: {\n            height: '90px',\n        },\n        [theme.breakpoints.up('md')]: {\n            height: '94px',\n        },\n        position: 'relative',\n    },\n    detail: {\n        height: '90px',\n        padding: '0 8px',\n        '&:last-child': {\n            paddingBottom: 0,\n        }\n    },\n    text: {\n        height: '100%',\n    },\n    headline: {\n        fontSize: '14px',\n        lineHeight: '16px',\n        maxHeight: '32px',\n        overflow: 'hidden',\n        fontWeight: 'bold',\n        marginBottom: '4px',\n    },\n    subhead: {\n        fontSize: '13px',\n    },\n    dateAdded: {\n        fontSize: '12px',\n        opacity: .6,\n    },\n    playlistPosition: {\n        position: 'absolute',\n        left: '-24px',\n        top: '42px',\n        width: '24px',\n        textAlign: 'center',\n        fontSize: '12px',\n    },\n    playlistPositionNumberWidth: {\n        [theme.breakpoints.down('sm')]: {\n            paddingLeft: '0',\n        },\n        [theme.breakpoints.up('md')]: {\n            paddingLeft: '24px',\n        },\n    },\n    playlistPositionArrow: {\n        fontSize: '16px',\n        color: theme.palette.type === 'dark' ? theme.palette.primary.main : theme.palette.text.hint\n    },\n    playlistPositionNumber: {\n        color: theme.palette.type === 'dark' ? 'hsl(0, 0%, 53.3%)' : theme.palette.text.secondary\n    },\n    itemLength: {\n        position: 'absolute',\n        bottom: 0,\n        right: 0,\n        padding: '2px 4px',\n        margin: '4px',\n        backgroundColor: 'rgba(0, 0, 0, 0.80)',\n        color: 'white',\n        borderRadius: '2px',\n        letterSpacing: '.5px',\n        fontSize: '12px',\n        fontWeight: 'bold',\n        lineHeight: '12px',\n    }\n});\n\nfunction PlaylistItem(props: any) {\n    const {player} = useSelector<{ player: PlayerInterface }, { player: PlayerInterface }>((state) => ({\n        player: state.player,\n    }));\n    const {classes, episode, itemClick} = props;\n\n    const theme = useTheme();\n    const mdUp = useMediaQuery(theme.breakpoints.up('md'));\n\n    let imageQuality = 'r320x240';\n    if (player.isHighQualitySelected()) {\n        imageQuality = 'r640x480';\n    }\n    return (\n        <Box width=\"100%\" className={props.isPlaying && props.playlistPosition > 1 ? classes.selectedCardMarginTop : ''} >\n            <Box width=\"100%\" className={props.isPlaying ? classes.selectedCard : classes.notSelectedCard}>\n                <Card className={classes.card} onClick={itemClick} square elevation={0}>\n                    <CardActionArea>\n                        <Grid container\n                              direction=\"row\"\n                              justify=\"space-between\"\n                              alignItems=\"flex-start\">\n\n                            <Grid item xs={6} sm={3} md={5}>\n                                <Box className={classes.playlistPositionNumberWidth}>\n                                    <CardMedia\n                                        className={classes.media}\n                                        image={episode.image.replace(/\\/[r]?[0-9]+x?[0-9]?[n]?\\/?/, `/${imageQuality}/`)}\n                                        title={episode.title}\n\n                                    >\n                                        {mdUp && props.playlistPosition && (\n                                            <Box className={classes.playlistPosition}>\n                                                {props.isPlaying ? (\n                                                    <PlayArrow className={classes.playlistPositionArrow}/>\n                                                ) : (\n                                                    <Box className={classes.playlistPositionNumber}>{props.playlistPosition}</Box>\n                                                )}\n                                            </Box>\n                                        )}\n\n                                        {episode.duration ? (\n                                            <Typography variant={'caption'} component=\"span\">\n                                                <Box className={classes.itemLength}>\n                                                    {formatLength(episode.duration)}\n                                                </Box>\n                                            </Typography>\n                                        ) : ''}\n\n                                    </CardMedia>\n                                </Box>\n                            </Grid>\n\n                            <Grid item xs={6} sm={9} md={7} className={classes.media}>\n                                <CardContent className={classes.detail}>\n                                    <Grid\n                                        className={classes.text}\n                                        container\n                                        direction=\"column\"\n                                    >\n                                        <Grid item>\n                                            <Typography className={classes.headline} variant=\"subtitle2\" component=\"h4\">\n                                                {episode.title}\n                                            </Typography>\n                                        </Grid>\n\n                                        {episode.meta.type === 'TVEpisode' ? (\n                                            <Grid item>\n                                                <Typography className={classes.subhead} variant={'subtitle2'} component=\"p\">\n                                                    Epizóda: {episode.meta.episodeNumber}\n                                                </Typography>\n                                            </Grid>\n                                        ) : ''}\n\n                                        {episode.meta.dateAdded && (\n                                            <Grid item>\n                                                <Box mt={episode.meta.type === 'TVEpisode' ? '-4px' : '0'}>\n                                                    <Typography className={classes.dateAdded} variant={'subtitle2'} component=\"p\">\n                                                        <ReactTimeAgo locale={props.locale.lang()} date={episode.meta.dateAdded}/>\n                                                    </Typography>\n                                                </Box>\n                                            </Grid>)}\n                                    </Grid>\n                                </CardContent>\n                            </Grid>\n                        </Grid>\n                    </CardActionArea>\n                </Card>\n            </Box>\n        </Box>\n    );\n}\n\nPlaylistItem.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(PlaylistItem);","import {\n    THEME_SELECT_MODE,\n    THEME_TOGGLE_MODE,\n} from \"../app/config/constants/action_types\";\n\nexport function selectThemeMode(mode: \"dark\"|\"light\") {\n    return {type: THEME_SELECT_MODE, payload: mode};\n}\n\nexport function toggleThemeMode() {\n    return {type: THEME_TOGGLE_MODE};\n}\n","// import {injectable} from \"inversify\";\nimport PlaylistInterface from \"./PlaylistInterface\";\nimport PlaylistItem from \"./PlaylistItem\";\nimport Sortable from \"./Sortable\";\n\n// @injectable()\nclass Playlist implements PlaylistInterface {\n    private _currentIndex = 0;\n    private _sortOrder = 'asc';\n\n    constructor(private _items: Array<PlaylistItem>) {\n    }\n\n    add(item: PlaylistItem): void {\n        this._items.push(item);\n    }\n\n    current(): PlaylistItem {\n        return this._items[this._currentIndex];\n    }\n\n    rest(): Array<PlaylistItem> {\n        return this._items.filter((item: any, index: number) => index > this._currentIndex + 1);\n    }\n\n    next(): PlaylistItem {\n        if (!this._items[this._currentIndex + 1]) {\n            throw new Error('End of playlist reached');\n        }\n        this._currentIndex++;\n\n        return this._items[this._currentIndex];\n    }\n\n    previous(): PlaylistItem {\n        if (!this._items[this._currentIndex - 1]) {\n            throw new Error('Start of playlist reached');\n        }\n        this._currentIndex--;\n\n        return this._items[this._currentIndex];\n    }\n\n    nextItem(): PlaylistItem {\n        if (!this._items[this._currentIndex + 1]) {\n            throw new Error('End of playlist reached');\n        }\n\n        return this._items[this._currentIndex + 1];\n    }\n\n    previousItem(): PlaylistItem {\n        if (!this._items[this._currentIndex - 1]) {\n            throw new Error('Start of playlist reached');\n        }\n\n        return this._items[this._currentIndex - 1];\n    }\n\n    remove(item: PlaylistItem): void {\n    }\n\n    rewind(): void {\n        this._currentIndex = 0;\n    }\n\n    size(): number {\n        return this._items.length;\n    }\n\n    get currentIndex(): number {\n        return this._currentIndex;\n    }\n\n    set currentIndex(value: number) {\n        if (value > this._items.length - 1) {\n            throw new Error(`Invalid index [${value}] provided`);\n        }\n        this._currentIndex = value;\n    }\n\n    moveIndexTo(src: string): void {\n        let moveToIndex = -1;\n        this._items.forEach((item: PlaylistItem, index: number) => {\n            if (item.mp4.indexOf(src) >= 0) {\n                moveToIndex = index;\n            }\n        });\n\n        if (moveToIndex === -1) {\n            throw new Error(`Can not play selected video index ${moveToIndex}`);\n        }\n\n        this.currentIndex = moveToIndex;\n    }\n\n    reverse(): void {\n        if (this._sortOrder === 'asc') {\n            this._sortOrder = 'desc';\n        } else {\n            this._sortOrder = 'asc';\n        }\n        this._items.reverse();\n        this.currentIndex = this._items.length - this.currentIndex -1;\n    }\n\n    sortAsc(): void {\n        this._sortOrder = 'asc';\n        this.items.sort((a: Sortable, b: Sortable) => (a.sortPosition > b.sortPosition) ? 1 : ((b.sortPosition > a.sortPosition) ? -1 : 0));\n    }\n\n    sortDesc(): void {\n        this._sortOrder = 'desc';\n        this.items.sort((a: Sortable, b: Sortable) => (a.sortPosition < b.sortPosition) ? 1 : ((b.sortPosition < a.sortPosition) ? -1 : 0));\n    }\n\n    get sortOrder(): string {\n        return this._sortOrder;\n    }\n\n    get items(): Array<PlaylistItem> {\n        return this._items;\n    }\n}\n\nexport default Playlist;\n","// import {injectable} from \"inversify\";\nimport PlayableItem from \"./PlayableItem\";\nimport Sortable from \"./Sortable\";\n\n// @injectable()\nclass PlaylistItem implements PlayableItem, Sortable {\n    private _sortPosition: number = 0;\n\n    constructor(\n        public title: string,\n        public image: string,\n        public mp4: Array<any>,\n        public duration: number,\n        public subtitle: string,\n        public meta: {},\n    ) {\n        this.title = title;\n        this.image = image;\n        this.mp4 = mp4;\n        this.duration = duration;\n        this.subtitle = subtitle;\n        this.meta = meta;\n    }\n\n    get sortPosition(): number {\n        return this._sortPosition;\n    }\n\n    set sortPosition(value: number) {\n        this._sortPosition = value;\n    }\n}\n\nexport default PlaylistItem;\n","import Playlist from \"./Playlist\";\nimport PlaylistItem from \"./PlaylistItem\";\n\nclass PlaylistFactory {\n    public static createPlaylistForProgramSeason(selectedSeason: any): Playlist {\n        const playlist = new Playlist([]);\n        let sort = 'asc';\n        selectedSeason.episodes.forEach((item: any) => {\n            const playlistItem = this.createPlaylistItem(item);\n            if (item['type'] === 'article' || item['type'] === 'NewsArticle') {\n                sort = 'desc';\n                playlistItem.sortPosition = Date.parse(item.dateAdded);\n            } else {\n                playlistItem.sortPosition = item.episodeNumber;//tvseries\n            }\n            playlist.add(playlistItem);\n        });\n        if (sort === 'asc') {\n            playlist.sortAsc();\n        } else if (sort === 'desc') {\n            playlist.sortDesc();\n        }\n\n        return playlist;\n    }\n\n    private static createPlaylistItem(item: any): PlaylistItem {\n        let dateAdded;\n        if (item.dateAdded !== undefined) {\n            try {\n                dateAdded = new Date(item.dateAdded);\n            } catch (error) {\n            }\n\n            if (!this.isValidDate(dateAdded)) {\n                const bits = item.dateAdded.split('.');\n                const correctlyFormattedDateString = `${bits[2]}-${bits[1]}-${bits[0]}`;\n                try {\n                    dateAdded = new Date(correctlyFormattedDateString);\n                } catch (error){}\n            }\n            if (!this.isValidDate(dateAdded)) {\n                dateAdded = item.dateAdded;\n            }\n        }\n\n        return new PlaylistItem(\n            item.name,\n            item.thumbnailUrl ? item.thumbnailUrl : item.image,\n            item.mp4,\n            item.timeRequired ? parseInt(item.timeRequired.replace(/PT|S/g, '')) : 0,\n            '',\n            {episodeNumber: item.episodeNumber, dateAdded: dateAdded, type: item['type']}\n        )\n    }\n\n    private static isValidDate(d: any) {\n        return !isNaN(d) && d instanceof Date;\n    }\n}\n\nexport default PlaylistFactory;\n","import React, {useEffect, useState, useRef} from 'react';\nimport {useSelector, useDispatch} from 'react-redux';\nimport {withStyles, useTheme, Theme, createStyles} from '@material-ui/core/styles';\nimport * as ACTIONS from \"../../actions/player\";\nimport * as THEME_ACTIONS from \"../../actions/theme\";\nimport Grid from '@material-ui/core/Grid';\nimport Box from '@material-ui/core/Box';\nimport Typography from '@material-ui/core/Typography';\nimport IconButton from '@material-ui/core/IconButton';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport SortByAlpha from '@material-ui/icons/SortByAlpha';\nimport List from '@material-ui/icons/List';\nimport SvgIcon from '@material-ui/core/SvgIcon';\nimport PlayerInterface from \"../../service/player/PlayerInterface\";\nimport PlaylistFactory from \"../../service/player/PlaylistFactory\";\n\nimport Tooltip from '../tooltip';\n\nconst styles = (theme: Theme) => createStyles({\n    playlistHeader: {\n        // transition: 'background-color 1s ease-out',\n        width: '100%',\n        [theme.breakpoints.down('sm')]: {\n            padding: '0 0 0 12px',\n        },\n        [theme.breakpoints.up('md')]: {\n            backgroundColor: theme.palette.type === 'dark' ? 'rgba(136, 136, 136, 0.4)' : 'rgba(238, 238, 238)',\n            padding: '0 0 0 16px',\n        },\n    },\n    playlistHeaderMetaData: {\n        fontSize: '11px',\n        height: '48px',\n        lineHeight: '1.5',\n        [theme.breakpoints.up('md')]: {\n            padding: '12px 16px 0 0',\n        },\n        [theme.breakpoints.down('sm')]: {\n            padding: '8px 5px 0 0',\n        },\n    },\n    playlistHeaderTitle: {\n        fontSize: '14px',\n        [theme.breakpoints.down('sm')]: {\n            color: theme.palette.type === 'dark' ? 'rgb(238, 238, 238)' : 'inherit',\n        },\n        [theme.breakpoints.up('md')]: {\n            marginBottom: '4px',\n        },\n        fontWeight: 'bold',\n        lineHeight: '16px',\n    },\n    playlistHeaderSubHead: {\n        fontSize: '12px',\n        lineHeight: '16.5px',\n        [theme.breakpoints.up('md')]: {\n            color: theme.palette.type === 'light' ? 'rgba(17, 17, 17, 0.6)' : 'inherit',\n        },\n    },\n    controlBar: {\n        height: '44px',\n        width: '100%',\n        [theme.breakpoints.down('sm')]: {\n            height: '48px',\n            color: theme.palette.type === 'dark' ? '#eee' : 'inherit',\n        },\n        [theme.breakpoints.up('md')]: {\n            color: theme.palette.type === 'dark' ? 'rgb(144, 144, 144)' : 'inherit',\n        },\n        paddingRight: '4px',\n    },\n    playerControlsButton: {\n        marginLeft: '10px',\n    },\n    playerControlsButtonCommon: {\n        width: '40px',\n        height: '40px',\n        // color: theme.palette.type === 'light' ? 'rgb(144, 144, 144)' : 'inherit',\n    },\n    firstButton: {\n        marginLeft: '-10px',\n    }\n});\n\nfunction PlaylistHeader(props: any) {\n    const {player, archive, menuAnchorElement} = useSelector<{ menuAnchorElement: HTMLElement, player: PlayerInterface, selectedTVSeriesArchive: any }, { menuAnchorElement: HTMLElement, player: PlayerInterface, archive: any }>((state) => ({\n        player: state.player,\n        archive: state.selectedTVSeriesArchive,\n        menuAnchorElement: state.menuAnchorElement,\n    }));\n\n    const dispatch = useDispatch();\n    const {classes} = props;\n\n    const handlePlaylistChange = (event: any) => {\n        props.setSelectedSeasonIndex(parseInt(event.target.value));\n        dispatch(\n            ACTIONS.loadPlaylistAndStartPlaying(\n                PlaylistFactory.createPlaylistForProgramSeason(archive.seasons[parseInt(event.target.value)])\n            )\n        );\n        handleMenuClose();\n    };\n\n    function handleOpenMenuClick(event: React.MouseEvent<HTMLButtonElement>) {\n        dispatch(ACTIONS.openPlaylistMenu(buttonRef.current));\n    }\n\n    function handleMenuClose() {\n        dispatch(ACTIONS.closePlaylistMenu());\n    }\n\n    useEffect(() => {\n        window.document.addEventListener('keydown', (e: KeyboardEvent) => {\n            if (e.code === 'KeyC') {\n                e.preventDefault();\n                dispatch(ACTIONS.openPlaylistMenu(buttonRef.current));\n            }\n\n            if (e.code === 'KeyT') {\n                e.preventDefault();\n                dispatch(THEME_ACTIONS.toggleThemeMode());\n            }\n        });\n    }, []);\n\n    let buttonRef = useRef<any>(null);\n\n    return (\n        <Box className={classes.playlistHeader}>\n            {player.current() && (\n                <div className={classes.playlistHeaderMetaData}>\n                    <Grid\n                        container\n                        direction=\"row\"\n                    >\n                        <Typography className={classes.playlistHeaderTitle} component=\"h3\">\n                            {archive.name}\n                        </Typography>\n\n                    </Grid>\n\n                    <Grid\n                        container\n                        direction=\"row\"\n                    >\n                        <Typography className={classes.playlistHeaderSubHead} display=\"block\">\n                            {archive.seasons.length > 1 && (archive.seasons[props.selectedSeasonIndex].name + ' - ')}\n                            {player.currentlyPlayingItemOrder} / {player.playlistItemsCount}\n                        </Typography>\n                    </Grid>\n                </div>\n            )}\n            <div className={classes.controlBar}>\n                <Grid item xs={12}\n                      container\n                      direction=\"row\"\n                      justify=\"space-between\"\n                >\n                    <Grid item className={classes.firstButton}>\n                        <Tooltip\n                            title=\"Change season (c)\"\n                        >\n                            <IconButton\n                                ref={buttonRef}\n                                className={classes.playerControlsButtonCommon}\n                                size=\"small\"\n                                // color=\"inherit\"\n                                disabled={archive.seasons.length < 2}\n                                onClick={handleOpenMenuClick}\n                            >\n                                <List/>\n                            </IconButton>\n                        </Tooltip>\n                        <Menu\n                            anchorEl={menuAnchorElement}\n                            keepMounted\n                            open={Boolean(menuAnchorElement)}\n                            onClose={handleMenuClose}\n                        >\n                            {archive.seasons.map((season: any, index: number) =>\n                                <MenuItem\n                                    disabled={index === props.selectedSeasonIndex}\n                                    onClick={handlePlaylistChange}\n                                    key={index}\n                                    value={index}>{season.name}</MenuItem>)}\n                        </Menu>\n                    </Grid>\n                    <Grid item>\n                        <Tooltip\n                            title={player.getPlaylistSortOrder() === 'desc' ? 'Sort ASC (s)' : 'Sort DESC (s)'}\n                        >\n                            <IconButton\n                                className={classes.playerControlsButtonCommon}\n                                size=\"small\"\n                                color={player.getPlaylistSortOrder() === 'desc' ? 'primary' : undefined}\n                                onClick={() => dispatch(ACTIONS.reversePlaylistSort())}\n                                disabled={!player.playlistItemsCount}>\n                                <SortByAlpha/>\n                            </IconButton>\n                        </Tooltip>\n\n                        <Tooltip\n                            title=\"Toggle theme (t)\"\n                        >\n                            <IconButton\n                                className={classes.playerControlsButtonCommon}\n                                size=\"small\"\n                                onClick={() => dispatch(THEME_ACTIONS.toggleThemeMode())}\n                            >\n                                <SvgIcon>\n                                    <path\n                                        d=\"M9 21c0 .55.45 1 1 1h4c.55 0 1-.45 1-1v-1H9v1zm3-19C8.14 2 5 5.14 5 9c0 2.38 1.19 4.47 3 5.74V17c0 .55.45 1 1 1h6c.55 0 1-.45 1-1v-2.26c1.81-1.27 3-3.36 3-5.74 0-3.86-3.14-7-7-7zm2.85 11.1l-.85.6V16h-4v-2.3l-.85-.6C7.8 12.16 7 10.63 7 9c0-2.76 2.24-5 5-5s5 2.24 5 5c0 1.63-.8 3.16-2.15 4.1z\"></path>\n                                </SvgIcon>\n                            </IconButton>\n                        </Tooltip>\n                    </Grid>\n                </Grid>\n            </div>\n        </Box>\n    );\n}\n\n// Header.propTypes = {\n//     classes: Header.object.isRequired,\n// };\n\nexport default withStyles(styles)(PlaylistHeader);","import React, {useEffect, useState} from 'react';\nimport PropTypes from 'prop-types';\nimport {List, ListRowProps, AutoSizer, CellMeasurer, CellMeasurerCache} from 'react-virtualized';\nimport {withStyles, useTheme, Theme, createStyles} from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport Box from '@material-ui/core/Box';\nimport PlaylistItem from \"./playlistItem\";\nimport {useSelector, useDispatch} from 'react-redux';\nimport * as ACTIONS from \"../../actions/player\";\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport Player from \"../../service/player/Player\";\nimport PlaylistHeader from \"./header\";\nimport Hidden from '@material-ui/core/Hidden';\n\nconst styles = (theme: Theme) => createStyles({\n    playlist: {\n        borderBottom: '1px solid rgba(136, 136, 136, 0.4)',\n        [theme.breakpoints.up('md')]: {\n            // padding: '0 8px 8px 0',\n        },\n        width: '100%',\n    },\n    playlistItems: {\n        height: '100%',\n        [theme.breakpoints.up('md')]: {\n            backgroundColor: theme.palette.type === 'dark' ? 'rgba(136, 136, 136, 0.2)' : 'rgba(238, 238, 238, 0.6)',\n        },\n    },\n});\n\nfunction Playlist(props: any) {\n    const locale = props.locale;\n    const {classes} = props;\n    const [playlistHeight, setPlaylistHeight] = useState<string>('600px');\n    const theme = useTheme();\n    const mdUp = useMediaQuery(theme.breakpoints.up('md'));\n    const smDown = useMediaQuery(theme.breakpoints.down('sm'));\n    const dispatch = useDispatch();\n\n    const {player} = useSelector<{ player: Player }, { player: Player }>((state) => ({\n        player: state.player,\n    }));\n\n    useEffect(() => {\n        if (player.isLoaded()) {\n            setHeight();\n        }\n    }, [player && player.isLoaded(), player.isVideoDataLoaded]);\n\n    function setHeight() {\n        const videoHeight = parseInt(player.getVideoElementHeight());\n        const playlistHeight = window.innerHeight - videoHeight;\n        const bodyTopPadding = 16;\n        if (mdUp) {\n            const playlistHeaderHeight = 88;\n            setPlaylistHeight(window.innerHeight - 2 * bodyTopPadding - playlistHeaderHeight + 'px');\n        } else {\n            const playlistHeaderHeight = 0;\n            setPlaylistHeight( `${playlistHeight - playlistHeaderHeight}px`);\n        }\n    }\n\n    const cellMeasurerCache = new CellMeasurerCache({\n        fixedWidth: true,\n        defaultHeight: 300\n    });\n\n    function RowMdUp(props: ListRowProps) {\n        const {index, key, style, parent} = props;\n        const playlistItem = player.playlistItems[index];\n        return (\n            <CellMeasurer\n                key={key}\n                cache={cellMeasurerCache}\n                parent={parent}\n                columnIndex={0}\n                rowIndex={index}>\n                <div style={style}>\n                    <PlaylistItem\n                        locale={locale}\n                        isPlaying={player.currentlyPlayingItemOrder === index + 1}\n                        playlistPosition={index + 1}\n                        key={index}\n                        episode={playlistItem}\n                        itemClick={() => dispatch(ACTIONS.playPlaylistItem(playlistItem))}\n                    />\n                </div>\n            </CellMeasurer>\n        );\n    }\n\n    const [selectedSeasonIndex, setSelectedSeasonIndex] = useState<number>(0);\n\n    function rowSmDown(props: ListRowProps) {\n        const {index, key, style, parent} = props;\n        const playlistItem = player.playlistItems[index -1];\n        return (\n            <CellMeasurer\n                key={key}\n                cache={cellMeasurerCache}\n                parent={parent}\n                columnIndex={0}\n                rowIndex={index}>\n                <div style={style}>\n                    {mdUp || index > 0 ? (<PlaylistItem\n                        locale={locale}\n                        isPlaying={player.currentlyPlayingItemOrder === index}\n                        playlistPosition={index}\n                        key={index}\n                        episode={playlistItem}\n                        itemClick={() => dispatch(ACTIONS.playPlaylistItem(playlistItem))}\n                    />) : (<PlaylistHeader selectedSeasonIndex={selectedSeasonIndex} setSelectedSeasonIndex={setSelectedSeasonIndex}/>)}\n                </div>\n            </CellMeasurer>\n        );\n    }\n\n    RowMdUp.propTypes = {\n        index: PropTypes.number,\n        style: PropTypes.object,\n    } as any;\n\n    return (\n        <div className={classes.playlist}>\n\n            <Hidden smDown>\n                <PlaylistHeader selectedSeasonIndex={selectedSeasonIndex} setSelectedSeasonIndex={setSelectedSeasonIndex}/>\n            </Hidden>\n\n            <Box style={{height: playlistHeight}} className={classes.playlistItems}>\n                <Grid item xs={12}\n                      container\n                      direction=\"row\"\n                      spacing={0}\n                >\n                    <AutoSizer\n                        disableHeight={true}\n                    >\n                        {({ height, width }) => (\n                            <List\n                                style={\n                                    mdUp ? {outline: 'none', paddingBottom: '12px', paddingTop: '8px'} :\n                                        {outline: 'none', paddingBottom: '12px'}\n                                }\n                                width={width}\n                                height={parseInt(playlistHeight)}\n                                deferredMeasurementCache={cellMeasurerCache}\n                                rowHeight={cellMeasurerCache.rowHeight}\n                                rowRenderer={mdUp ? RowMdUp : rowSmDown}\n                                rowCount={smDown ? player.playlistItems.length + 1 : player.playlistItems.length}\n                                overscanRowCount={10}/>\n                        )}\n                    </AutoSizer>\n                </Grid>\n            </Box>\n        </div>\n    );\n}\n\nPlaylist.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(Playlist);","import React from 'react';\n\nclass ErrorBoundary extends React.Component<any, { hasError: null} > {\n    constructor(props: any) {\n        super(props);\n        this.state = { hasError: null};\n    }\n\n    static getDerivedStateFromError(error: Error) {\n        return { hasError: true };\n    }\n\n    componentDidCatch(error: Error, info: any) {\n        // log error\n    }\n\n    render() {\n        if (this.state.hasError) {\n            return <h1>Something went wrong.</h1>;\n        }\n\n        return this.props.children;\n    }\n}\n\nexport default ErrorBoundary;","import React, {useEffect, useState} from 'react';\nimport Box from '@material-ui/core/Box';\nimport Grid from '@material-ui/core/Grid';\nimport {withStyles, Theme} from '@material-ui/core/styles';\nimport {useSelector, useDispatch} from 'react-redux';\nimport * as ITEM_ACTIONS from \"../../../actions/archiveItem\";\nimport Player from \"../../../components/player\";\nimport Playlist from \"../../../components/playlist\";\nimport ErrorBoundary from \"../../../components/errorBoundary\";\nimport Hidden from '@material-ui/core/Hidden';\nimport {useAuth} from \"../../../context/authContext\";\n\nconst styles = (theme: Theme) => ({\n    videoPlayer: {\n        backgroundColor: 'black',\n    },\n    rhc: {\n        padding: '0',\n        [theme.breakpoints.up('md')]: {\n            padding: '0 0 0 16px',\n        },\n        width: '100%',\n    },\n});\n\nfunction EpisodeDetailController(props: any) {\n    const {player, seriesArchive} = useSelector((state: any) => ({\n        player: state.player,\n        seriesArchive: state.selectedTVSeriesArchive\n    }));\n\n    const dispatch = useDispatch();\n    const auth = useAuth();\n    const {classes, ...rest} = props;\n\n    //this happens when somebody loads url directly not coming from programs list view\n    useEffect(() => {\n        if (!seriesArchive) {\n            props.programService.findOne(props.match.params.slug).then((newArchive: Array<any>) => {\n                dispatch(ITEM_ACTIONS.selectSeriesArchive(newArchive));\n            }).catch((e: Error) => auth.logout());\n        }\n    }, [seriesArchive]);\n\n    const [videoElementHeight, setVideoElementHeight] = useState<string>('auto');\n    useEffect(() => {\n        if (player.isVideoDataLoaded) {\n            const height = player.getVideoElementHeight();\n            if (height) {\n                const videoHeight = Math.ceil(parseFloat(height.replace('px', '')));\n                setVideoElementHeight(videoHeight + 'px');\n            }\n        }\n    }, [player && player.isLoaded(), player.isVideoDataLoaded]);\n\n    if (player && seriesArchive) {\n        return (\n            <div className=\"app-wrapper\">\n                {/*<Grid container direction=\"row\" alignItems=\"flex-start\"><Box mb={1}>top row</Box></Grid>*/}\n                <Hidden mdUp>\n                    <Grid container spacing={0}\n                          direction=\"row\"\n                          justify=\"flex-start\"\n                          alignItems=\"flex-start\">\n                        <Grid container direction=\"column\" className={classes.videoPlayer}\n                              style={{height: videoElementHeight}}>\n                            <ErrorBoundary>\n                                <Player/>\n                            </ErrorBoundary>\n                        </Grid>\n                        <Grid container direction=\"column\">\n                            <Box className={classes.rhc}>\n                                <ErrorBoundary>\n                                    <Playlist {...rest}/>\n                                </ErrorBoundary>\n                            </Box>\n                        </Grid>\n                    </Grid>\n                </Hidden>\n\n                <Hidden smDown>\n                    <Grid container spacing={0}\n                          direction=\"row\"\n                          justify=\"flex-start\"\n                          alignItems=\"flex-start\">\n                        <Grid item sm={12} md={8} style={{height: videoElementHeight}}>\n                            <ErrorBoundary>\n                                <Player/>\n                            </ErrorBoundary>\n                        </Grid>\n\n                        <Grid item sm={12} md={4}>\n                            <Box className={classes.rhc}>\n                                <ErrorBoundary>\n                                    <Playlist {...rest}/>\n                                </ErrorBoundary>\n                            </Box>\n                        </Grid>\n                    </Grid>\n                </Hidden>\n            </div>);\n    } else {\n        return (<div className=\"app-wrapper\"></div>);\n    }\n}\n\nexport default withStyles(styles, {withTheme: true})(EpisodeDetailController);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {withStyles} from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardActionArea from '@material-ui/core/CardActionArea';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport {Channel} from \"../../entities/Channel\";\n\nconst styles = {\n    media: {\n        height: 380,\n    },\n};\n\nfunction TvChannel(props: {classes: any, channel: Channel, itemClick: any}) {\n    const {classes, channel, itemClick} = props;\n    const image = channel.image ? channel.image : `https://picsum.photos/380?random=${channel.name}`;\n\n    return (\n        <Card onClick={itemClick} square elevation={0}>\n                <CardActionArea>\n                    <CardMedia\n                        className={classes.media}\n                        image={image}\n                        title={channel.name}\n                    />\n                </CardActionArea>\n        </Card>\n    );\n}\n\nTvChannel.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(TvChannel);","import React, {useEffect, useState} from 'react';\nimport ChannelServiceInterface from \"../../../service/ChannelServiceInterface\";\nimport {ChannelInterface} from \"../../../entities/ChannelInterface\";\nimport Grid from '@material-ui/core/Grid';\nimport TvChannel from \"../../../components/tvChannel\";\nimport {useAuth} from \"../../../context/authContext\";\n\ninterface PropsInterface {\n    channelService: ChannelServiceInterface,\n    match: any,\n    history: any,\n}\n\nfunction ChannelsController(props: PropsInterface) {\n    const auth = useAuth();\n    const [channels, setChannels] = useState<any>([]);\n\n    useEffect(() => {\n        if (!channels.length) {\n            props.channelService.findAll().then((channels: Array<ChannelInterface>) => {\n                channels.sort((a: ChannelInterface, b: ChannelInterface) => {\n                    if (a.id < b.id) {\n                        return -1;\n                    }\n                    if (a.id > b.id) {\n                        return 1;\n                    }\n                    return 0;\n                });\n                setChannels(channels);\n            }).catch((e: Error) => auth.logout());\n        }\n    }, [channels]);\n\n    const {history} = props;\n\n    return (\n        <div className=\"app-wrapper\">\n            {channels.length ?\n            (\n                <Grid container spacing={2}>\n                    {channels.map((channel: any) => (\n                        <Grid key={channel.id} item xs={12} sm={6} md={4}>\n                            <TvChannel itemClick={() => history.push(`/${channel.id}/`)}\n                                       channel={channel}/>\n                        </Grid>\n                    ))}\n                </Grid>\n            ) : ''}\n        </div>\n    );\n}\n\nexport default ChannelsController;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {withStyles, createStyles} from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardActionArea from '@material-ui/core/CardActionArea';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport Typography from '@material-ui/core/Typography';\nimport {useDispatch} from 'react-redux';\nimport * as ACTIONS from \"../../actions/archiveItem\";\nimport ProgramServiceInterface from \"../../service/ProgramServiceInterface\";\nimport ResponsiveLazyLoad from \"../responsiveLazyLoad\";\n\nconst mediaHeight = 240;\nconst styles = createStyles({\n    media: {\n        height: mediaHeight,\n    },\n});\n\nfunction ArchiveItem(props: {history: any, match: any, programService: ProgramServiceInterface, classes: any, archiveItem: {slug: string, img: string, title: string}, itemClick?: any}) {\n    const {classes, archiveItem, itemClick} = props;\n\n    const defaultClickHandler = () => {\n        props.programService.findOne(archiveItem.slug).then((programArchive: any) => {\n            dispatch(ACTIONS.selectSeriesArchive(programArchive));\n            props.history.push(`/${props.match.params.channelId}/${archiveItem.slug}`);\n        });\n\n    };\n\n    const onClickHandler = itemClick ? itemClick : defaultClickHandler;\n\n    const dispatch = useDispatch();\n\n    return (\n        <Card onClick={onClickHandler} square elevation={0}>\n                <CardActionArea>\n                    {/*<ResponsiveLazyLoad*/}\n                    {/*    debounce={false}*/}\n                    {/*    offsetVertical={600}*/}\n                    {/*    throttle={250}*/}\n                    {/*    height={mediaHeight}*/}\n                    {/*>*/}\n                        <CardMedia\n                            className={classes.media}\n                            image={archiveItem.img.replace(/[r]?[0-9]+x[0-9]+[n]?/, 'r400x300')}\n                            title={archiveItem.title}\n                        />\n                    {/*</ResponsiveLazyLoad>*/}\n                    <CardContent>\n                        <Typography gutterBottom variant=\"h5\" component=\"h2\">\n                            {archiveItem.title}\n                        </Typography>\n                    </CardContent>\n                </CardActionArea>\n        </Card>\n    );\n}\n\nArchiveItem.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(ArchiveItem);","import React from 'react'\nimport requestAnimationFrame from 'raf';\n\nexport const memoryStore = {\n    _data: new Map(),\n    get(key: any) {\n        if (!key) {\n            return null\n        }\n\n        return this._data.get(key) || null\n    },\n    set(key: any, data: any) {\n        if (!key) {\n            return\n        }\n        return this._data.set(key, data)\n    }\n};\n\ntype ScrollPosition = {x: number, y: number};\n\n/**\n * Component that will save and restore Window scroll position.\n */\nexport default class ScrollPositionManager extends React.Component<any, any> {\n    private readonly _target: any;\n\n    static defaultProps = {\n        scrollStore: memoryStore\n    };\n\n    constructor(props: any) {\n        super(props);\n        this._target = window\n    }\n\n    restoreScrollPosition(pos?: any): void {\n        pos = pos || this.props.scrollStore.get(this.props.scrollKey);\n        if (this._target && pos) {\n            requestAnimationFrame(() => {\n                this.scroll(this._target, pos)\n            })\n        }\n    }\n\n    saveScrollPosition(key?: any): void {\n        if (this._target) {\n            const pos = this.getScrollPosition(this._target);\n            key = key || this.props.scrollKey;\n            this.props.scrollStore.set(key, pos);\n        }\n    }\n\n    componentDidMount(): void {\n        this.restoreScrollPosition();\n    }\n\n    componentWillReceiveProps(nextProps: any): void {\n        if (this.props.scrollKey !== nextProps.scrollKey) {\n            this.saveScrollPosition();\n        }\n    }\n\n    componentDidUpdate(prevProps: any): void {\n        if (this.props.scrollKey !== prevProps.scrollKey) {\n            this.restoreScrollPosition()\n        }\n    }\n\n    componentWillUnmount(): void {\n        this.saveScrollPosition()\n    }\n\n    render() {\n        const {children = null} = this.props;\n        return (children);\n    }\n\n    private scroll(target: Element, pos: ScrollPosition): void {\n        target.scrollTo(pos.x, pos.y);\n    }\n\n    private getScrollPosition(target: { scrollX: number, scrollY: number }): ScrollPosition {\n        return {x: target.scrollX, y: target.scrollY}\n    }\n}","import React, {useEffect} from 'react';\nimport {List, ListRowProps, AutoSizer, CellMeasurer, CellMeasurerCache} from 'react-virtualized';\nimport {useTheme} from '@material-ui/core/styles';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport Grid from '@material-ui/core/Grid';\nimport {GridSpacing} from '@material-ui/core/Grid';\nimport Box from '@material-ui/core/Box';\nimport ArchiveItem from \"../../../components/archiveItem\";\nimport ScrollManager from \"../../../components/scrollManager\";\nimport {useSelector, useDispatch} from 'react-redux';\nimport * as ITEM_ACTIONS from \"../../../actions/archiveItem\";\nimport {useAuth} from \"../../../context/authContext\";\n\nfunction ProgramController(props: any) {\n    const dispatch = useDispatch();\n    const auth = useAuth();\n    const {archives} = useSelector((state: any) => ({\n        archives: state.channelArchives\n    }));\n\n    const archive = archives[props.match.params.channelId];\n\n    useEffect(() => {\n        if (!archive || !archive.length) {\n            props.programService.findAll(props.match.params.channelId).then((archive: Array<any>) => {\n                dispatch(ITEM_ACTIONS.selectTVChannelArchive(props.match.params.channelId, archive));\n            }).catch((e: Error) => {\n                auth.logout();\n            });\n        }\n    }, [archive]);\n\n    const theme = useTheme();\n    let spacing = 0;\n    const isBetween = useMediaQuery(theme.breakpoints.between('sm', 'md'));\n    const isMdUp = useMediaQuery(theme.breakpoints.up('md'));\n    if (isBetween) {\n        spacing = 1;\n    } else if (isMdUp) {\n        spacing = 2;\n    }\n\n    const {classes, ...rest} = props;\n\n    function Row(props: ListRowProps) {\n        const {index, key, style, parent} = props;\n        const archiveItem = archive[index];\n        return (\n            <CellMeasurer\n                key={key}\n                cache={cellMeasurerCache}\n                parent={parent}\n                columnIndex={0}\n                rowIndex={index}>\n                <div style={style}>\n                    <ArchiveItem\n                        {...rest}\n                        key={archiveItem.title}\n                        archiveItem={archiveItem}\n                    />\n                </div>\n            </CellMeasurer>\n        );\n    }\n\n    const cellMeasurerCache = new CellMeasurerCache({\n        fixedWidth: true,\n        defaultHeight: 300\n    });\n\n    return (\n        <Box height=\"100%\">\n            <ScrollManager scrollKey=\"program-list\"/>\n            {archive ?\n                (\n                    isMdUp ? (\n                        <Grid container spacing={spacing as GridSpacing}>\n                            {archive.map(\n                                (archiveItem: any) => <Grid key={archiveItem.title} item xs={12} sm={6} md={4}>\n                                    <ArchiveItem\n                                        {...rest}\n                                        programService={props.programService}\n                                        key={archiveItem.title}\n                                        archiveItem={archiveItem}\n                                    />\n                                </Grid>)}\n\n                        </Grid>\n                    ) : (\n                        <AutoSizer>\n                            {({height, width}) => (\n                                <List\n                                    width={width}\n                                    height={height}\n                                    deferredMeasurementCache={cellMeasurerCache}\n                                    rowHeight={cellMeasurerCache.rowHeight}\n                                    rowRenderer={Row}\n                                    rowCount={archive.length}\n                                    overscanRowCount={5}/>\n                            )}\n                        </AutoSizer>\n                    )\n                ) : ''}\n        </Box>\n    );\n}\n\nexport default ProgramController;","import React, {useState} from 'react';\nimport {Transition} from 'react-transition-group';\n\nconst duration = 1000;\n\nconst defaultStyle = {\n    transition: `opacity ${duration}ms ease-in-out`,\n    opacity: 0,\n};\n\nconst transitionStyles: {\n    [key: string]: any\n} = {\n    entering: {opacity: 1},\n    entered: {opacity: 0},\n    exiting: {opacity: 1},\n    exited: {opacity: 0},\n};\n\nfunction Index(props: any) {\n    const [inProp, setInProp] = useState(false);\n    const [run, setRun] = useState(false);\n\n    const toggleInOut = () => {\n        if (inProp) {\n            setInProp(false);\n        } else {\n            setInProp(true);\n        }\n    };\n\n    return (\n        <div>\n            {run ? (\n                <Transition in={inProp} timeout={duration}>\n                    {state => {\n                        if (inProp) {\n                            return (<div style={{\n                                ...defaultStyle,\n                                ...transitionStyles[state]\n                            }}>\n                                Transition in\n                            </div>);\n                        }\n\n                        return (\n                            <div style={{\n                                ...defaultStyle,\n                                ...transitionStyles[state]\n                            }}>\n                                Transition out\n                            </div>\n                        );\n                    }}\n                </Transition>\n            ) : (<div>transition is disabled</div>)}\n\n            <button onClick={() => toggleInOut()}>\n                In\n            </button>\n            <button onClick={() => toggleInOut()}>\n                Out\n            </button>\n\n            <button onClick={() => setRun(true)}>\n                Enable\n            </button>\n            <button onClick={() => setRun(false)}>\n                Disable\n            </button>\n            {run ? 'Enabled': 'Disabled'}\n        </div>\n    );\n};\n\nexport default Index;","import React, {useEffect, useState} from 'react';\nimport {makeStyles} from '@material-ui/core/styles';\nimport Slider from '../../../../components/slider/Slider';\nimport {formatLength} from '../../../../helpers/functions';\n\nconst progressBarStyles = makeStyles({\n    root: {\n        color: 'rgb(255,0,0)',\n        height: '5px',\n        padding: '28px 0 0 0',\n        display: 'block',\n    },\n    thumb: (props: any) => ({\n        transition: 'transform .1s cubic-bezier(0.4,0.0,1,1)',\n        marginTop: props.hover ? '-3.5px' : '-4.5px',\n        transform: props.hover ? 'none' : 'scale(0)',\n        '&$focusVisible,&:hover': {\n            boxShadow: 'none',\n        },\n        '&$active': {\n            boxShadow: 'none',\n        }\n    }),\n    active: (props: any) => ({\n        boxShadow: 'none',\n    }),\n    focusVisible: (props: any) => ({\n        boxShadow: 'none',\n    }),\n    track: (props: any) => ({\n        height: '5px',\n        transform: props.hover ? '' : 'scaleY(0.6)',\n        transition: 'transform .1s cubic-bezier(0.4,0.0,1,1)',\n    }),\n    rail: (props: any) => ({\n        color: 'rgba(255,255,255,.2)',\n        transition: 'transform .1s cubic-bezier(0.4,0.0,1,1)',\n        opacity: 1,\n        height: '5px',\n        transform: props.hover ? '' : 'scaleY(0.6)',\n    }),\n    railHover: (props: any) => ({\n        backgroundColor: props.hover ? 'rgba(255, 255, 255, 0.5)' : 'transparent',\n        height: '5px',\n        transform: props.hover ? '' : 'scaleY(0.6)',\n        transition: 'opacity .25s cubic-bezier(0.0,0.0,0.2,1)',\n    }),\n    railHoverTooltip: {\n        left: '0px',\n        transformOrigin: '0',\n        bottom: '20px',\n        color: 'white',\n        borderRadius: '2px',\n        letterSpacing: '.5px',\n        fontSize: '12px',\n        fontWeight: 'bold',\n        lineHeight: '12px',\n    },\n    railHoverTooltipInner: {\n        padding: '5px 9px',\n        backgroundColor: 'rgba(28,28,28,0.9)',\n        borderRadius: '2px',\n        fontSize: '118%',\n        fontWeight: 'bold',\n        lineHeight: '15px',\n    }\n});\n\nfunction StyledSlider(props: any) {\n    const {hover, ...rest} = props;\n    const classes = progressBarStyles(props);\n\n    return <Slider\n        classes={classes} {...rest} />\n}\n\nfunction Index(props: any) {\n    const [isVideoProgressMouseOver, setIsVideoProgressMouseOver] = React.useState<boolean>(false);\n    const progressBarMouseOut = () => {\n        setIsVideoProgressMouseOver(false);\n    };\n    const progressBarMouseOver = () => {\n        setIsVideoProgressMouseOver(true);\n    };\n\n    const valueChange = (event: any, newValue: any) => {\n        setValue(newValue);\n    };\n\n    const currentTime = 0;\n    const duration = 600;\n    const [value, setValue] = React.useState<number>((currentTime / duration) * 100);\n    const format = (value: number, index : number): string => {\n        return formatLength(duration * value / 100, index);\n    };\n\n    return (\n        <StyledSlider\n            railHoverLabel={true}\n            railHoverLabelFormat={(value: any, index: number) => format(value, index)}\n            hover={isVideoProgressMouseOver}\n            onMouseOver={() => progressBarMouseOver()}\n            onMouseOut={() => progressBarMouseOut()}\n            value={value}\n            onChange={valueChange}\n        />\n    );\n};\n\nexport default Index;","const CONSTANTS = {\n    PLAYER: Symbol.for(\"Player\"),\n    BASENAME: Symbol.for(\"Basename\"),\n    CHANNELS: Symbol.for(\"Channels\"),\n    PROGRAMS: Symbol.for(\"Programs\"),\n    AUTH: Symbol.for(\"Auth\"),\n};\n\nexport default CONSTANTS;\n","import React, {useState} from 'react';\n\nexport default class GoogleCastButton extends React.Component<{}> {\n\n    private _ref: React.RefObject<HTMLElement>;\n\n    constructor(props: any) {\n        super(props);\n        this._ref = React.createRef();\n    }\n\n    componentWillUnmount() {\n        this._ref.current!.remove();\n        // this._ref.current!.dispose() // <-- error throws here\n    }\n\n    render() {\n        const props = {\n            ref: this._ref,\n            style: {\n                'width': '1em',\n                'height': '1em',\n                'font-size': '1.5rem',\n                'display': 'inline-block',\n                '--disconnected-color': '#FFF',\n                '--connected-color': '#FFAF3B'\n            }\n        };\n\n        return (\n            //@ts-ignore\n            <google-cast-launcher {...props} />\n        )\n    }\n}","import * as React from 'react';\nimport {Switch, Route} from 'react-router-dom';\nimport {Container} from \"inversify\";\nimport Error404 from '../app/controller/Error/Error404';\nimport AuthController from \"../app/controller/Auth\";\nimport EpisodeDetailController from \"../app/controller/EpisodeDetail\";\nimport ChannelsController from \"../app/controller/Channels\";\nimport ProgramController from \"../app/controller/Programs\";\nimport Animation from \"../app/controller/Sandbox/animation\";\nimport Slider from \"../app/controller/Sandbox/slider\";\nimport CONSTANTS from \"../app/config/constants/ioc\";\nimport ChannelServiceInterface from \"../service/ChannelServiceInterface\";\nimport ProgramServiceInterface from \"../service/ProgramServiceInterface\";\nimport {useAuth} from \"../context/authContext\";\nimport {withStyles, Theme} from '@material-ui/core/styles';\nimport LocaleInterface from \"../entities/LocaleInterface\";\nimport GoogleCastButton from \"../app/controller/Sandbox/castButton\";\n\ninterface PropsInterface {\n    classes: any,\n    container: Container,\n    locale: LocaleInterface,\n}\n\nconst styles = (theme: Theme) => ({\n    main: {\n        height: '100%',\n    }\n});\n\nfunction Main(props: PropsInterface) {\n    const channelService = props.container.get<ChannelServiceInterface>(CONSTANTS.CHANNELS);\n    const programService = props.container.get<ProgramServiceInterface>(CONSTANTS.PROGRAMS);\n    const auth = useAuth();\n    const {classes} = props;\n\n    return auth.isLoggedIn() ? (\n        <main className={classes.main}>\n            <Switch>\n                <Route exact path='/'\n                       render={(routeProps: any) => <ChannelsController\n                           channelService={channelService}\n                           locale={props.locale}\n                           {...routeProps}\n                       />}\n                />\n                <Route exact path='/sandbox/animate'\n                       render={(routeProps: any) => <Animation\n                           {...routeProps}\n                       />}\n                />\n                <Route exact path='/sandbox/slider'\n                       render={(routeProps: any) => <Slider\n                           {...routeProps}\n                       />}\n                />\n                <Route exact path='/sandbox/cast'\n                       render={(routeProps: any) => <GoogleCastButton\n                           {...routeProps}\n                       />}\n                />\n                <Route exact path='/:channelId'\n                       render={(routeProps: any) => <ProgramController\n                           programService={programService}\n                           locale={props.locale}\n                           {...routeProps}\n                       />}\n                />\n                <Route exact path='/:channelId/:slug'\n                       render={(routeProps: any) => <EpisodeDetailController\n                           channelService={channelService}\n                           programService={programService}\n                           locale={props.locale}\n                           {...routeProps}\n                       />}\n                />\n                <Route\n                    component={Error404}/>\n            </Switch>\n        </main>\n    ) : (\n        <main className={classes.main}>\n            <Switch>\n                <Route path='/'\n                       render={(props: any) => <AuthController\n                           {...props}\n                       />}\n                />\n            </Switch>\n        </main>\n    );\n}\n\nexport default withStyles(styles, {withTheme: true})(Main);\n","import * as React from 'react';\nimport {withStyles, Theme} from '@material-ui/core/styles';\nimport Main from './Main';\nimport {Container} from \"inversify\";\nimport LocaleInterface from \"../entities/LocaleInterface\";\n\ninterface PropsInterface {\n    classes: any,\n    container: Container,\n    locale: LocaleInterface,\n}\n\nconst styles = (theme: Theme) => ({\n    app: {\n        height: '100%',\n        [theme.breakpoints.up('md')]: {\n            padding: '16px'\n        },\n    }\n});\n\n\nclass Layout extends React.Component<PropsInterface, any> {\n    constructor(props: PropsInterface) {\n        super(props);\n    }\n\n    render() {\n        const { classes } = this.props;\n\n        return (<div className={classes.app}>\n            <Main container={this.props.container} {...this.props}/>\n        </div>);\n    }\n}\n\nexport default withStyles(styles, {withTheme: true})(Layout);\n","import * as React from 'react';\nimport {HashRouter} from 'react-router-dom';\nimport {MuiThemeProvider, Theme} from '@material-ui/core/styles';\nimport Layout from './Layout';\nimport {Container} from \"inversify\";\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport {AuthProvider} from \"../context/authContext\";\nimport AuthInterface from \"../service/auth/AuthInterface\";\nimport CONSTANTS from \"../app/config/constants/ioc\";\nimport LocaleInterface from \"../entities/LocaleInterface\";\nimport {useSelector} from 'react-redux';\n\ninterface PropsInterface {\n    container: Container,\n    locale: LocaleInterface,\n}\n\nfunction App(props: PropsInterface) {\n    const {container, ...rest} = props;\n    const authService = props.container.get<AuthInterface>(CONSTANTS.AUTH);\n\n    const {theme} = useSelector((state: {theme: Theme}) => ({\n        theme: state.theme,\n    }));\n\n    return (\n        <HashRouter>\n            <MuiThemeProvider theme={theme}>\n                <CssBaseline>\n                    <AuthProvider authService={authService}>\n                        <Layout container={props.container} {...rest} />\n                    </AuthProvider>\n                </CssBaseline>\n            </MuiThemeProvider>\n        </HashRouter>\n    );\n}\n\nexport default App;\n","import { injectable } from \"inversify\";\n\nimport {ChannelInterface} from \"./ChannelInterface\";\n\n@injectable()\nexport class Channel implements ChannelInterface {\n    public id: string;\n    public datafile: string;\n    public name?: string;\n    public image?: string;\n\n    public constructor(id: string, datafile: string, name: string = '', image: string = '') {\n        this.id = id;\n        this.datafile = datafile;\n        this.name = name;\n        this.image = image;\n    }\n}\n","import {injectable} from \"inversify\";\nimport * as crypto from \"crypto-js\";\nimport {ChannelInterface} from \"../entities/ChannelInterface\";\nimport {Channel} from \"../entities/Channel\";\nimport ChannelServiceInterface from \"./ChannelServiceInterface\";\n\ninterface ChannelJson {\n    datafile: string;\n    image: string;\n}\n\ninterface AllChannelsJson {\n    [key: string]: ChannelJson\n}\n\n@injectable()\nclass ChannelService implements ChannelServiceInterface {\n    private readonly channels: Array<ChannelInterface> = [];\n\n    constructor(private readonly basename: string, private readonly password: string) {\n    }\n\n    findAll(): Promise<Array<ChannelInterface>> {\n        const channelsUrl = this.basename ? `${this.basename}/data/channels` : '/data/channels';\n\n        return fetch(channelsUrl).then((r: Response) => r.text())\n            .then((encrypted: string) => this.decrypt(encrypted))\n            .then((jsonString: string) => JSON.parse(jsonString))\n            .then((channels: AllChannelsJson) => {\n                Object.keys(channels).forEach((channelId: string) => {\n                    const channelData = channels[channelId];\n                    this.channels.push(new Channel(channelId, channelData.datafile, channelId, channelData.image));\n                });\n                return this.channels;\n            });\n    }\n\n    //todo fix this\n    find(id: string): Promise<ChannelInterface> {\n        if (!this.channels.length) {\n            return this.findAll().then((channels: Array<ChannelInterface>) => {\n                const channel = channels.find((channel: ChannelInterface) => channel.id === id);\n                if (!channel) {\n                    throw new Error('Channel not found');\n                }\n                return channel;\n            });\n        } else {\n            return new Promise(resolve => resolve(this.channels.find((channel: ChannelInterface) => {\n                return channel.id === id\n            })));\n        }\n    }\n\n    private decrypt(content: string): string {\n        const bytes = crypto.AES.decrypt(content, this.password);\n        return bytes.toString(crypto.enc.Utf8);\n    }\n}\n\nexport default ChannelService;\n","import {injectable} from \"inversify\";\nimport \"reflect-metadata\";\nimport * as crypto from \"crypto-js\";\nimport ProgramServiceInterface from \"./ProgramServiceInterface\";\nimport {ChannelInterface} from \"../entities/ChannelInterface\";\nimport ChannelServiceInterface from \"./ChannelServiceInterface\";\n\n@injectable()\nclass ProgramService implements ProgramServiceInterface {\n    constructor(\n        private channelService: ChannelServiceInterface,\n        private readonly basename: string,\n        private readonly password: string) {\n    }\n\n    findAll(channelId: string): Promise<Array<{}>> {\n        return this.channelService.find(channelId).then((channel: ChannelInterface) => {\n            const url = this.basename ? `${this.basename}/data/${channel.datafile}` : `/data/${channel.datafile}`;\n            return fetch(url).then((r: any) => r.text())\n                .then((content: string) => JSON.parse(this.decrypt(content)));\n        });\n    }\n\n    findOne(slug: string): Promise<Array<any>> {\n        const url = this.basename ? `${this.basename}/data/${slug}` : `/data/${slug}`;\n        return fetch(url)\n            .then((r: Response) => r.text())\n            .then((encrypted: string) => JSON.parse(this.decrypt(encrypted)))\n            ;\n    }\n\n    private decrypt(content: string): string {\n        const bytes = crypto.AES.decrypt(content, this.password);\n        return bytes.toString(crypto.enc.Utf8);\n    }\n}\n\nexport default ProgramService;\n","import {injectable} from \"inversify\";\nimport AuthInterface from \"./AuthInterface\";\n\n@injectable()\nclass Auth implements AuthInterface {\n    constructor(public _password: string|null = null) {\n        this._password = _password;\n    }\n\n    isLoggedIn(): boolean {\n        return this._password !== '' && this._password !== null;\n    }\n\n    login(password: string): void {\n        this._password = password;\n    }\n\n    logout(): void {\n        this._password = null;\n    }\n\n    get password(): string {\n        return String(this._password);\n    }\n}\n\nexport default Auth;\n","class AdapterException extends Error {\n    static noVideoElement(): AdapterException {\n        return new this('No video element set');\n    };\n\n    static emptyVideoSource(): AdapterException {\n        return new this('No video source set');\n    }\n\n    static volumeOutOfRange(volume: number, min: number, max: number): AdapterException {\n        return new this(`Volume ${volume} is out of range <${min}-${max}>`);\n    }\n}\n\nexport default AdapterException;\n","import HtmlAdapterInterface from \"./HtmlAdapterInterface\";\nimport AdapterException from \"./AdapterException\";\n\nclass DomAdapter implements HtmlAdapterInterface {\n    private readonly htmlVideoElement: HTMLVideoElement;\n\n    private documentListeners: Array<any> = [];\n    private htmlElementListeners: Array<any> = [];\n\n    constructor(private _window: Window = window, ref: HTMLVideoElement) {\n        this._window = window;\n        this.htmlVideoElement = ref;\n    }\n\n    getVideoElementHeight(): string {\n        return String(this._window.getComputedStyle(this.htmlVideoElement).height);\n    }\n\n    getVideoElementWidth(): string {\n        return String(this._window.getComputedStyle(this.htmlVideoElement).width);\n    }\n\n    hasVideoElement(): boolean {\n        return this.htmlVideoElement !== undefined;\n    }\n\n    play(src?: string): Promise<any> {\n        if (src) {\n            this.setVideoSource(src);\n            return this.htmlVideoElement.play();\n        } else if (this.htmlVideoElement.src) {\n            return this.htmlVideoElement.play();\n        } else {\n            throw AdapterException.emptyVideoSource();\n        }\n    }\n\n    setPosterSource(src: string): void {\n        this.htmlVideoElement.poster = src;\n    }\n\n    setVideoSource(src: string): void {\n        this.htmlVideoElement.src = src;\n    }\n\n    pause(): void {\n        this.htmlVideoElement.pause();\n    }\n\n    resume(): void {\n        this.htmlVideoElement.play();\n    }\n\n    isPlaying(): boolean {\n        return !this.htmlVideoElement.paused;\n    }\n\n    currentStream(): string {\n        return this.htmlVideoElement.src;\n    }\n\n    addListener(type: string, listener: EventListenerOrEventListenerObject): void {\n        this.htmlVideoElement.addEventListener(type, listener);\n        this.htmlElementListeners.push({type: type, listener: listener});\n    }\n\n    removeListener(type: string, listener: EventListenerOrEventListenerObject): void {\n        this.htmlVideoElement.removeEventListener(type, listener);\n    }\n\n    addKeyDownListener(listener: EventListenerOrEventListenerObject): void {\n        this._window.document.addEventListener('keydown', listener);\n        this.documentListeners.push(listener);\n    }\n\n    removeKeyDownListener(listener: EventListenerOrEventListenerObject): void {\n        this._window.document.removeEventListener('keydown', listener);\n    }\n\n    unmount(): void {\n        this.documentListeners.forEach((listener: EventListenerOrEventListenerObject) => this._window.document.removeEventListener('keydown', listener));\n        this.htmlElementListeners.forEach((listener: {type: string, listener:EventListenerOrEventListenerObject }) => this.htmlVideoElement.removeEventListener(listener.type, listener.listener));\n    }\n\n    getCurrentVideoTime(): number {\n        return this.htmlVideoElement.currentTime;\n    }\n\n    setCurrentVideoTime(numberOfSeconds: number): void {\n        if (!this.htmlVideoElement.src) {\n            throw AdapterException.emptyVideoSource();\n        }\n\n        this.htmlVideoElement.currentTime = numberOfSeconds;\n    }\n\n    getVideoDuration(): number {\n        return this.htmlVideoElement.duration;\n    }\n\n    getVideoVolume(): number {\n        return this.muted ? 0 : this.htmlVideoElement.volume;\n    }\n\n    setVideoVolume(volume: number): void {\n        if (volume < 0 || volume > 1) {\n            throw AdapterException.volumeOutOfRange(volume, 0, 1);\n        }\n\n        if (volume === 0) {\n            this.htmlVideoElement.muted = true;\n        } else {\n            if (this.htmlVideoElement.muted) {\n                this.htmlVideoElement.muted = false;\n            }\n        }\n        this.htmlVideoElement.volume = volume;\n    }\n\n    get muted(): boolean {\n        return this.htmlVideoElement.muted;\n    }\n\n    set muted(value: boolean) {\n        this.htmlVideoElement.muted = value;\n    }\n\n    isFullScreenAvailable(): boolean {\n        return typeof this.htmlVideoElement.requestFullscreen === 'function';\n    }\n\n    toggleFullScreen(): Promise<void> {\n        return this._window.document.fullscreen ? this._window.document.exitFullscreen() : this.htmlVideoElement.requestFullscreen();\n    }\n\n    requestFullScreen(): Promise<void> {\n        return this.htmlVideoElement.requestFullscreen();\n    }\n}\n\nexport default DomAdapter;\n","import {injectable} from \"inversify\";\nimport PlaylistInterface from \"./PlaylistInterface\";\nimport AdapterInterface from \"./adapter/AdapterInterface\";\nimport Playlist from \"./Playlist\";\nimport PlayableItem from \"./PlayableItem\";\nimport DomAdapter from \"./adapter/DomAdapter\";\nimport CastSenderAdapter from \"./adapter/CastSenderAdapter\";\nimport CastablePlayerInterface from \"./CastablePlayerInterface\";\nimport HtmlPlayerInterface from \"./HtmlPlayerInterface\";\nimport HtmlAdapterInterface from \"./adapter/HtmlAdapterInterface\";\nimport CastSenderAdapterInterface from \"./adapter/CastSenderAdapterInterface\";\n\n@injectable()\nclass Player implements HtmlPlayerInterface, CastablePlayerInterface {\n    private _autoplay: boolean = true;\n    private shuffleEnabled: boolean = false;\n    private loopEnabled: boolean = false;\n    private _isVideoDataLoaded: boolean = false;\n    private _isHighQualitySelected: boolean = false;\n    private currentTime: number = 0;\n    public isCasting: boolean = false;\n\n    private callbacks: any;\n\n    private _adapter: HtmlAdapterInterface|undefined;\n    private castSenderAdapter: CastSenderAdapterInterface|undefined;\n\n    constructor(\n        private playlist: PlaylistInterface = new Playlist([]),\n    ) {\n        this.playlist = playlist;\n    }\n\n    initializeHtmlPlayer(adapter: DomAdapter, callbacks?: any): void {\n        if (this._adapter !== undefined) {\n            this._adapter.unmount();\n        }\n\n        this._adapter = adapter;\n        this.callbacks = callbacks;\n        if (callbacks && callbacks.ended) {\n            this.adapter().addListener('ended', () => {\n                this._autoplay && callbacks.ended();\n            });\n        } else {\n            this.adapter().addListener('ended', () => this._autoplay && this.next());\n        }\n\n        this.adapter().addListener('loadeddata', (event: any) => {\n            this._isVideoDataLoaded = true;\n            if (!this.current().duration) {\n                this.current().duration = Math.ceil(this.adapter().getVideoDuration());\n            }\n            if (this._autoplay) {\n                this.adapter().resume();\n            }\n            callbacks.loadeddata && callbacks.loadeddata();\n        });\n\n        this.adapter().addListener('timeupdate', (a: any) => {\n            this.currentTime = this.adapter().getCurrentVideoTime();\n            callbacks.timeupdate && callbacks.timeupdate();\n        });\n\n        this._adapter.addKeyDownListener((e: KeyboardEvent) => this.handleKeyDown(e));\n    }\n\n    initializeCastPlayer(adapter: CastSenderAdapter): void {\n        if (this.castSenderAdapter !== undefined) {\n            this.castSenderAdapter.unmount();\n        }\n        this.castSenderAdapter = adapter;\n        this.castSenderAdapter.addListener(\n            adapter.cast.framework.RemotePlayerEventType.IS_CONNECTED_CHANGED,\n            (e: any) => this.switchAdapter(e)\n        );\n\n        const handleMediaInfoChange = (e: any) => {\n            if (e.value) {\n                const streamUrl = e.value.contentId;\n                if (streamUrl) {\n                    if (!this.current().duration) {\n                        this.current().duration = Math.ceil(this.castSenderAdapter!.getVideoDuration());\n                    }\n                    if (this.playlist.current().image) {\n                        this._adapter!.setPosterSource(this.playlist.current().image.replace(/[r]?[0-9]+x[0-9]+[n]?/, 'r800x'));\n                    }\n                    this.playlist.moveIndexTo(streamUrl);\n                    if (this.callbacks && this.callbacks.loadeddata) {\n                        this.callbacks.loadeddata();\n                    }\n                }\n            }\n        };\n\n        const handleCurrentTimeChange = (e: any) => {\n            this.currentTime = e.value;\n            this.callbacks.timeupdate && this.callbacks.timeupdate();\n        };\n\n        this.castSenderAdapter!.addListener(\n            'mediaInfoChanged',\n            handleMediaInfoChange,\n        );\n        this.castSenderAdapter!.addListener(\n            'currentTimeChanged',\n            handleCurrentTimeChange,\n        );\n    }\n\n    get canCast(): boolean {\n        return this.castSenderAdapter !== undefined;\n    }\n\n    get isVideoDataLoaded(): boolean {\n        return this._isVideoDataLoaded;\n    }\n\n    get autoplay(): boolean {\n        return this._autoplay;\n    }\n\n    set autoplay(value: boolean) {\n        this._autoplay = value;\n    }\n\n    load(playlist: PlaylistInterface): void {\n        this.playlist = playlist;\n        if (this.canCast && this.castSenderAdapter!.isConnected()) {\n            this.castSenderAdapter!.loadQueueData(this.playlist.items);\n        }\n    }\n\n    isLoaded(): boolean {\n        if (this._adapter !== undefined && this._adapter.hasVideoElement() && this.playlist && this.playlist.size() > 0) {\n            return true;\n        }\n\n        if (this.castSenderAdapter !== undefined && this.castSenderAdapter.isConnected() && this.playlist && this.playlist.size() > 0) {\n            return true;\n        }\n\n        return false;\n    }\n\n    pause(): void {\n        this.adapter().pause();\n    }\n\n    play(): Promise<any> {\n        this.currentTime = 0;\n        this._isVideoDataLoaded = false;\n\n        return this.adapter().play(this.selectStream(this.playlist.current()));\n    }\n\n    playPlaylistItem(item: PlayableItem): void {\n        this.playlist.moveIndexTo(this.selectStream(item));\n        this.play();\n    }\n\n    resume(): void {\n        this.adapter().resume();\n    }\n\n    current(): PlayableItem {\n        return this.playlist.current();\n    };\n\n    isPlaying(): boolean {\n        return this.adapter().isPlaying();\n    }\n\n    currentStream(): string {\n        return this.adapter().currentStream();\n    }\n\n    next(): void {\n        if (this.hasNext()) {\n            this.playlist.next();\n            this.play();\n        } else {\n            if (this.loopEnabled) {\n                this.playlist.rewind();\n                this.play();\n            }\n        }\n    }\n\n    previous(): void {\n        this.playlist.previous();\n        this.play();\n    }\n\n    hasPrevious(): boolean {\n        try {\n            return this.playlist.previousItem() !== undefined;\n        } catch (e) {\n            return false;\n        }\n    }\n\n    hasNext(): boolean {\n        try {\n            return this.playlist.nextItem() !== undefined;\n        } catch (e) {\n            return false;\n        }\n    }\n\n    getPlaylistSortOrder(): string {\n        return this.playlist.sortOrder;\n    }\n\n    reversePlaylistSort(): void {\n        this.playlist.reverse();\n    }\n\n    sortPlaylistAsc(): void {\n        this.playlist.sortAsc();\n    }\n\n    sortPlaylistDesc(): void {\n        this.playlist.sortDesc();\n    }\n\n    get currentlyPlayingItemOrder(): number {\n        return this.playlist.currentIndex + 1;\n    }\n\n    get playlistItemsCount(): number {\n        return this.playlist.size();\n    }\n\n    willPlayNext(): PlayableItem | null {\n        try {\n            return this.playlist.nextItem();\n        } catch (e) {\n            return null;\n        }\n    }\n\n    willPlayAfterNext(): Array<PlayableItem> {\n        return this.playlist.rest();\n    }\n\n    get playlistItems(): Array<PlayableItem> {\n        return this.playlist.items;\n    }\n\n    disableShuffle(): void {\n        this.shuffleEnabled = false;\n    }\n\n    enableShuffle(): void {\n        this.shuffleEnabled = true;\n    }\n\n    isShuffleEnabled(): boolean {\n        return this.shuffleEnabled;\n    }\n\n    disableLoop(): void {\n        this.loopEnabled = false;\n    }\n\n    enableLoop(): void {\n        this.loopEnabled = true;\n    }\n\n    isLoopEnabled(): boolean {\n        return this.loopEnabled;\n    }\n\n    hasHiqhQualityAvailable(): boolean {\n        return this.playlist.current().mp4.length > 1;\n    }\n\n    isHighQualitySelected(): boolean {\n        return this._isHighQualitySelected;\n    }\n\n    availableQuality(): Array<string> {\n        return this.playlist.current().mp4.map((item: string, index: number) => this.qualityLabel(item));\n    }\n\n    setHighestQuality(): void {\n        this._isHighQualitySelected = true;\n        this.reloadStream();\n    }\n\n    setLowestVideoQuality(): void {\n        this._isHighQualitySelected = false;\n        this.reloadStream();\n    }\n\n    getVideoElementHeight(): string {\n        if (this._adapter) {\n            return this._adapter.getVideoElementHeight();\n        }\n\n        return '';\n    }\n\n    getVideoElementWidth(): string {\n        if (this._adapter) {\n            return this._adapter.getVideoElementWidth();\n        }\n\n        return '';\n    }\n\n    getCurrentTime(): number {\n        return this.currentTime;\n    }\n\n    getVolume(): number {\n        return this.adapter().getVideoVolume();\n    }\n\n    setVolume(volume: number): void {\n        this.adapter().setVideoVolume(parseFloat(volume.toFixed(2)));\n    }\n\n    isMuted(): boolean {\n        return this.adapter().muted;\n    }\n\n    mute(): void {\n        this.adapter().muted = true;\n    }\n\n    unMute(): void {\n        this.adapter().muted = false;\n        //if unmuted and is still 0 set to 20%\n        if (this.getVolume() === 0) {\n            this.setVolume(0.2);\n        }\n    }\n\n    volumeUp(): void {\n        let newVolume = this.getVolume() + 0.05;\n        if (newVolume > 1) {\n            newVolume = 1;\n        }\n        this.setVolume(newVolume);\n    }\n\n    volumeDown(): void {\n        let newVolume = this.getVolume() - 0.05;\n        if (newVolume <= 0) {\n            newVolume = 0;\n            this.adapter().muted = true;\n        }\n        this.setVolume(newVolume);\n\n    }\n\n    fastForward(seconds: number): void {\n        let newTime = this.currentTime + seconds;\n        if (newTime > this.current().duration) {\n            newTime =  this.current().duration;\n        }\n        this.adapter().setCurrentVideoTime(newTime);\n    }\n\n    rewind(seconds: number): void {\n        let newTime = this.currentTime - seconds;\n        if (newTime < 0) {\n            newTime =  0;\n        }\n        this.adapter().setCurrentVideoTime(newTime);\n    }\n\n    setProgress(percentage: number): void {\n        if (percentage < 0 || percentage > 100) {\n            throw new Error(`Progress ${percentage} is out of range 0 - 100`);\n        }\n\n        const time = this.current().duration * (percentage/100);\n        this.adapter().setCurrentVideoTime(time);\n    }\n\n    isFullScreenAvailable(): boolean {\n        const adapter = this.adapter();\n        if (adapter instanceof DomAdapter) {\n            return adapter.isFullScreenAvailable();\n        }\n\n        return false;\n    }\n\n    requestFullScreen(): Promise<void>|void {\n        const adapter = this.adapter();\n        if (adapter instanceof DomAdapter) {\n            return adapter.requestFullScreen();\n        }\n    }\n\n    toggleFullScreen(): Promise<void>|void {\n        const adapter = this.adapter();\n        if (adapter instanceof DomAdapter) {\n            return adapter.toggleFullScreen();\n        }\n    }\n\n    private adapter(): AdapterInterface {\n        if (this._adapter === undefined && this.castSenderAdapter === undefined) {\n            throw new Error('No adapter')\n        }\n\n        if (this.castSenderAdapter && this.castSenderAdapter.isConnected()) {\n            return this.castSenderAdapter;\n        } else {\n            return this._adapter!;\n        }\n    }\n\n    private selectStream(item: PlayableItem): string {\n        if (this._isHighQualitySelected) {\n            return item.mp4[item.mp4.length -1];\n        }\n        return item.mp4[0];\n    }\n\n    private reloadStream() {\n        if (this.isCasting) {\n            this.castSenderAdapter!.loadQueueData(this.getCastQueueData());\n            const time = this.currentTime;\n            this.play().then(() => {\n                if (time) {\n                    this.castSenderAdapter!.setCurrentVideoTime(time)\n                }\n            });\n        } else {\n            this.adapter().setVideoSource(this.selectStream(this.playlist.current()));\n            this.adapter().setCurrentVideoTime(this.currentTime);\n        }\n    }\n\n    private switchAdapter(e: any): void {\n        const castRequested = e.value;\n\n        if (castRequested && this.canCast && this.castSenderAdapter!.isConnected()) {\n            this.isCasting = true;\n            this.castSenderAdapter!.loadQueueData(this.getCastQueueData());\n\n            let time = 0;\n            let volume = 1;\n            if (this._adapter !== undefined) {\n                this._adapter.pause();\n                if (this.playlist.current().image) {\n                    this._adapter.setPosterSource(this.playlist.current().image.replace(/[r]?[0-9]+x[0-9]+[n]?/, 'r800x'));\n                }\n                time = this._adapter.getCurrentVideoTime();\n                volume = this._adapter.getVideoVolume();\n                this._adapter.setVideoSource('');\n            }\n            this.play().then(() => {\n                if (time) {\n                    this.castSenderAdapter!.setCurrentVideoTime(time)\n                }\n                if (volume === 1) {\n                    volume = 0.99;//to prevent popup showing about max volume when just connected\n                }\n                this.castSenderAdapter!.setVideoVolume(volume);\n            });\n        } else {\n            if (this.isCasting) {\n                this.isCasting = false;\n                this.castSenderAdapter!.pause();\n                if (this._adapter !== undefined) {\n                    setTimeout(() => {\n                        this._adapter!.setVideoSource(this.selectStream(this.playlist.current()));\n                        this._adapter!.setCurrentVideoTime(this.castSenderAdapter!.getCurrentVideoTime());\n                        this._adapter!.setVideoVolume(this.castSenderAdapter!.getVideoVolume());\n                        this._adapter!.resume();\n                    }, 500);\n                }\n            }\n        }\n    }\n\n    private handleKeyDown(e: KeyboardEvent): void {\n        if (e.code === 'Space' || e.code === 'KeyK') {\n            e.preventDefault();\n            if (this.callbacks.togglePlay) {\n                this.callbacks.togglePlay && this.callbacks.togglePlay();\n            } else {\n                this.isPlaying() ? this.pause() : this.resume();\n            }\n        }\n\n        if (e.code === 'KeyM') {\n            e.preventDefault();\n            if (this.callbacks.toggleMute) {\n                this.callbacks.toggleMute && this.callbacks.toggleMute();\n            } else {\n                this.isMuted() ? this.unMute() : this.mute();\n            }\n        }\n\n        if (e.code === 'KeyN') {\n            e.preventDefault();\n            if (this.callbacks.playNext) {\n                this.callbacks.playNext && this.callbacks.playNext();\n            } else {\n                this.next();\n            }\n        }\n\n        if (e.code === 'ArrowLeft') {\n            e.preventDefault();\n            if (this.callbacks.rewind) {\n                this.callbacks.rewind && this.callbacks.rewind();\n            } else {\n                this.rewind(5);\n            }\n        }\n\n        if (e.code === 'ArrowRight') {\n            e.preventDefault();\n            if (this.callbacks.fastForward) {\n                this.callbacks.fastForward && this.callbacks.fastForward();\n            } else {\n                this.fastForward(5);\n            }\n        }\n\n        if (e.code === 'ArrowUp') {\n            e.preventDefault();\n            if (this.callbacks.volumeUp) {\n                this.callbacks.volumeUp && this.callbacks.volumeUp();\n            } else {\n                this.volumeUp();\n            }\n        }\n\n        if (e.code === 'ArrowDown') {\n            e.preventDefault();\n            if (this.callbacks.volumeDown) {\n                this.callbacks.volumeDown && this.callbacks.volumeDown();\n            } else {\n                this.volumeDown();\n            }\n        }\n\n        if (e.code === 'KeyH') {\n            e.preventDefault();\n            if (this.callbacks.toggleQualityMinMax) {\n                this.callbacks.toggleQualityMinMax && this.callbacks.toggleQualityMinMax();\n            } else {\n                if (this.isHighQualitySelected()) {\n                    this.setLowestVideoQuality();\n                } else {\n                    this.setHighestQuality();\n                }\n            }\n        }\n\n        if (e.code === 'KeyF') {\n            e.preventDefault();\n            if (this.callbacks.toggleFullScreen) {\n                this.callbacks.toggleFullScreen && this.callbacks.toggleFullScreen();\n            } else {\n                this.toggleFullScreen();\n            }\n        }\n\n        if (e.code === 'KeyS') {\n            e.preventDefault();\n            if (this.callbacks.reversePlaylistSort) {\n                this.callbacks.reversePlaylistSort && this.callbacks.reversePlaylistSort();\n            } else {\n                this.reversePlaylistSort();\n            }\n        }\n    }\n\n    private getCastQueueData(): Array<PlayableItem> {\n        return this.playlist.items.map((item: PlayableItem, index: number) => {\n            const newItem = Object.assign({}, item);\n            if (this._isHighQualitySelected) {\n                newItem.mp4 = [item.mp4[item.mp4.length - 1]];\n            } else {\n                newItem.mp4 = [item.mp4[0]];\n            }\n            return newItem;\n        });\n    }\n\n    private qualityLabel(url: string): string  {\n        const r = url.match(/-([^-]+[p]?)\\.mp4/);\n        return r && r[1] !== null ? r[1] : 'undefined';\n    };\n}\n\nexport default Player;\n","import PlayableItem from \"../PlayableItem\";\nimport CastSenderAdapterInterface from \"./CastSenderAdapterInterface\";\n\nclass CastSenderAdapter implements CastSenderAdapterInterface {\n    /**\n     * Cast sender api (window.cast)\n     * <script type=\"text/javascript\" src=\"https://www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1\"></script>\n     */\n    public cast: any;\n\n    /**\n     * Chrome browser (window.chrome)\n     */\n    public chrome: any;\n\n    public remotePlayer: any;\n\n    public remotePlayerController: any;\n\n    private castQueueData: Array<any> = [];\n\n    private listeners: Array<{ type: string, listener: EventListenerOrEventListenerObject }> = [];\n\n    constructor(cast: any, chrome: any) {\n        this.cast = cast;\n        this.chrome = chrome;\n\n        const options = {} as any;\n        options.receiverApplicationId = chrome.cast.media.DEFAULT_MEDIA_RECEIVER_APP_ID;\n        options.autoJoinPolicy = chrome.cast.AutoJoinPolicy.ORIGIN_SCOPED;\n        cast.framework.CastContext.getInstance().setOptions(options);\n\n        this.remotePlayer = new cast.framework.RemotePlayer();\n        this.remotePlayerController = new cast.framework.RemotePlayerController(this.remotePlayer);\n    }\n\n    isConnected(): boolean {\n        return this.remotePlayer.isConnected;\n    }\n\n    addListener(type: string, listener: EventListenerOrEventListenerObject): void {\n        this.remotePlayerController.addEventListener(type, listener);\n        this.listeners.push({type: type, listener: listener});\n    }\n\n    removeListener(type: string, listener: EventListenerOrEventListenerObject): void {\n        this.remotePlayerController.removeEventListener(type, listener);\n    }\n\n    unmount(): void {\n        this.listeners.forEach(\n            (listener: { type: string, listener: EventListenerOrEventListenerObject }) => this.remotePlayerController.removeEventListener(listener.type, listener.listener)\n        );\n    }\n\n    get muted(): boolean {\n        return this.remotePlayer.isMuted;\n    }\n\n    set muted(value: boolean) {\n        this.remotePlayerController.muteOrUnmute();\n    }\n\n    currentStream(): string {\n        const session = cast.framework.CastContext.getInstance().getCurrentSession();\n        if (!session) {\n            return '';\n        }\n\n        let mediaStatus = session.getMediaSession();\n        if (!mediaStatus) {\n            return '';\n        }\n\n        return mediaStatus.media.contentId;\n    }\n\n    getCurrentVideoTime(): number {\n        if (this.remotePlayer.savedPlayerState) {\n            return this.remotePlayer.savedPlayerState.currentTime;\n        }\n\n        return this.remotePlayer.currentTime;\n    }\n\n    getVideoDuration(): number {\n        return this.remotePlayer.duration;\n    }\n\n    getVideoVolume(): number {\n        return this.muted ? 0 : this.remotePlayer.volumeLevel;\n    }\n\n    isPlaying(): boolean {\n        return !this.remotePlayer.isPaused;\n    }\n\n    pause(): void {\n        if (!this.remotePlayer.isPaused) {\n            this.remotePlayerController.playOrPause();\n        }\n    }\n\n    play(item?: string): Promise<any> {\n        const items = [];\n        const queueSize = 50;\n        let i = 0;\n        let add = false;\n        while (items.length < queueSize) {\n            if (this.castQueueData[i] === undefined || items.length >= 50) {\n                break;\n            }\n            if (this.castQueueData[i].mp4.indexOf(item) >= 0) {\n                add = true;\n            }\n            if (add) {\n                items.push(new this.chrome.cast.media.MediaInfo(this.castQueueData[i].mp4[0], 'video/mp4'));\n            }\n            i++;\n        }\n\n        const request = new this.chrome.cast.media.LoadRequest();\n        request.queueData = new this.chrome.cast.media.QueueData(\n            'id',\n            'name',\n            'desc',\n            'OFF',\n            items.map((mediaInfoItem: any) => {\n                const queueItem = new this.chrome.cast.media.QueueItem(mediaInfoItem);\n                queueItem.preloadTime = 20;\n                return queueItem;\n            })\n        );\n\n        return this.cast.framework.CastContext.getInstance().getCurrentSession().loadMedia(request);\n    }\n\n    resume(): void {\n        this.remotePlayerController.playOrPause();\n    }\n\n    setCurrentVideoTime(time: number): void {\n        this.remotePlayer.currentTime = time;\n        this.remotePlayerController.seek();\n    }\n\n    setVideoSource(src: string): void {\n    }\n\n    setVideoVolume(volume: number): void {\n        this.remotePlayer.volumeLevel = volume;\n        this.remotePlayerController.setVolumeLevel(volume);\n    }\n\n    loadQueueData(items: Array<PlayableItem>): void {\n        this.castQueueData = items;\n    }\n}\n\nexport default CastSenderAdapter;\n","import \"reflect-metadata\";\nimport { Container } from \"inversify\";\nimport ChannelServiceInterface from \"../../service/ChannelServiceInterface\";\nimport ChannelService from \"../../service/ChannelService\";\nimport ProgramServiceInterface from \"../../service/ProgramServiceInterface\";\nimport ProgramService from \"../../service/ProgramService\";\nimport CONSTANTS from \"./constants/ioc\";\nimport AuthInterface from \"../../service/auth/AuthInterface\";\nimport Auth from \"../../service/auth/index\";\nimport Player from \"../../service/player/Player\";\nimport CastSenderAdapter from \"../../service/player/adapter/CastSenderAdapter\";\n\nimport JavascriptTimeAgo from 'javascript-time-ago';\nimport sk from 'javascript-time-ago/locale/sk';\nimport en from 'javascript-time-ago/locale/en';\nJavascriptTimeAgo.locale(en);\nJavascriptTimeAgo.locale(sk);\n\nlet container = new Container();\ncontainer.bind<AuthInterface>(CONSTANTS.AUTH).to(Auth).inSingletonScope();\nconst auth = container.get<AuthInterface>(CONSTANTS.AUTH);\n\nconst channelService = () => new ChannelService(\n    process.env.REACT_APP_BASENAME as string,\n    auth.password\n);\ncontainer.bind<ChannelServiceInterface>(CONSTANTS.CHANNELS).toDynamicValue(channelService);\ncontainer.bind<ProgramServiceInterface>(CONSTANTS.PROGRAMS).toDynamicValue( () => new ProgramService(\n    channelService(),\n    process.env.REACT_APP_BASENAME as string,\n    auth.password\n));\n\ncontainer.bind<Player>(CONSTANTS.PLAYER).to(Player).inSingletonScope();\n(window as any)['__onGCastApiAvailable'] = function (isAvailable: boolean) {\n    if (isAvailable) {\n        const cast = window.cast;\n        const chrome = (window as any).chrome;\n        if (cast !== undefined && chrome !== undefined) {\n            container.get<Player>(CONSTANTS.PLAYER).initializeCastPlayer(\n                new CastSenderAdapter(cast, chrome)\n            );\n        }\n    }\n};\n\nexport { container };\n","import {createMuiTheme} from '@material-ui/core/styles';\nimport {PaletteType} from '@material-ui/core';\n\nfunction getTheme(mode: PaletteType) {\n    return createMuiTheme({\n        palette: {\n            type: mode,\n            primary: {\n                main: mode === 'dark' ? 'rgb(62, 166, 255)' : '#065fd4',\n            },\n            background: {\n                default: mode === 'dark' ? 'rgb(18, 18, 18)' : 'default',\n            },\n            text: {\n                primary: mode === 'light' ? 'rgb(13, 13, 13)' : '#fff',\n            }\n        },\n    });\n}\n\nexport default getTheme;","import getTheme from '../containers/themes/streamTv';\nimport {createMuiTheme} from '@material-ui/core/styles';\nimport CONSTANTS from \"../app/config/constants/ioc\";\nimport {container} from \"../app/config/ioc_config\";\n\nimport {\n    PLAYER_NEXT,\n    PLAYER_PAUSE,\n    PLAYER_PLAY,\n    PLAYER_PREVIOUS,\n    PLAYER_SET_AUTOPLAY_ON_OFF,\n    PLAYER_TOGGLE_PAUSE_PLAY,\n    PLAYER_LOAD_PLAYLIST,\n    PLAYER_LOAD_PLAYLIST_AND_START_PLAYING,\n    PLAYER_SET_VIDEO_ELEMENT_AND_START_PLAYING,\n    PLAYER_PLAY_PLAYLIST_ITEM,\n    PLAYER_SORT_PLAYLIST_REVERSE_SORT,\n    PLAYER_SORT_PLAYLIST_ASC,\n    PLAYER_SORT_PLAYLIST_DESC,\n    PLAYER_SHUFFLE_ON,\n    PLAYER_SHUFFLE_OFF,\n    PLAYER_LOOP_ON,\n    PLAYER_LOOP_OFF,\n    SELECT_TVSERIES_ARCHIVE,\n    PLAYER_SET_HIGHEST_QUALITY,\n    PLAYER_SET_LOWEST_QUALITY,\n    SELECT_CHANNEL_ARCHIVE,\n    PLAYER_UPDATE_NEXT_ITEM_DURATION,\n    THEME_SELECT_MODE, THEME_TOGGLE_MODE, PLAYER_TOGGLE_PAUSE_PLAY_WITH_ANIMATION, PLAYER_TOGGLE_MUTE,\n    PLAYER_TOGGLE_MUTE_WITH_ANIMATION,\n    PLAYER_REWIND_WITH_ANIMATION,\n    PLAYER_FAST_FORWARD_WITH_ANIMATION,\n    PLAYER_VOLUME_UP_WITH_ANIMATION,\n    PLAYER_VOLUME_DOWN_WITH_ANIMATION, OPEN_PLAYLIST_MENU, CLOSE_PLAYLIST_MENU,\n} from \"../app/config/constants/action_types\";\nimport PlaylistFactory from \"../service/player/PlaylistFactory\";\nimport Player from \"../service/player/Player\";\nimport DomAdapter from \"../service/player/adapter/DomAdapter\";\n\nconst initialState = {\n    player: container.get<Player>(CONSTANTS.PLAYER),\n    selectedTVSeriesArchive: null,\n    channelArchives: {} as any,\n    theme: getTheme('dark'),\n    animatePausePlay: false,\n    animateMute: false,\n    animateFastForward: false,\n    animateRewind: false,\n    animateVolumeUp: false,\n    animateVolumeDown: false,\n    animateVolumeLabel: false,\n    menuAnchorElement: null,\n};\n\nfunction rootReducer(state = initialState, action: any) {\n    switch(action.type) {\n        case PLAYER_PLAY:\n            state.player.play();\n            return state;\n        case PLAYER_PAUSE:\n            state.player.pause();\n            return state;\n        case PLAYER_NEXT:\n            state.player.next();\n            return state;\n        case PLAYER_PREVIOUS:\n            state.player.previous();\n            return state;\n        case PLAYER_SET_AUTOPLAY_ON_OFF:\n            state.player.autoplay = action.payload;\n            return state;\n        case PLAYER_LOAD_PLAYLIST:\n            state.player.load(action.payload);\n            return state;\n        case PLAYER_SET_HIGHEST_QUALITY:\n            state.player.setHighestQuality();\n            return state;\n        case PLAYER_SET_LOWEST_QUALITY:\n            state.player.setLowestVideoQuality();\n            return state;\n        case PLAYER_PLAY_PLAYLIST_ITEM:\n            state.player.playPlaylistItem(action.payload);\n            return state;\n        case PLAYER_TOGGLE_PAUSE_PLAY:\n            if (state.player.isPlaying()) {\n                state.player.pause();\n            } else {\n                state.player.resume();\n            }\n            return state;\n        case PLAYER_TOGGLE_MUTE:\n            state.player.isMuted() ? state.player.unMute() : state.player.mute();\n            return state;\n        case PLAYER_TOGGLE_MUTE_WITH_ANIMATION:\n            state.player.isMuted() ? state.player.unMute() : state.player.mute();\n            state.animateMute = !state.animateMute;\n            state.animateVolumeLabel = !state.animateVolumeLabel;\n            return state;\n        case PLAYER_TOGGLE_PAUSE_PLAY_WITH_ANIMATION:\n            if (!state.menuAnchorElement) {\n                if (state.player.isPlaying()) {\n                    state.player.pause();\n                } else {\n                    state.player.resume();\n                }\n                state.animatePausePlay = !state.animatePausePlay;\n            }\n            return state;\n        case PLAYER_FAST_FORWARD_WITH_ANIMATION:\n            state.player.fastForward(5);\n            state.animateFastForward = !state.animateFastForward;\n            return state;\n        case PLAYER_REWIND_WITH_ANIMATION:\n            state.player.rewind(5);\n            state.animateRewind = !state.animateRewind;\n            return state;\n        case PLAYER_VOLUME_UP_WITH_ANIMATION:\n            if (!state.menuAnchorElement) {\n                state.player.volumeUp();\n                state.animateVolumeUp = !state.animateVolumeUp;\n                state.animateVolumeLabel = !state.animateVolumeLabel;\n            }\n            return state;\n        case PLAYER_VOLUME_DOWN_WITH_ANIMATION:\n            if (!state.menuAnchorElement) {\n                state.player.volumeDown();\n                state.animateVolumeDown = !state.animateVolumeDown;\n                state.animateVolumeLabel = !state.animateVolumeLabel;\n            }\n            return state;\n        case PLAYER_LOAD_PLAYLIST_AND_START_PLAYING:\n            state.player.load(action.payload);\n            if (state.player.isLoaded() && state.player.autoplay) {\n                state.player.play();\n            }\n            return state;\n        case PLAYER_SET_VIDEO_ELEMENT_AND_START_PLAYING:\n            state.player.initializeHtmlPlayer(new DomAdapter(window, action.payload), action.callbacks);\n            if (state.player.isLoaded() && state.player.autoplay) {\n                state.player.play();\n            }\n            return state;\n        case PLAYER_SORT_PLAYLIST_REVERSE_SORT:\n            state.player.reversePlaylistSort();\n            return state;\n        case PLAYER_SORT_PLAYLIST_ASC:\n            state.player.sortPlaylistAsc();\n            return state;\n        case PLAYER_SORT_PLAYLIST_DESC:\n            state.player.sortPlaylistDesc();\n            return state;\n        case PLAYER_SHUFFLE_ON:\n            state.player.enableShuffle();\n            return state;\n        case PLAYER_SHUFFLE_OFF:\n            state.player.disableShuffle();\n            return state;\n        case PLAYER_LOOP_ON:\n            state.player.enableLoop();\n            return state;\n        case PLAYER_LOOP_OFF:\n            state.player.disableLoop();\n            return state;\n        case SELECT_CHANNEL_ARCHIVE:\n            state.channelArchives[action.payload.channelId] = action.payload.archive;\n            return state;\n        case SELECT_TVSERIES_ARCHIVE:\n            state.player.load(PlaylistFactory.createPlaylistForProgramSeason(action.payload.seasons[0]));\n            state.selectedTVSeriesArchive = action.payload;\n            return state;\n        case PLAYER_UPDATE_NEXT_ITEM_DURATION:\n            const next = state.player.willPlayNext();\n            if (next) {\n                next.duration = action.payload;\n            }\n            return state;\n        case THEME_SELECT_MODE:\n            state.theme = createMuiTheme({\n                palette: {\n                    type: action.payload,\n                },\n            });\n            return state;\n        case THEME_TOGGLE_MODE:\n            state.theme = getTheme(state.theme.palette.type === 'light' ? 'dark' : 'light');\n            return state;\n        case OPEN_PLAYLIST_MENU:\n            state.menuAnchorElement = action.payload;\n            return state;\n        case CLOSE_PLAYLIST_MENU:\n            state.menuAnchorElement = null;\n            return state;\n        default:\n            return state;\n    }\n}\n\nexport default rootReducer;","import { createStore } from \"redux\";\nimport rootReducer from \"../reducers/index\";\nconst store = createStore(rootReducer);\n\nexport default store;","import LocaleInterface from \"./LocaleInterface\";\n\nexport default class Locale implements LocaleInterface {\n    constructor(\n        private readonly _lang: string,\n        private readonly _territory?: string\n    ) {\n    }\n\n    static fromString(inputString: string): Locale {\n        const bits = inputString.split('-');\n\n        if (bits.length === 1) {\n            return new Locale(inputString);\n        }\n        if (bits.length !== 2) {\n            throw new Error(`Can not determinte locale from ${inputString}`);\n        }\n\n        return new Locale(bits[0], bits[1]);\n    }\n\n    lang(): string {\n        return this._lang;\n    }\n\n    territory(): string {\n        return this._territory ? this._territory: '';\n    }\n\n    toString(): string {\n        return this._territory ? `${this._lang}_${this._territory}` : this._lang;\n    }\n}\n","import * as React from 'react';\nimport {render} from 'react-dom';\nimport Kernel from './framework/kernel/Kernel';\nimport config from './app/config/index';\nimport App from './containers/App';\nimport {container} from \"./app/config/ioc_config\";\nimport { Provider } from 'react-redux'\nimport store from \"./store\";\nimport LocaleInterface from \"./entities/LocaleInterface\";\nimport Locale from \"./entities/Locale\";\nconst localeString = require('browser-locale')();\n\nclass ReactAppKernel extends Kernel {\n    protected readonly root: HTMLElement;\n    protected locale: LocaleInterface;\n\n    constructor(root: HTMLElement) {\n        super();\n        this.root = root;\n        this.locale = Locale.fromString(localeString);\n    }\n\n    static attachTo(root: HTMLElement): ReactAppKernel {\n        return new this(root);\n    }\n\n    run(): void {\n        this.boot();\n        render(<Provider store={store}><App locale={this.locale} container={this._container}/></Provider>, this.root);\n    }\n\n    protected initializeContainer(): void {\n        this._container = container;\n    }\n\n    protected loadConfig(): void {\n        this.config = config;\n    }\n}\n\nexport default ReactAppKernel;\n","import ReactAppKernel from './Kernel';\n\nconst element = document.getElementById('app');\nif (element) {\n    ReactAppKernel.attachTo(element).run();\n}\n"],"sourceRoot":""}