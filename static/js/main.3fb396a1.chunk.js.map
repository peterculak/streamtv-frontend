{"version":3,"sources":["framework/kernel/Kernel.ts","app/config/index.ts","app/controller/Error/Error404.tsx","context/authContext.tsx","app/controller/Auth/index.tsx","app/config/constants/action_types.ts","actions/archiveItem.ts","actions/player.ts","components/slider/ValueLabel.js","components/slider/Slider.js","helpers/functions.ts","components/player/mediaControls/videoProgressBar.tsx","components/tooltip/index.tsx","components/player/mediaControls/volumeControls.tsx","components/player/mediaControls/castButton.tsx","components/player/mediaControls/index.tsx","components/ripple/index.tsx","components/player/mediaControls/volumeLabel.tsx","components/player/index.tsx","components/playlist/playlistItem.tsx","actions/theme.ts","service/player/Playlist.ts","service/player/PlaylistItem.ts","service/player/PlaylistFactory.ts","components/playlist/header.tsx","components/playlist/index.tsx","components/errorBoundary/index.tsx","app/controller/EpisodeDetail/index.tsx","components/tvChannel/index.tsx","app/controller/Channels/index.tsx","components/archiveItem/index.tsx","components/scrollManager/index.ts","app/controller/Programs/index.tsx","app/controller/Sandbox/animation/index.tsx","app/controller/Sandbox/slider/index.tsx","app/config/constants/ioc.ts","app/controller/Sandbox/castButton/index.tsx","containers/Main.tsx","containers/Layout.tsx","containers/App.tsx","entities/Channel.ts","service/ChannelService.ts","service/ProgramService.ts","service/auth/index.ts","service/player/adapter/AdapterException.ts","service/player/adapter/DomAdapter.ts","service/player/Player.ts","service/player/adapter/CastSenderAdapter.ts","app/config/ioc_config.ts","containers/themes/streamTv.ts","reducers/index.ts","store/index.ts","entities/Locale.ts","Kernel.tsx","index.ts"],"names":["Kernel","Object","classCallCheck","this","booted","_container","config","createClass","key","value","loadConfig","initializeContainer","undefined","get","Error404","react_default","a","createElement","className","Link","to","AuthContext","React","createContext","AuthProvider","props","cached","sessionStorage","getItem","authService","login","_React$useState","useState","password","_React$useState2","slicedToArray","setPassword","Provider","assign","setItem","isLoggedIn","logout","clear","useAuth","context","useContext","Error","withStyles","theme","form","height","container","gridItem","width","withTheme","prop","auth","showPassword","values","setValues","handleLogin","classes","onSubmit","Grid","alignItems","justify","direction","item","xs","md","lg","spacing","Box","textAlign","FormControl","InputLabel","htmlFor","Input","id","type","onChange","event","objectSpread","defineProperty","target","autoFocus","endAdornment","InputAdornment","position","IconButton","aria-label","onClick","Visibility_default","VisibilityOff_default","Button","size","variant","color","process","PLAYER_SET_VIDEO_ELEMENT_AND_START_PLAYING","PLAYER_NEXT","PLAYER_PREVIOUS","PLAYER_PLAY","PLAYER_PAUSE","PLAYER_TOGGLE_PAUSE_PLAY","PLAYER_TOGGLE_PAUSE_PLAY_WITH_ANIMATION","PLAYER_REWIND_WITH_ANIMATION","PLAYER_FAST_FORWARD_WITH_ANIMATION","PLAYER_VOLUME_UP_WITH_ANIMATION","PLAYER_VOLUME_DOWN_WITH_ANIMATION","PLAYER_SET_AUTOPLAY_ON_OFF","PLAYER_LOAD_PLAYLIST","PLAYER_LOAD_PLAYLIST_AND_START_PLAYING","PLAYER_PLAY_PLAYLIST_ITEM","PLAYER_SORT_PLAYLIST_REVERSE_SORT","PLAYER_SORT_PLAYLIST_ASC","PLAYER_SORT_PLAYLIST_DESC","PLAYER_SHUFFLE_ON","PLAYER_SHUFFLE_OFF","PLAYER_LOOP_ON","PLAYER_LOOP_OFF","PLAYER_SET_HIGHEST_QUALITY","PLAYER_SET_LOWEST_QUALITY","PLAYER_VIDEO_ELEMENT_DATA_LOADED","PLAYER_UPDATE_NEXT_ITEM_DURATION","PLAYER_VIDEO_TIME_UPDATE","PLAYER_TOGGLE_MUTE","PLAYER_TOGGLE_MUTE_WITH_ANIMATION","SELECT_CHANNEL_ARCHIVE","SELECT_TVSERIES_ARCHIVE","THEME_SELECT_MODE","THEME_TOGGLE_MODE","OPEN_PLAYLIST_MENU","CLOSE_PLAYLIST_MENU","selectSeriesArchive","archive","payload","next","playPlaylistItem","reversePlaylistSort","openPlaylistMenu","anchorEl","thumb","&$open","& $offset","transform","open","offset","zIndex","typography","body2","fontSize","pxToRem","lineHeight","transition","transitions","create","duration","shortest","top","left","transformOrigin","circle","display","justifyContent","borderRadius","backgroundColor","label","palette","primary","contrastText","name","children","index","valueLabelDisplay","valueLabelFormat","cloneElement","clsx","asc","b","clamp","min","max","findClosest","currentValue","reduce","acc","distance","Math","abs","trackFinger","touchId","current","changedTouches","i","length","touch","identifier","x","pageX","y","pageY","valueToPercent","percentToValue","percent","roundValueToStep","step","nearest","round","Number","toFixed","num","parts","toExponential","split","matissaDecimalPart","parseInt","decimalPart","toString","getDecimalPrecision","setValueIndex","_ref","source","newValue","output","toConsumableArray","focusThumb","_ref2","sliderRef","activeIndex","setActive","contains","document","activeElement","getAttribute","querySelector","concat","focus","axisProps","horizontal","leap","horizontal-reverse","right","vertical","bottom","defaultMarks","Identity","Slider","forwardRef","ref","_clsx","ariaLabel","ariaLabelledby","ariaValuetext","_props$component","component","Component","defaultValue","_props$disabled","disabled","getAriaValueText","_props$marks","marks","marksProp","_props$max","_props$min","onChangeCommitted","onMouseDown","_props$orientation","orientation","_props$step","_props$ThumbComponent","ThumbComponent","valueProp","_props$ValueLabelComp","ValueLabelComponent","ValueLabel","_props$valueLabelDisp","_props$valueLabelForm","_props$railHoverLabel","railHoverLabel","_props$railHoverLabel2","railHoverLabelFormat","onMouseOver","onMouseOut","other","objectWithoutProperties","useTheme","isControlled","useRef","active","_React$useState3","_React$useState4","setOpen","_React$useState5","_React$useState6","valueState","setValueState","valueDerived","range","Array","isArray","instanceRef","sort","map","floor","_","_useIsFocusVisible","useIsFocusVisible","isFocusVisible","onBlurVisible","focusVisibleRef","_React$useState7","_React$useState8","focusVisible","setFocusVisible","handleFocusRef","useForkRef","handleRef","handleFocus","useEventCallback","currentTarget","handleBlur","handleMouseOver","handleMouseLeave","handleKeyDown","tenPercents","marksValues","mark","marksIndex","indexOf","preventDefault","previousValue","previousIndex","axis","getFingerNewValue","useCallback","_ref3","finger","_ref3$move","move","values2","slider","_slider$getBoundingCl","getBoundingClientRect","ownerWindow","pageYOffset","pageXOffset","getMouseNewValue","mouse","_slider$getBoundingCl2","handleTouchMove","_getFingerNewValue","handleTouchEnd","body","removeEventListener","handleMouseEnter","buttons","handleTouchStart","_getFingerNewValue3","addEventListener","useEffect","handleMouseDown","_getFingerNewValue4","_React$useState9","_React$useState10","railHoverScaleX","setRailHoverScaleX","_React$useState11","_React$useState12","railHoverTooltipOpacity","setRailHoverTooltipOpacity","_React$useState13","_React$useState14","railHoverTooltipLeft","setRailHoverTooltipLeft","_React$useState15","_React$useState16","railHoverTooltipValue","setRailHoverTooltipValue","railHoverStyle","railHoverTooltipStyle","opacity","trackOffset","trackLeap","trackStyle","root","marked","some","rect","closest","clientX","scale","clientY","onMouseMove","rail","style","railHover","railHoverTooltip","railHoverTooltipInner","track","join","markActive","Fragment","markLabel","markLabelActive","_clsx4","valueLabel","tabIndex","role","data-index","aria-labelledby","aria-orientation","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","onKeyDown","onFocus","onBlur","onMouseLeave","boxSizing","padding","cursor","touchAction","main","WebkitTapHighlightColor","&$disabled","grey","&$vertical","marginBottom","marginRight","$vertical &","marginLeft","marginTop","outline","&$focusVisible,&:hover","boxShadow","fade","@media (hover: none)","&$active","$disabled &","pointerEvents","&:hover","$vertical$disabled &","lighten","text","secondary","whiteSpace","formatLength","lengthInSeconds","hours","minutes","seconds","secondsStr","String","minutesStr","progressBarStyles","makeStyles","hover","letterSpacing","fontWeight","StyledSlider","rest","slider_Slider","VideoProgressBar","player","useSelector","state","isVideoProgressMouseOver","setIsVideoProgressMouseOver","isLoaded","format","getCurrentTime","setProgress","createStyles","tooltip","Tooltip","placement","volumeControlBar","volumeSlider","volumeSliderVisible","minWidth","verticalAlign","dispatch","useDispatch","isVolumeMouseOver","setIsVolumeMouseOver","isVolumeMouseDown","setIsVolumeMouseDown","volumeMouseOver","volumeMouseDown","ClickAwayListener","onClickAway","title","isMuted","VolumeOff_default","getVolume","VolumeUp_default","VolumeDown_default","volumeControls_StyledSlider","onMouseUp","setVolume","GoogleCastButton","_React$Component","_this","possibleConstructorReturn","getPrototypeOf","call","createRef","inherits","remove","--disconnected-color","--connected-color","fileDownload","require","gradientBottom","margin","backgroundPosition","backgroundRepeat","backgroundImage","hdBadge","&::after","content","timeDisplay","textShadow","leftControls","float","rightControls","timeCurrent","timeSeparator","timeDuration","_useSelector","selectedTVSeriesArchive","showControls","isCasting","isHover","isPlaying","mdUp","useMediaQuery","breakpoints","up","getVideoElementWidth","videoProgressBar","Pause_default","PlayArrow_default","ACTIONS","SkipNext_default","volumeControls","isHighQualitySelected","Settings_default","url","m","match","seriesNumber","selectedSeasonIndex","series","meta","episodeNumber","episode","ext","filename","window","download","currentStream","GetApp_default","canCast","castButton_GoogleCastButton","isFullScreenAvailable","requestFullScreen","Fullscreen_default","useStyles","icon","transitionGroup","fadeIn-entered","fadeIn-entering","animation","fadeIn-exiting","fadeIn-exited","from","Index","animate","Transition","in","timeout","inner","VolumeLabel","Player","playerRef","animatePausePlay","animateMute","animateFastForward","animateRewind","animateVolumeUp","animateVolumeDown","animateVolumeLabel","_useState","_useState2","setIsHover","playNextTrigger","dataLoaded","timeupdate","togglePlay","toggleMute","fastForward","rewind","volumeUp","volumeDown","subtitle","videoElement","callbacks","ended","loadeddata","ripple","Forward5_default","Replay5_default","volumeLabel","player_mediaControls","Hidden","smDown","Typography","mt","mb","Divider","_media","_playlistPositionNumb","card","paddingBottom","down","notSelectedCard","selectedCard","selectedCardMarginTop","media","detail","&:last-child","headline","maxHeight","overflow","subhead","dateAdded","playlistPosition","playlistPositionNumberWidth","paddingLeft","playlistPositionArrow","hint","playlistPositionNumber","itemLength","itemClick","imageQuality","Card","square","elevation","CardActionArea","sm","CardMedia","image","replace","CardContent","ReactTimeAgo","locale","lang","date","toggleThemeMode","Playlist","_items","_currentIndex","_sortOrder","push","filter","src","moveToIndex","forEach","mp4","currentIndex","reverse","items","sortPosition","set","PlaylistItem","_sortPosition","PlaylistFactory","selectedSeason","playlist","episodes","playlistItem","createPlaylistItem","Date","parse","add","sortAsc","sortDesc","error","isValidDate","bits","correctlyFormattedDateString","thumbnailUrl","timeRequired","d","isNaN","_playlistHeader","_playlistHeaderMetaDa","_playlistHeaderTitle","_controlBar","playlistHeader","playlistHeaderMetaData","playlistHeaderTitle","playlistHeaderSubHead","controlBar","playerControlsButton","playerControlsButtonCommon","firstButton","menuAnchorElement","handlePlaylistChange","setSelectedSeasonIndex","createPlaylistForProgramSeason","seasons","handleMenuClose","e","code","buttonRef","THEME_ACTIONS","currentlyPlayingItemOrder","playlistItemsCount","List_default","Menu","keepMounted","Boolean","onClose","season","MenuItem","getPlaylistSortOrder","SortByAlpha_default","SvgIcon","_playlist","borderBottom","playlistItems","playlistHeight","setPlaylistHeight","videoHeight","getVideoElementHeight","innerHeight","setHeight","isVideoDataLoaded","cellMeasurerCache","CellMeasurerCache","fixedWidth","defaultHeight","RowMdUp","parent","dist_es","cache","columnIndex","rowIndex","playlist_playlistItem","_useState3","_useState4","rowSmDown","header","disableHeight","paddingTop","deferredMeasurementCache","rowHeight","rowRenderer","rowCount","overscanRowCount","ErrorBoundary","hasError","info","_rhc","videoPlayer","rhc","seriesArchive","programService","findOne","params","slug","then","newArchive","ITEM_ACTIONS","catch","videoElementHeight","setVideoElementHeight","ceil","parseFloat","errorBoundary","components_player","components_playlist","channel","ChannelsController","channels","setChannels","channelService","findAll","history","tvChannel","styles","archiveItem","onClickHandler","programArchive","channelId","img","gutterBottom","memoryStore","_data","Map","data","ScrollPositionManager","_target","pos","_this2","scrollStore","scrollKey","requestAnimationFrame","scroll","getScrollPosition","restoreScrollPosition","nextProps","saveScrollPosition","prevProps","_this$props$children","scrollTo","scrollX","scrollY","defaultProps","ProgramController","archives","channelArchives","isBetween","between","isMdUp","Row","components_archiveItem","scrollManager_ScrollPositionManager","defaultStyle","transitionStyles","entering","entered","exiting","exited","inProp","setInProp","run","setRun","toggleInOut","currentTime","setValue","slider_StyledSlider","CONSTANTS","PLAYER","Symbol","for","BASENAME","CHANNELS","PROGRAMS","AUTH","font-size","react","Switch","Route","exact","path","render","routeProps","Channels","Sandbox_slider","Sandbox_castButton_GoogleCastButton","Programs","EpisodeDetail","controller_Auth","Layout","app","containers_Main","App","HashRouter","MuiThemeProvider","CssBaseline","containers_Layout","Channel","injectable","_dec","_class","datafile","arguments","ChannelService","ChannelService_dec","ChannelService_class","basename","channelsUrl","fetch","r","encrypted","decrypt","jsonString","JSON","keys","channelData","Promise","resolve","find","crypto","Utf8","ProgramService","ProgramService_dec","ProgramService_class","Auth","auth_dec","auth_class","_password","AdapterException","_Error","apply","volume","wrapNativeSuper","DomAdapter","_window","htmlVideoElement","documentListeners","htmlElementListeners","getComputedStyle","setVideoSource","play","emptyVideoSource","poster","pause","paused","listener","numberOfSeconds","muted","volumeOutOfRange","requestFullscreen","fullscreen","exitFullscreen","Player_dec","Player_class","_autoplay","shuffleEnabled","loopEnabled","_isVideoDataLoaded","_isHighQualitySelected","_adapter","castSenderAdapter","adapter","unmount","addListener","getVideoDuration","resume","getCurrentVideoTime","addKeyDownListener","cast","framework","RemotePlayerEventType","IS_CONNECTED_CHANGED","switchAdapter","streamUrl","contentId","setPosterSource","moveIndexTo","isConnected","loadQueueData","hasVideoElement","selectStream","hasNext","previous","previousItem","nextItem","sortOrder","_this3","qualityLabel","reloadStream","getVideoVolume","setVideoVolume","newVolume","newTime","setCurrentVideoTime","percentage","time","toggleFullScreen","_this4","getCastQueueData","_this5","setTimeout","unMute","mute","playNext","toggleQualityMinMax","setLowestVideoQuality","setHighestQuality","_this6","newItem","CastSenderAdapter","chrome","remotePlayer","remotePlayerController","castQueueData","listeners","options","receiverApplicationId","DEFAULT_MEDIA_RECEIVER_APP_ID","autoJoinPolicy","AutoJoinPolicy","ORIGIN_SCOPED","CastContext","getInstance","setOptions","RemotePlayer","RemotePlayerController","session","getCurrentSession","mediaStatus","getMediaSession","savedPlayerState","volumeLevel","isPaused","playOrPause","MediaInfo","request","LoadRequest","queueData","QueueData","mediaInfoItem","queueItem","QueueItem","preloadTime","loadMedia","seek","setVolumeLevel","muteOrUnmute","JavascriptTimeAgo","en","sk","Container","bind","inSingletonScope","toDynamicValue","isAvailable","initializeCastPlayer","getTheme","mode","createMuiTheme","background","default","initialState","rootReducer","action","autoplay","load","initializeHtmlPlayer","sortPlaylistAsc","sortPlaylistDesc","enableShuffle","disableShuffle","enableLoop","disableLoop","willPlayNext","store","createStore","Locale","_lang","_territory","inputString","localeString","ReactAppKernel","_Kernel","fromString","boot","es","containers_App","element","getElementById","attachTo"],"mappings":"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","file":"static/js/main.3fb396a1.chunk.js","sourcesContent":["import KernelInterface from \"./KernelInterface\";\n\nabstract class Kernel implements KernelInterface {\n    protected booted: boolean = false;\n    protected _container: any;\n    protected config: Object = {};\n\n    get container(): any {\n        return this._container;\n    }\n\n    public boot(): void {\n        if (!this.booted) {\n            this.loadConfig();\n            this.initializeContainer();\n            this.booted = true;\n        }\n    }\n\n    public shutDown(): void {\n        this.booted = false;\n        this._container = undefined;\n    }\n\n    abstract run(): void;\n\n    protected abstract loadConfig(): void;\n\n    protected abstract initializeContainer(): void;\n}\n\nexport default Kernel;\n","export default {};\n","import React from 'react';\nimport {Link} from 'react-router-dom';\n\nconst Error404 = () => (\n    <div className=\"page-error-container\">\n        <div className=\"page-error-content\">\n            <div className=\"error-code mb-4\">404</div>\n            <h2 className=\"text-center fw-regular title\">\n                Page not found\n            </h2>\n            <p className=\"text-center\">\n                <Link className=\"btn btn-primary\" to=\"/\">Home</Link>\n            </p>\n        </div>\n    </div>\n);\n\nexport default Error404;\n","import React from 'react';\nimport AuthInterface from \"../service/auth/AuthInterface\";\nconst AuthContext = React.createContext({});\n\nfunction AuthProvider(props: {authService: AuthInterface}) {\n    const PASSWORD_KEY = 'password';\n    const cached = sessionStorage.getItem(PASSWORD_KEY);\n    if (cached) {\n        props.authService.login(cached);\n    }\n\n    const [password, setPassword] = React.useState(props.authService.password);\n\n    const login = (password: string) => {\n        props.authService.login(password);\n        sessionStorage.setItem(PASSWORD_KEY, password);\n        setPassword(password);\n    };\n\n    const logout = () => {\n        props.authService.logout();\n        sessionStorage.clear();\n        setPassword('');\n    };\n\n    const isLoggedIn = () => props.authService.isLoggedIn();\n\n    return (\n        <AuthContext.Provider value={{login, isLoggedIn, logout}} {...props} />\n    )\n}\n\nfunction useAuth<T = AuthInterface>(): T {\n    const context = React.useContext(AuthContext) as T;\n    if (context === undefined) {\n        throw new Error(`useAuth must be used within a AuthProvider`)\n    }\n    return context\n}\n\nexport {AuthProvider, useAuth};\n","import React from 'react';\nimport Grid from '@material-ui/core/Grid';\nimport {withStyles, Theme} from '@material-ui/core/styles';\nimport FormControl from '@material-ui/core/FormControl';\nimport Input from '@material-ui/core/Input';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport IconButton from '@material-ui/core/IconButton';\nimport Visibility from '@material-ui/icons/Visibility';\nimport VisibilityOff from '@material-ui/icons/VisibilityOff';\nimport Button from '@material-ui/core/Button';\nimport {useAuth} from \"../../../context/authContext\";\nimport Box from '@material-ui/core/Box';\nconst styles = (theme: Theme) => ({\n    form: {\n        height: '100%',\n    },\n    container: {\n        height: '100%',\n    },\n    gridItem: {\n        width: '100%',\n    }\n});\n\ninterface State {\n    password: string;\n    showPassword: boolean;\n}\n\nfunction AuthController(props: any) {\n    const auth = useAuth();\n\n    const [values, setValues] = React.useState<State>({\n        password: '',\n        showPassword: false,\n    });\n\n    const handleChange = (prop: keyof State) => (event: React.ChangeEvent<HTMLInputElement>) => {\n        setValues({ ...values, [prop]: event.target.value });\n    };\n\n    const handleClickShowPassword = () => {\n        setValues({ ...values, showPassword: !values.showPassword });\n    };\n\n    const handleLogin = () => {\n        auth.login(values.password);\n    };\n\n    const {classes} = props;\n\n    return (\n        <form onSubmit={handleLogin} className={classes.form}>\n            <Grid\n                className={classes.container}\n                alignItems=\"center\"\n                justify=\"center\"\n                container\n                direction=\"row\"\n            >\n                <Grid item xs={8} md={3} lg={2}>\n                    <Grid container\n                          alignItems=\"center\"\n                          justify=\"center\"\n                          spacing={2}\n                    >\n                        <Grid item className={classes.gridItem}>\n                            <Box textAlign=\"right\">\n                                <FormControl>\n                                    <InputLabel htmlFor=\"adornment-password\">Password</InputLabel>\n                                    <Input\n                                        id=\"adornment-password\"\n                                        type={values.showPassword ? 'text' : 'password'}\n                                        value={values.password}\n                                        onChange={handleChange('password')}\n                                        autoFocus\n                                        endAdornment={\n                                            <InputAdornment position=\"end\">\n                                                <IconButton aria-label=\"Toggle password visibility\"\n                                                            onClick={handleClickShowPassword}>\n                                                    {values.showPassword ? <Visibility/> : <VisibilityOff/>}\n                                                </IconButton>\n                                            </InputAdornment>\n                                        }\n                                    />\n                                </FormControl>\n                            </Box>\n                        </Grid>\n\n                        <Grid item className={classes.gridItem}>\n                            <Box textAlign=\"right\">\n                                <Button size=\"large\" variant=\"contained\" color=\"primary\" onClick={handleLogin}>Login</Button>\n                            </Box>\n                        </Grid>\n                        <Grid item className={classes.gridItem}>\n                            <Box textAlign=\"right\">\n                            password is: {process.env.REACT_APP_STREAMTV_PASSWORD}\n                            </Box>\n                        </Grid>\n                    </Grid>\n                </Grid>\n            </Grid>\n        </form>\n    );\n}\n\nexport default withStyles(styles, {withTheme: true})(AuthController);\n","export const PLAYER_SET_VIDEO_ELEMENT_AND_START_PLAYING = \"PLAYER_SET_VIDEO_ELEMENT_AND_START_PLAYING\";\nexport const PLAYER_NEXT = \"PLAYER_NEXT\";\nexport const PLAYER_PREVIOUS = \"PLAYER_PREVIOUS\";\nexport const PLAYER_PLAY = \"PLAYER_PLAY\";\nexport const PLAYER_PAUSE = \"PLAYER_PAUSE\";\nexport const PLAYER_TOGGLE_PAUSE_PLAY = \"PLAYER_TOGGLE_PAUSE_PLAY\";\nexport const PLAYER_TOGGLE_PAUSE_PLAY_WITH_ANIMATION = \"PLAYER_TOGGLE_PAUSE_PLAY_WITH_ANIMATION\";\nexport const PLAYER_REWIND_WITH_ANIMATION = \"PLAYER_REWIND_WITH_ANIMATION\";\nexport const PLAYER_FAST_FORWARD_WITH_ANIMATION = \"PLAYER_FAST_FORWARD_WITH_ANIMATION\";\nexport const PLAYER_VOLUME_UP_WITH_ANIMATION = \"PLAYER_VOLUME_UP_WITH_ANIMATION\";\nexport const PLAYER_VOLUME_DOWN_WITH_ANIMATION = \"PLAYER_VOLUME_DOWN_WITH_ANIMATION\";\nexport const PLAYER_SET_AUTOPLAY_ON_OFF = \"PLAYER_TOGGLE_AUTOPLAY\";\nexport const PLAYER_LOAD_PLAYLIST = \"PLAYER_LOAD_PLAYLIST\";\nexport const PLAYER_LOAD_PLAYLIST_AND_START_PLAYING = \"PLAYER_LOAD_PLAYLIST_AND_START_PLAYING\";\nexport const PLAYER_CHANGE_STREAM_QUALITY_INDEX = \"PLAYER_CHANGE_STREAM_QUALITY_INDEX\";\nexport const PLAYER_PLAY_PLAYLIST_ITEM = \"PLAYER_PLAY_PLAYLIST_ITEM\";\nexport const PLAYER_SORT_PLAYLIST_REVERSE_SORT = \"PLAYER_SORT_PLAYLIST_REVERSE_SORT\";\nexport const PLAYER_SORT_PLAYLIST_ASC = \"PLAYER_SORT_PLAYLIST_ASC\";\nexport const PLAYER_SORT_PLAYLIST_DESC = \"PLAYER_SORT_PLAYLIST_DESC\";\nexport const PLAYER_SHUFFLE_ON = \"PLAYER_SHUFFLE_ON\";\nexport const PLAYER_SHUFFLE_OFF = \"PLAYER_SHUFFLE_OFF\";\nexport const PLAYER_LOOP_ON = \"PLAYER_LOOP_ON\";\nexport const PLAYER_LOOP_OFF = \"PLAYER_LOOP_OFF\";\nexport const PLAYER_SET_HIGHEST_QUALITY = \"PLAYER_SET_HIGHEST_QUALITY\";\nexport const PLAYER_SET_LOWEST_QUALITY = \"PLAYER_SET_LOWEST_QUALITY\";\nexport const PLAYER_VIDEO_ELEMENT_DATA_LOADED = \"PLAYER_VIDEO_ELEMENT_DATA_LOADED\";\nexport const PLAYER_UPDATE_NEXT_ITEM_DURATION = \"PLAYER_UPDATE_NEXT_ITEM_DURATION\";\nexport const PLAYER_VIDEO_TIME_UPDATE = \"PLAYER_VIDEO_TIME_UPDATE\";\nexport const PLAYER_TOGGLE_MUTE = \"PLAYER_TOGGLE_MUTE\";\nexport const PLAYER_TOGGLE_MUTE_WITH_ANIMATION = \"PLAYER_TOGGLE_MUTE_WITH_ANIMATION\";\nexport const SELECT_CHANNEL_ARCHIVE = \"SELECT_CHANNEL_ARCHIVE\";\nexport const SELECT_TVSERIES_ARCHIVE = \"SELECT_TVSERIES_ARCHIVE\";\nexport const THEME_SELECT_MODE = \"THEME_SELECT_MODE\";\nexport const THEME_TOGGLE_MODE = \"THEME_TOGGLE_MODE\";\nexport const OPEN_PLAYLIST_MENU = \"OPEN_PLAYLIST_MENU\";\nexport const CLOSE_PLAYLIST_MENU = \"CLOSE_PLAYLIST_MENU\";","import {\n    SELECT_CHANNEL_ARCHIVE,\n    SELECT_TVSERIES_ARCHIVE\n} from \"../app/config/constants/action_types\";\n\nexport function selectSeriesArchive(archive: any) {\n    return {type: SELECT_TVSERIES_ARCHIVE, payload: archive};\n}\n\nexport function selectTVChannelArchive(channelId: string, archive: any) {\n    return {type: SELECT_CHANNEL_ARCHIVE, payload: {channelId: channelId, archive: archive}};\n}\n","import {\n    PLAYER_CHANGE_STREAM_QUALITY_INDEX,\n    PLAYER_LOAD_PLAYLIST,\n    PLAYER_LOAD_PLAYLIST_AND_START_PLAYING,\n    PLAYER_PLAY,\n    PLAYER_NEXT,\n    PLAYER_PLAY_PLAYLIST_ITEM,\n    PLAYER_PREVIOUS,\n    PLAYER_SET_AUTOPLAY_ON_OFF,\n    PLAYER_SET_VIDEO_ELEMENT_AND_START_PLAYING,\n    PLAYER_TOGGLE_MUTE,\n    PLAYER_TOGGLE_MUTE_WITH_ANIMATION,\n    PLAYER_TOGGLE_PAUSE_PLAY,\n    PLAYER_TOGGLE_PAUSE_PLAY_WITH_ANIMATION,\n    PLAYER_SORT_PLAYLIST_REVERSE_SORT,\n    PLAYER_SORT_PLAYLIST_ASC,\n    PLAYER_SORT_PLAYLIST_DESC,\n    PLAYER_SHUFFLE_ON,\n    PLAYER_SHUFFLE_OFF,\n    PLAYER_LOOP_ON,\n    PLAYER_LOOP_OFF,\n    PLAYER_SET_HIGHEST_QUALITY,\n    PLAYER_SET_LOWEST_QUALITY,\n    PLAYER_VIDEO_ELEMENT_DATA_LOADED,\n    PLAYER_UPDATE_NEXT_ITEM_DURATION,\n    PLAYER_VIDEO_TIME_UPDATE,\n    PLAYER_FAST_FORWARD_WITH_ANIMATION,\n    PLAYER_REWIND_WITH_ANIMATION,\n    PLAYER_VOLUME_UP_WITH_ANIMATION, PLAYER_VOLUME_DOWN_WITH_ANIMATION, OPEN_PLAYLIST_MENU, CLOSE_PLAYLIST_MENU,\n} from \"../app/config/constants/action_types\";\nimport PlaylistInterface from \"../service/player/PlaylistInterface\";\nimport PlayableItem from \"../service/player/PlayableItem\";\n\nexport function play() {\n    return {type: PLAYER_PLAY};\n}\n\nexport function next() {\n    return {type: PLAYER_NEXT};\n}\n\nexport function previous() {\n    return {type: PLAYER_PREVIOUS};\n}\n\nexport function togglePlay() {\n    return {type: PLAYER_TOGGLE_PAUSE_PLAY};\n}\n\nexport function togglePlayWithAnimation() {\n    return {type: PLAYER_TOGGLE_PAUSE_PLAY_WITH_ANIMATION};\n}\n\nexport function toggleMute() {\n    return {type: PLAYER_TOGGLE_MUTE};\n}\n\nexport function toggleMuteWithAnimation() {\n    return {type: PLAYER_TOGGLE_MUTE_WITH_ANIMATION};\n}\n\nexport function fastForwardWithAnimation() {\n    return {type: PLAYER_FAST_FORWARD_WITH_ANIMATION};\n}\n\nexport function rewindWithAnimation() {\n    return {type: PLAYER_REWIND_WITH_ANIMATION};\n}\n\nexport function volumeUpWithAnimation() {\n    return {type: PLAYER_VOLUME_UP_WITH_ANIMATION};\n}\n\nexport function volumeDownWithAnimation() {\n    return {type: PLAYER_VOLUME_DOWN_WITH_ANIMATION};\n}\n\nexport function loadPlaylist(playlist: PlaylistInterface) {\n    return {type: PLAYER_LOAD_PLAYLIST, payload: playlist};\n}\n\nexport function loadPlaylistAndStartPlaying(playlist: PlaylistInterface) {\n    return {type: PLAYER_LOAD_PLAYLIST_AND_START_PLAYING, payload: playlist};\n}\n\nexport function setAutoplayOnOff(autoplay: boolean) {\n    return {type: PLAYER_SET_AUTOPLAY_ON_OFF, payload: autoplay};\n}\n\nexport function setVideoElementAndStartPlaying(\n    videoElement: HTMLVideoElement,\n    callbacks?: {\n        ended?: any,\n        loadeddata?: any,\n        timeupdate?: any,\n        togglePlay?: any,\n        toggleMute?: any,\n        fastForward?: any,\n        rewind?: any,\n        volumeUp?: any,\n        volumeDown?: any,\n        reversePlaylistSort?: any,\n    }\n) {\n    return {type: PLAYER_SET_VIDEO_ELEMENT_AND_START_PLAYING, payload: videoElement, callbacks: callbacks};\n}\n\nexport function playPlaylistItem(item: PlayableItem) {\n    return {type: PLAYER_PLAY_PLAYLIST_ITEM, payload: item};\n}\n\nexport function reversePlaylistSort() {\n    return {type: PLAYER_SORT_PLAYLIST_REVERSE_SORT};\n}\n\nexport function sortPlaylistAsc() {\n    return {type: PLAYER_SORT_PLAYLIST_ASC};\n}\n\nexport function sortPlaylistDesc() {\n    return {type: PLAYER_SORT_PLAYLIST_DESC};\n}\n\nexport function openPlaylistMenu(anchorEl: HTMLElement) {\n    return {type: OPEN_PLAYLIST_MENU, payload: anchorEl};\n}\n\nexport function closePlaylistMenu() {\n    return {type: CLOSE_PLAYLIST_MENU};\n}\n\nexport function enableShuffle() {\n    return {type: PLAYER_SHUFFLE_ON};\n}\n\nexport function disableShuffle() {\n    return {type: PLAYER_SHUFFLE_OFF};\n}\n\nexport function enableLoop() {\n    return {type: PLAYER_LOOP_ON};\n}\n\nexport function disableLoop() {\n    return {type: PLAYER_LOOP_OFF};\n}\n\nexport function setStreamQuality(index: number) {\n    return {type: PLAYER_CHANGE_STREAM_QUALITY_INDEX, payload: index};\n}\n\nexport function setVideoHighestQuality() {\n    return {type: PLAYER_SET_HIGHEST_QUALITY};\n}\n\nexport function setVideoLowestQuality() {\n    return {type: PLAYER_SET_LOWEST_QUALITY};\n}\n\nexport function videoElementDataLoaded() {\n    return {type: PLAYER_VIDEO_ELEMENT_DATA_LOADED};\n}\n\nexport function addNextItemDuration(duration: number) {\n    return {type: PLAYER_UPDATE_NEXT_ITEM_DURATION, payload: duration};\n}\n\nexport function videoElementTimeUpdate() {\n    return {type: PLAYER_VIDEO_TIME_UPDATE};\n}","import React from 'react';\nimport clsx from 'clsx';\nimport withStyles from '@material-ui/core/styles/withStyles';\n\nconst styles = theme => ({\n  thumb: {\n    '&$open': {\n      '& $offset': {\n        transform: 'scale(1) translateY(-10px)',\n      },\n    },\n  },\n  open: {},\n  offset: {\n    zIndex: 1,\n    ...theme.typography.body2,\n    fontSize: theme.typography.pxToRem(12),\n    lineHeight: 1.2,\n    transition: theme.transitions.create(['transform'], {\n      duration: theme.transitions.duration.shortest,\n    }),\n    top: -34,\n    left: 'calc(-50% + -4px)',\n    transformOrigin: 'bottom center',\n    transform: 'scale(0)',\n    position: 'absolute',\n  },\n  circle: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    width: 32,\n    height: 32,\n    borderRadius: '50% 50% 50% 0',\n    backgroundColor: 'currentColor',\n    transform: 'rotate(-45deg)',\n  },\n  label: {\n    color: theme.palette.primary.contrastText,\n    transform: 'rotate(45deg)',\n  },\n});\n\n/**\n * @ignore - internal component.\n */\nfunction ValueLabel(props) {\n  const {\n    children,\n    classes,\n    className,\n    index,\n    open,\n    value,\n    valueLabelDisplay,\n    valueLabelFormat,\n  } = props;\n\n  if (valueLabelDisplay === 'off') {\n    return children;\n  }\n\n  return React.cloneElement(\n    children,\n    {\n      className: clsx(\n        children.props.className,\n        {\n          [classes.open]: open || valueLabelDisplay === 'on',\n        },\n        classes.thumb,\n      ),\n    },\n    <span className={clsx(classes.offset, className)}>\n      <span className={classes.circle}>\n        <span className={classes.label}>\n          {typeof valueLabelFormat === 'function'\n            ? valueLabelFormat(value, index)\n            : valueLabelFormat}\n        </span>\n      </span>\n    </span>,\n  );\n}\n\nexport default withStyles(styles, { name: 'PrivateValueLabel' })(ValueLabel);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { chainPropTypes } from '@material-ui/utils';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport useTheme from '@material-ui/core/styles/useTheme';\nimport { fade, lighten } from '@material-ui/core/styles/colorManipulator';\nimport { useIsFocusVisible } from '@material-ui/core/utils/focusVisible';\nimport ownerWindow from '@material-ui/core/utils/ownerWindow';\nimport useEventCallback from '@material-ui/core/utils/useEventCallback';\nimport { useForkRef } from '@material-ui/core/utils/reactHelpers';\nimport ValueLabel from './ValueLabel';\n\nfunction asc(a, b) {\n  return a - b;\n}\n\nfunction clamp(value, min, max) {\n  if (value < min) {\n    return min;\n  }\n  if (value > max) {\n    return max;\n  }\n  return value;\n}\n\nfunction findClosest(values, currentValue) {\n  const { index: closestIndex } = values.reduce((acc, value, index) => {\n    const distance = Math.abs(currentValue - value);\n\n    if (acc === null || distance < acc.distance || distance === acc.distance) {\n      return {\n        distance,\n        index,\n      };\n    }\n\n    return acc;\n  }, null);\n  return closestIndex;\n}\n\nfunction trackFinger(event, touchId) {\n  if (touchId.current !== undefined && event.changedTouches) {\n    for (let i = 0; i < event.changedTouches.length; i += 1) {\n      const touch = event.changedTouches[i];\n      if (touch.identifier === touchId.current) {\n        return {\n          x: touch.pageX,\n          y: touch.pageY,\n        };\n      }\n    }\n\n    return false;\n  }\n\n  return {\n    x: event.pageX,\n    y: event.pageY,\n  };\n}\n\nfunction valueToPercent(value, min, max) {\n  return ((value - min) * 100) / (max - min);\n}\n\nfunction percentToValue(percent, min, max) {\n  return (max - min) * percent + min;\n}\n\nfunction getDecimalPrecision(num) {\n  // This handles the case when num is very small (0.00000001), js will turn this into 1e-8.\n  // When num is bigger than 1 or less than -1 it won't get converted to this notation so it's fine.\n  if (Math.abs(num) < 1) {\n    const parts = num.toExponential().split('e-');\n    const matissaDecimalPart = parts[0].split('.')[1];\n    return (matissaDecimalPart ? matissaDecimalPart.length : 0) + parseInt(parts[1], 10);\n  }\n\n  const decimalPart = num.toString().split('.')[1];\n  return decimalPart ? decimalPart.length : 0;\n}\n\nfunction roundValueToStep(value, step) {\n  const nearest = Math.round(value / step) * step;\n  return Number(nearest.toFixed(getDecimalPrecision(step)));\n}\n\nfunction setValueIndex({ values, source, newValue, index }) {\n  // Performance shortcut\n  if (values[index] === newValue) {\n    return source;\n  }\n\n  const output = [...values];\n  output[index] = newValue;\n  return output;\n}\n\nfunction focusThumb({ sliderRef, activeIndex, setActive }) {\n  if (\n    !sliderRef.current.contains(document.activeElement) ||\n    Number(document.activeElement.getAttribute('data-index')) !== activeIndex\n  ) {\n    sliderRef.current.querySelector(`[data-index=\"${activeIndex}\"]`).focus();\n  }\n\n  if (setActive) {\n    setActive(activeIndex);\n  }\n}\n\nconst axisProps = {\n  horizontal: {\n    offset: percent => ({ left: `${percent}%` }),\n    leap: percent => ({ width: `${percent}%` }),\n  },\n  'horizontal-reverse': {\n    offset: percent => ({ right: `${percent}%` }),\n    leap: percent => ({ width: `${percent}%` }),\n  },\n  vertical: {\n    offset: percent => ({ bottom: `${percent}%` }),\n    leap: percent => ({ height: `${percent}%` }),\n  },\n};\n\nconst defaultMarks = [];\nconst Identity = x => x;\n\nexport const styles = theme => (  {\n  /* Styles applied to the root element. */\n  root: {\n    height: 2,\n    width: '100%',\n    boxSizing: 'content-box',\n    padding: '11px 0',\n    display: 'inline-block',\n    position: 'relative',\n    cursor: 'pointer',\n    touchAction: 'none',\n    color: theme.palette.primary.main,\n    // Remove grey highlight\n    WebkitTapHighlightColor: 'transparent',\n    '&$disabled': {\n      cursor: 'default',\n      color: theme.palette.grey[400],\n    },\n    '&$vertical': {\n      width: 2,\n      height: '100%',\n      padding: '0 11px',\n    },\n  },\n  /* Styles applied to the root element if `marks` is provided with at least one label. */\n  marked: {\n    marginBottom: 20,\n    '&$vertical': {\n      marginBottom: 'auto',\n      marginRight: 20,\n    },\n  },\n  /* Pseudo-class applied to the root element if `orientation=\"vertical\"`. */\n  vertical: {},\n  /* Pseudo-class applied to the root element if `disabled={true}`. */\n  disabled: {},\n  /* Styles applied to the rail element. */\n  rail: {\n    display: 'block',\n    position: 'absolute',\n    width: '100%',\n    height: 2,\n    borderRadius: 1,\n    backgroundColor: 'currentColor',\n    opacity: 0.38,\n    '$vertical &': {\n      height: '100%',\n      width: 2,\n    },\n  },\n  railHover: {\n    transformOrigin: '0',\n    position: 'absolute',\n    width: '100%',\n    height: 2,\n    borderRadius: 1,\n    backgroundColor: 'currentColor',\n    opacity: 1,\n    '$vertical &': {\n      height: '100%',\n      width: 2,\n    },\n  },\n  railHoverTooltip: {\n    position: 'absolute',\n    left: '0px',\n    bottom: '12px',\n    transformOrigin: '0',\n  },\n  railHoverTooltipInner: {\n    marginLeft: '-50%',\n  },\n  /* Styles applied to the track element. */\n  track: {\n    display: 'block',\n    position: 'absolute',\n    height: 2,\n    borderRadius: 1,\n    backgroundColor: 'currentColor',\n    '$vertical &': {\n      width: 2,\n    },\n  },\n  /* Styles applied to the thumb element. */\n  thumb: {\n    position: 'absolute',\n    width: 12,\n    height: 12,\n    marginLeft: -6,\n    marginTop: -5,\n    boxSizing: 'border-box',\n    borderRadius: '50%',\n    outline: 'none',\n    backgroundColor: 'currentColor',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    transition: theme.transitions.create(['box-shadow'], {\n      duration: theme.transitions.duration.shortest,\n    }),\n    '&$focusVisible,&:hover': {\n      boxShadow: `0px 0px 0px 8px ${fade(theme.palette.primary.main, 0.16)}`,\n      '@media (hover: none)': {\n        boxShadow: 'none',\n      },\n    },\n    '&$active': {\n      boxShadow: `0px 0px 0px 14px ${fade(theme.palette.primary.main, 0.16)}`,\n    },\n    '$disabled &': {\n      pointerEvents: 'none',\n      width: 8,\n      height: 8,\n      marginLeft: -4,\n      marginTop: -3,\n      '&:hover': {\n        boxShadow: 'none',\n      },\n    },\n    '$vertical &': {\n      marginLeft: -5,\n      marginBottom: -6,\n    },\n    '$vertical$disabled &': {\n      marginLeft: -3,\n      marginBottom: -4,\n    },\n  },\n  /* Pseudo-class applied to the thumb element if it's active. */\n  active: {},\n  /* Pseudo-class applied to the thumb element if keyboard focused. */\n  focusVisible: {},\n  /* Styles applied to the thumb label element. */\n  valueLabel: {},\n  /* Styles applied to the mark element. */\n  mark: {\n    position: 'absolute',\n    width: 2,\n    height: 2,\n    borderRadius: 1,\n    backgroundColor: 'currentColor',\n  },\n  /* Styles applied to the mark element if active (depending on the value). */\n  markActive: {\n    backgroundColor: lighten(theme.palette.primary.main, 0.76),\n  },\n  /* Styles applied to the mark label element. */\n  markLabel: {\n    ...theme.typography.body2,\n    color: theme.palette.text.secondary,\n    position: 'absolute',\n    top: 22,\n    transform: 'translateX(-50%)',\n    whiteSpace: 'nowrap',\n    '$vertical &': {\n      top: 'auto',\n      left: 22,\n      transform: 'translateY(50%)',\n    },\n  },\n  /* Styles applied to the mark label element if active (depending on the value). */\n  markLabelActive: {\n    color: theme.palette.text.primary,\n  },\n});\n\nconst Slider = React.forwardRef(function Slider(props, ref) {\n  const {\n    'aria-label': ariaLabel,\n    'aria-labelledby': ariaLabelledby,\n    'aria-valuetext': ariaValuetext,\n    classes,\n    className,\n    component: Component = 'span',\n    defaultValue,\n    disabled = false,\n    getAriaValueText,\n    marks: marksProp = defaultMarks,\n    max = 100,\n    min = 0,\n    name,\n    onChange,\n    onChangeCommitted,\n    onMouseDown,\n    orientation = 'horizontal',\n    step = 1,\n    ThumbComponent = 'span',\n    value: valueProp,\n    ValueLabelComponent = ValueLabel,\n    valueLabelDisplay = 'off',\n    valueLabelFormat = Identity,\n    railHoverLabel = false,\n    railHoverLabelFormat = Identity,\n    onMouseOver,\n    onMouseOut,\n    ...other\n  } = props;\n  const theme = useTheme();\n  const { current: isControlled } = React.useRef(valueProp != null);\n  const touchId = React.useRef();\n  // We can't use the :active browser pseudo-classes.\n  // - The active state isn't triggered when clicking on the rail.\n  // - The active state isn't transfered when inversing a range slider.\n  const [active, setActive] = React.useState(-1);\n  const [open, setOpen] = React.useState(-1);\n  const [valueState, setValueState] = React.useState(defaultValue);\n  const valueDerived = isControlled ? valueProp : valueState;\n  const range = Array.isArray(valueDerived);\n  const instanceRef = React.useRef();\n  let values = range ? valueDerived.sort(asc) : [valueDerived];\n  values = values.map(value => clamp(value, min, max));\n  const marks =\n    marksProp === true && step !== null\n      ? [...Array(Math.floor((max - min) / step) + 1)].map((_, index) => ({\n        value: min + step * index,\n      }))\n      : marksProp;\n\n  instanceRef.current = {\n    source: valueDerived, // Keep track of the input value to leverage immutable state comparison.\n  };\n\n  const { isFocusVisible, onBlurVisible, ref: focusVisibleRef } = useIsFocusVisible();\n  const [focusVisible, setFocusVisible] = React.useState(-1);\n\n  const sliderRef = React.useRef();\n  const handleFocusRef = useForkRef(focusVisibleRef, sliderRef);\n  const handleRef = useForkRef(ref, handleFocusRef);\n\n  const handleFocus = useEventCallback(event => {\n    const index = Number(event.currentTarget.getAttribute('data-index'));\n    if (isFocusVisible(event)) {\n      setFocusVisible(index);\n    }\n    setOpen(index);\n  });\n  const handleBlur = useEventCallback(() => {\n    if (focusVisible !== -1) {\n      setFocusVisible(-1);\n      onBlurVisible();\n    }\n    setOpen(-1);\n  });\n  const handleMouseOver = useEventCallback(event => {\n    const index = Number(event.currentTarget.getAttribute('data-index'));\n    setOpen(index);\n  });\n  const handleMouseLeave = useEventCallback(() => {\n    setOpen(-1);\n  });\n\n  const handleKeyDown = useEventCallback(event => {\n    const index = Number(event.currentTarget.getAttribute('data-index'));\n    const value = values[index];\n    const tenPercents = (max - min) / 10;\n    const marksValues = marks.map(mark => mark.value);\n    const marksIndex = marksValues.indexOf(value);\n    let newValue;\n\n    switch (event.key) {\n      case 'Home':\n        newValue = min;\n        break;\n      case 'End':\n        newValue = max;\n        break;\n      case 'PageUp':\n        if (step) {\n          newValue = value + tenPercents;\n        }\n        break;\n      case 'PageDown':\n        if (step) {\n          newValue = value - tenPercents;\n        }\n        break;\n      case 'ArrowRight':\n      case 'ArrowUp':\n        if (step) {\n          newValue = value + step;\n        } else {\n          newValue = marksValues[marksIndex + 1] || marksValues[marksValues.length - 1];\n        }\n        break;\n      case 'ArrowLeft':\n      case 'ArrowDown':\n        if (step) {\n          newValue = value - step;\n        } else {\n          newValue = marksValues[marksIndex - 1] || marksValues[0];\n        }\n        break;\n      default:\n        return;\n    }\n\n    event.preventDefault();\n\n    if (step) {\n      newValue = roundValueToStep(newValue, step);\n    }\n\n    newValue = clamp(newValue, min, max);\n\n    if (range) {\n      const previousValue = newValue;\n      newValue = setValueIndex({\n        values,\n        source: valueDerived,\n        newValue,\n        index,\n      }).sort(asc);\n      focusThumb({ sliderRef, activeIndex: newValue.indexOf(previousValue) });\n    }\n\n    if (!isControlled) {\n      setValueState(newValue);\n    }\n\n    setFocusVisible(index);\n\n    if (onChange) {\n      onChange(event, newValue);\n    }\n    if (onChangeCommitted) {\n      onChangeCommitted(event, newValue);\n    }\n  });\n\n  const previousIndex = React.useRef();\n  let axis = orientation;\n  if (theme.direction === 'rtl' && orientation === 'horizontal') {\n    axis += '-reverse';\n  }\n\n  const getFingerNewValue = React.useCallback(\n    ({ finger, move = false, values: values2, source }) => {\n      const { current: slider } = sliderRef;\n      const { width, height, bottom, left } = slider.getBoundingClientRect();\n      let percent;\n\n      if (axis.indexOf('vertical') === 0) {\n        percent = (bottom + ownerWindow(slider).pageYOffset - finger.y) / height;\n      } else {\n        percent = (finger.x - left - ownerWindow(slider).pageXOffset) / width;\n      }\n\n      if (axis.indexOf('-reverse') !== -1) {\n        percent = 1 - percent;\n      }\n\n      let newValue;\n      newValue = percentToValue(percent, min, max);\n      if (step) {\n        newValue = roundValueToStep(newValue, step);\n      } else {\n        const marksValues = marks.map(mark => mark.value);\n        const closestIndex = findClosest(marksValues, newValue);\n        newValue = marksValues[closestIndex];\n      }\n\n      newValue = clamp(newValue, min, max);\n      let activeIndex = 0;\n\n      if (range) {\n        if (!move) {\n          activeIndex = findClosest(values2, newValue);\n        } else {\n          activeIndex = previousIndex.current;\n        }\n\n        const previousValue = newValue;\n        newValue = setValueIndex({\n          values: values2,\n          source,\n          newValue,\n          index: activeIndex,\n        }).sort(asc);\n        activeIndex = newValue.indexOf(previousValue);\n        previousIndex.current = activeIndex;\n      }\n\n      return { newValue, activeIndex };\n    },\n    [max, min, axis, range, step, marks],\n  );\n\n  const getMouseNewValue = (mouse) => {\n      const { current: slider } = sliderRef;\n      const { width, height, bottom, left } = slider.getBoundingClientRect();\n      let percent;\n\n      if (axis.indexOf('vertical') === 0) {\n        percent = (bottom + ownerWindow(slider).pageYOffset - mouse.y) / height;\n      } else {\n        percent = (mouse.x - left - ownerWindow(slider).pageXOffset) / width;\n      }\n\n      if (axis.indexOf('-reverse') !== -1) {\n        percent = 1 - percent;\n      }\n\n      let newValue;\n      newValue = percentToValue(percent, min, max);\n\n      return newValue;\n    };\n\n  const handleTouchMove = useEventCallback(event => {\n    const finger = trackFinger(event, touchId);\n\n    if (!finger) {\n      return;\n    }\n\n    const { newValue, activeIndex } = getFingerNewValue({\n      finger,\n      move: true,\n      values,\n      source: valueDerived,\n    });\n\n    focusThumb({ sliderRef, activeIndex, setActive });\n    if (!isControlled) {\n      setValueState(newValue);\n    }\n    if (onChange) {\n      onChange(event, newValue);\n    }\n  });\n\n  const handleTouchEnd = useEventCallback(event => {\n    const finger = trackFinger(event, touchId);\n\n    if (!finger) {\n      return;\n    }\n\n    const { newValue } = getFingerNewValue({ finger, values, source: valueDerived });\n\n    setActive(-1);\n    if (event.type === 'touchend') {\n      setOpen(-1);\n    }\n\n    if (onChangeCommitted) {\n      onChangeCommitted(event, newValue);\n    }\n\n    touchId.current = undefined;\n    document.body.removeEventListener('mousemove', handleTouchMove);\n    document.body.removeEventListener('mouseup', handleTouchEnd);\n    // eslint-disable-next-line no-use-before-define\n    document.body.removeEventListener('mouseenter', handleMouseEnter);\n    document.body.removeEventListener('touchmove', handleTouchMove);\n    document.body.removeEventListener('touchend', handleTouchEnd);\n  });\n\n  const handleMouseEnter = useEventCallback(event => {\n    // If the slider was being interacted with but the mouse went off the window\n    // and then re-entered while unclicked then end the interaction.\n    if (event.buttons === 0) {\n      handleTouchEnd(event);\n    }\n  });\n\n  const handleTouchStart = useEventCallback(event => {\n    // Workaround as Safari has partial support for touchAction: 'none'.\n    event.preventDefault();\n    const touch = event.changedTouches[0];\n    if (touch != null) {\n      // A number that uniquely identifies the current finger in the touch session.\n      touchId.current = touch.identifier;\n    }\n    const finger = trackFinger(event, touchId);\n    const { newValue, activeIndex } = getFingerNewValue({ finger, values, source: valueDerived });\n    focusThumb({ sliderRef, activeIndex, setActive });\n\n    if (!isControlled) {\n      setValueState(newValue);\n    }\n    if (onChange) {\n      onChange(event, newValue);\n    }\n\n    document.body.addEventListener('touchmove', handleTouchMove);\n    document.body.addEventListener('touchend', handleTouchEnd);\n  });\n\n  React.useEffect(() => {\n    if (disabled) {\n      return () => {};\n    }\n\n    const { current: slider } = sliderRef;\n    slider.addEventListener('touchstart', handleTouchStart);\n\n    return () => {\n      slider.removeEventListener('touchstart', handleTouchStart);\n      document.body.removeEventListener('mousemove', handleTouchMove);\n      document.body.removeEventListener('mouseup', handleTouchEnd);\n      document.body.removeEventListener('mouseenter', handleMouseEnter);\n      document.body.removeEventListener('touchmove', handleTouchMove);\n      document.body.removeEventListener('touchend', handleTouchEnd);\n    };\n  }, [disabled, handleMouseEnter, handleTouchEnd, handleTouchMove, handleTouchStart]);\n\n  const handleMouseDown = useEventCallback(event => {\n    if (onMouseDown) {\n      onMouseDown(event);\n    }\n\n    if (disabled) {\n      return;\n    }\n\n    event.preventDefault();\n    const finger = trackFinger(event, touchId);\n    const { newValue, activeIndex } = getFingerNewValue({ finger, values, source: valueDerived });\n    focusThumb({ sliderRef, activeIndex, setActive });\n\n    if (!isControlled) {\n      setValueState(newValue);\n    }\n    if (onChange) {\n      onChange(event, newValue);\n    }\n\n    document.body.addEventListener('mousemove', handleTouchMove);\n    document.body.addEventListener('mouseenter', handleMouseEnter);\n    document.body.addEventListener('mouseup', handleTouchEnd);\n  });\n\n  const [railHoverScaleX, setRailHoverScaleX] = React.useState(0);\n  const [railHoverTooltipOpacity, setRailHoverTooltipOpacity] = React.useState(0);\n  const [railHoverTooltipLeft, setRailHoverTooltipLeft] = React.useState(0);\n  const [railHoverTooltipValue, setRailHoverTooltipValue] = React.useState(0);\n  const railHoverStyle = {\n    transform: `scaleX(${railHoverScaleX})`,\n  };\n  const railHoverTooltipStyle = {\n    opacity: `${railHoverTooltipOpacity}`,\n    transform: `translateX(${railHoverTooltipLeft}px)`\n  };\n  const handleSliderMouseOver = (event) => {\n    const parent = event.target.closest(\"div\");\n    const rect = parent.getBoundingClientRect();\n    let left = event.clientX - rect.left; //x position within the element.\n    const scale = left / rect.width;\n    setRailHoverScaleX(scale);\n    setRailHoverTooltipOpacity(1);\n    setRailHoverTooltipLeft(left);\n    let newValue = getMouseNewValue({x: event.clientX, y: event.clientY});\n    if (newValue < 0) {\n      newValue = 0;\n    }\n    setRailHoverTooltipValue(newValue);\n\n    if (onMouseOver) {\n      onMouseOver(event, newValue);\n    }\n  };\n  const handleSliderMouseOut = (event) => {\n    if (onMouseOut) {\n      onMouseOut(event);\n    }\n    setRailHoverScaleX(0);\n    setRailHoverTooltipOpacity(0);\n  };\n  const handleSliderMouseMove = (event) => {\n    const parent = event.target.closest(\"div\");\n    const rect = parent.getBoundingClientRect();\n    const left = event.clientX - rect.left; //x position within the element.\n    const scale = left / rect.width;\n    setRailHoverTooltipLeft(left);\n    setRailHoverScaleX(scale);\n    let newValue = getMouseNewValue({x: event.clientX, y: event.clientY});\n    if (newValue < 0) {\n      newValue = 0;\n    }\n    setRailHoverTooltipValue(newValue);\n  };\n\n  const trackOffset = valueToPercent(range ? values[0] : min, min, max);\n  const trackLeap = valueToPercent(values[values.length - 1], min, max) - trackOffset;\n  const trackStyle = {\n    ...axisProps[axis].offset(trackOffset),\n    ...axisProps[axis].leap(trackLeap),\n  };\n\n  return (\n    <Component\n      ref={handleRef}\n      className={clsx(\n        classes.root,\n        {\n          [classes.disabled]: disabled,\n          [classes.marked]: marks.length > 0 && marks.some(mark => mark.label),\n          [classes.vertical]: orientation === 'vertical',\n        },\n        className,\n      )}\n      onMouseDown={handleMouseDown}\n      onMouseOver={handleSliderMouseOver}\n      onMouseOut={handleSliderMouseOut}\n      onMouseMove={handleSliderMouseMove}\n      {...other}\n    >\n      <span className={classes.rail} />\n      <span\n        style={railHoverStyle}\n        className={classes.railHover}\n      />\n      {railHoverLabel ? (\n        <span\n          style={railHoverTooltipStyle}\n          className={classes.railHoverTooltip}>\n            <span className={classes.railHoverTooltipInner}>\n              {typeof railHoverLabelFormat === 'function'\n                ? railHoverLabelFormat(railHoverTooltipValue)\n                : railHoverTooltipValue}\n            </span>\n        </span>\n      ) : ''}\n      <span className={classes.track} style={trackStyle} />\n      <input value={values.join(',')} name={name} type=\"hidden\" />\n      {marks.map(mark => {\n        const percent = valueToPercent(mark.value, min, max);\n        const style = axisProps[axis].offset(percent);\n        const markActive = range\n          ? mark.value >= values[0] && mark.value <= values[values.length - 1]\n          : mark.value <= values[0];\n\n        return (\n          <React.Fragment key={mark.value}>\n            <span\n              style={style}\n              className={clsx(classes.mark, {\n                [classes.markActive]: markActive,\n              })}\n            />\n            <span\n              style={style}\n              className={clsx(classes.markLabel, {\n                [classes.markLabelActive]: markActive,\n              })}\n            >\n              {mark.label}\n            </span>\n          </React.Fragment>\n        );\n      })}\n      {values.map((value, index) => {\n        const percent = valueToPercent(value, min, max);\n        const style = axisProps[axis].offset(percent);\n\n        return (\n          <ValueLabelComponent\n            key={index}\n            valueLabelFormat={valueLabelFormat}\n            valueLabelDisplay={valueLabelDisplay}\n            className={classes.valueLabel}\n            value={value}\n            index={index}\n            open={open === index || active === index}\n            disabled={disabled}\n          >\n            <ThumbComponent\n              className={clsx(classes.thumb, {\n                [classes.active]: active === index,\n                [classes.focusVisible]: focusVisible === index,\n              })}\n              tabIndex={disabled ? null : 0}\n              role=\"slider\"\n              style={style}\n              data-index={index}\n              aria-label={ariaLabel}\n              aria-labelledby={ariaLabelledby}\n              aria-orientation={orientation}\n              aria-valuemax={max}\n              aria-valuemin={min}\n              aria-valuenow={value}\n              aria-valuetext={getAriaValueText ? getAriaValueText(value, index) : ariaValuetext}\n              onKeyDown={handleKeyDown}\n              onFocus={handleFocus}\n              onBlur={handleBlur}\n              onMouseOver={handleMouseOver}\n              onMouseLeave={handleMouseLeave}\n            />\n          </ValueLabelComponent>\n        );\n      })}\n    </Component>\n  );\n});\n\nSlider.propTypes = {\n  /**\n   * The label of the slider.\n   */\n  'aria-label': PropTypes.string,\n  /**\n   * The id of the element containing a label for the slider.\n   */\n  'aria-labelledby': PropTypes.string,\n  /**\n   * A string value that provides a user-friendly name for the current value of the slider.\n   */\n  'aria-valuetext': chainPropTypes(PropTypes.string, props => {\n    const range = Array.isArray(props.value || props.defaultValue);\n\n    if (range && props['aria-valuetext']) {\n      return new Error(\n        'Material-UI: you need to use the `getAriaValueText` prop instead of `aria-valuetext` when using a range input.',\n      );\n    }\n\n    return null;\n  }),\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object.isRequired,\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n  /**\n   * The component used for the root node.\n   * Either a string to use a DOM element or a component.\n   */\n  component: PropTypes.elementType,\n  /**\n   * The default element value. Use when the component is not controlled.\n   */\n  defaultValue: PropTypes.oneOfType([PropTypes.number, PropTypes.arrayOf(PropTypes.number)]),\n  /**\n   * If `true`, the slider will be disabled.\n   */\n  disabled: PropTypes.bool,\n  /**\n   * Accepts a function which returns a string value that provides a user-friendly name for the current value of the slider.\n   *\n   * @param {number} value The thumb label's value to format\n   * @param {number} index The thumb label's index to format\n   */\n  getAriaValueText: PropTypes.func,\n  /**\n   * Marks indicate predetermined values to which the user can move the slider.\n   * If `true` the marks will be spaced according the value of the `step` prop.\n   * If an array, it should contain objects with `value` and an optional `label` keys.\n   */\n  marks: PropTypes.oneOfType([PropTypes.bool, PropTypes.array]),\n  /**\n   * The maximum allowed value of the slider.\n   * Should not be equal to min.\n   */\n  max: PropTypes.number,\n  /**\n   * The minimum allowed value of the slider.\n   * Should not be equal to max.\n   */\n  min: PropTypes.number,\n  /**\n   * Name attribute of the hidden `input` element.\n   */\n  name: PropTypes.string,\n  /**\n   * Callback function that is fired when the slider's value changed.\n   *\n   * @param {object} event The event source of the callback\n   * @param {any} value The new value\n   */\n  onChange: PropTypes.func,\n  /**\n   * Callback function that is fired when the `mouseup` is triggered.\n   *\n   * @param {object} event The event source of the callback\n   * @param {any} value The new value\n   */\n  onChangeCommitted: PropTypes.func,\n  /**\n   * @ignore\n   */\n  onMouseDown: PropTypes.func,\n  /**\n   * The slider orientation.\n   */\n  orientation: PropTypes.oneOf(['horizontal', 'vertical']),\n  /**\n   * The granularity with which the slider can step through values. (A \"discrete\" slider.)\n   * When step is `null`, the thumb can only be slid onto marks provided with the `marks` prop.\n   */\n  step: PropTypes.number,\n  /**\n   * The component used to display the value label.\n   */\n  ThumbComponent: PropTypes.elementType,\n  /**\n   * The value of the slider.\n   * For ranged sliders, provide an array with two values.\n   */\n  value: PropTypes.oneOfType([PropTypes.number, PropTypes.arrayOf(PropTypes.number)]),\n  /**\n   * The value label componnet.\n   */\n  ValueLabelComponent: PropTypes.elementType,\n  /**\n   * Controls when the value label is displayed:\n   *\n   * - `auto` the value label will display when the thumb is hovered or focused.\n   * - `on` will display persistently.\n   * - `off` will never display.\n   */\n  valueLabelDisplay: PropTypes.oneOf(['on', 'auto', 'off']),\n  /**\n   * The format function the value label's value.\n   *\n   * When a function is provided, it should have the following signature:\n   *\n   * - {number} value The value label's value to format\n   * - {number} index The value label's index to format\n   */\n  valueLabelFormat: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  /**\n   * Whether to display mouse over label with value\n   */\n  railHoverLabel: PropTypes.bool,\n  /**\n   * The format function for the label\n   *\n   * When a function is provided, it should have the following signature:\n   *\n   * - {number} value The value label's value to format\n   * - {number} index The value label's index to format\n   */\n  railHoverLabelFormat: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n};\n\nexport default withStyles(styles, { name: 'MuiSlider' })(Slider);","function isScalar(mixedVar: any): boolean {\n    return (/boolean|number|string/).test(typeof mixedVar);\n}\n\nfunction ucWords(value: string): string {\n    return value.toLowerCase().replace(/\\b[a-z]/g, (letter: string) => letter.toUpperCase());\n}\n\nfunction formatLength(lengthInSeconds: number, index?: number): string {\n    let hours = 0;\n    let minutes = Math.floor(lengthInSeconds / 60);\n\n    if (minutes >=60) {\n        hours = Math.floor(minutes / 60);\n        minutes = minutes - hours * 60;\n    }\n    let seconds = Math.floor(lengthInSeconds - (hours * 60 * 60) - (minutes * 60));\n\n    let secondsStr = String(seconds);\n    if (seconds < 10) {\n        secondsStr = '0' + secondsStr;\n    }\n\n    let minutesStr = String(minutes);\n    if (hours) {\n        if (minutes < 10) {\n            minutesStr = '0' + minutesStr;\n        }\n\n        return `${hours}:${minutesStr}:${secondsStr}`;\n    }\n\n    return `${minutesStr}:${secondsStr}`;\n}\n\nexport {isScalar, ucWords, formatLength};\n","import React from 'react';\nimport {makeStyles} from '@material-ui/core/styles';\nimport {useSelector} from 'react-redux';\nimport Slider from '../../slider/Slider';\nimport {formatLength} from \"../../../helpers/functions\";\n\nconst progressBarStyles = makeStyles({\n    root: {\n        color: 'rgb(255,0,0)',\n        height: '5px',\n        padding: '28px 0 0 0',\n        display: 'block',\n        position: 'absolute',\n        bottom: '33px',\n    },\n    thumb: (props: any) => ({\n        transition: 'transform .1s cubic-bezier(0.4,0.0,1,1)',\n        marginTop: props.hover ? '-3.5px' : '-4.5px',\n        transform: props.hover ? 'none' : 'scale(0)',\n        '&$focusVisible,&:hover': {\n            boxShadow: 'none',\n        },\n        '&$active': {\n            boxShadow: 'none',\n        }\n    }),\n    active: (props: any) => ({\n        boxShadow: 'none',\n    }),\n    focusVisible: (props: any) => ({\n        boxShadow: 'none',\n    }),\n    track:(props: any) => ({\n        height: '5px',\n        transform: props.hover ? '' : 'scaleY(0.6)',\n        transition: 'transform .1s cubic-bezier(0.4,0.0,1,1)',\n        //this could have width transition but only when state is playing so it's smoother\n    }),\n    rail:(props: any) => ({\n        color: 'rgba(255,255,255,.2)',\n        transition: 'transform .1s cubic-bezier(0.4,0.0,1,1)',\n        opacity: 1,\n        height: '5px',\n        transform: props.hover ? '' : 'scaleY(0.6)',\n    }),\n    railHover:(props: any) => ({\n        backgroundColor: props.hover ? 'rgba(255, 255, 255, 0.5)' : 'transparent',\n        height: '5px',\n        transform: props.hover ? '' : 'scaleY(0.6)',\n        transition: 'opacity .25s cubic-bezier(0.0,0.0,0.2,1)',\n    }),\n    railHoverTooltip: {\n        left: '0px',\n        transformOrigin: '0',\n        bottom: '20px',\n        color: 'white',\n        borderRadius: '2px',\n        letterSpacing: '.5px',\n        fontSize: '12px',\n        fontWeight: 'bold',\n        lineHeight: '12px',\n    },\n    railHoverTooltipInner: {\n        padding: '5px 9px',\n        backgroundColor: 'rgba(28,28,28,0.9)',\n        borderRadius: '2px',\n        fontSize: '118%',\n        fontWeight: 'bold',\n        lineHeight: '15px',\n    }\n});\n\n\nfunction StyledSlider(props: any) {\n    const {hover, ...rest} = props;\n    const classes = progressBarStyles(props);\n\n    return <Slider classes={classes} {...rest} />\n}\n\nfunction VideoProgressBar(props: any, ref: any) {\n    const {player} = useSelector((state: any) => ({\n        player: state.player,\n    }));\n    const [isVideoProgressMouseOver, setIsVideoProgressMouseOver] = React.useState<boolean>(false);\n    const videoProgresChange = (event: any, newValue: any) => {\n        player.setProgress(newValue);\n    };\n    const progressBarMouseOut = () => {\n        setIsVideoProgressMouseOver(false);\n    };\n    const progressBarMouseOver = () => {\n        setIsVideoProgressMouseOver(true);\n    };\n\n    const format = (value: number, index : number): string => {\n        return formatLength(player.current().duration * value / 100, index);\n    };\n\n    if (player && player.isLoaded()) {\n        return (\n            <StyledSlider\n                railHoverLabel={true}\n                railHoverLabelFormat={(value: any, index: number) => format(value, index)}\n                hover={isVideoProgressMouseOver}\n                onMouseOver={() => progressBarMouseOver()}\n                onMouseOut={() => progressBarMouseOut()}\n                component=\"div\"\n                value={(player.getCurrentTime() / player.current().duration) * 100}\n                onChange={videoProgresChange}\n                aria-labelledby=\"continuous-slider\"\n            />\n        );\n    }\n\n    return (<div></div>);\n}\n\nexport default VideoProgressBar;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {withStyles, Theme, createStyles} from '@material-ui/core/styles';\nimport Tooltip from '@material-ui/core/Tooltip';\n\nconst styles = (theme: Theme) => createStyles({\n    tooltip: {\n        padding: '5px 9px',\n        backgroundColor: 'rgba(28,28,28,0.9)',\n        borderRadius: '2px',\n        fontSize: '14px',\n        fontWeight: 'bold',\n        lineHeight: '15px',\n    },\n});\n\nfunction StyledTooltip(props: any) {\n    const {classes, children, ...rest} = props;\n\n    return (\n        <Tooltip\n            classes={classes}\n            placement=\"top\"\n            {...rest}\n        >\n            {children}\n        </Tooltip>\n    );\n}\n\nStyledTooltip.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(StyledTooltip);","import React from 'react';\nimport {withStyles, useTheme, Theme, createStyles, makeStyles} from '@material-ui/core/styles';\nimport {useSelector, useDispatch} from 'react-redux';\nimport Slider from '../../slider/Slider';\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener';\nimport VolumeUp from '@material-ui/icons/VolumeUp';\nimport VolumeDown from '@material-ui/icons/VolumeDown';\nimport VolumeOff from '@material-ui/icons/VolumeOff';\nimport Button from '@material-ui/core/Button';\nimport * as ACTIONS from \"../../../actions/player\";\nimport Tooltip from '../../tooltip';\n\nconst progressBarStyles = makeStyles({\n    root: {\n        color: 'rgb(255,255,255)',\n    },\n    thumb: (props: any) => ({\n        '&$focusVisible,&:hover': {\n            boxShadow: 'none',\n        },\n        '&$active': {\n            boxShadow: 'none',\n        }\n    }),\n    active: (props: any) => ({\n        boxShadow: 'none',\n    }),\n    focusVisible: (props: any) => ({\n        boxShadow: 'none',\n    }),\n    railHover: (props: any) => ({\n        display: 'none',\n    }),\n});\n\nfunction StyledSlider(props: any) {\n    const {hover, ...rest} = props;\n    const classes = progressBarStyles(props);\n\n    return <Slider classes={classes} {...rest} />\n}\n\nconst styles = (theme: Theme) => createStyles({\n        volumeControlBar: {},\n        volumeSlider: {\n            root: {\n                color: 'white',\n            },\n            transition: 'opacity .1s cubic-bezier(0.4,0.0,1,1),margin .2s cubic-bezier(0.4,0.0,1,1),width .2s cubic-bezier(0.4,0.0,1,1)',\n            width: '0px',\n            opacity: 0,\n        },\n        volumeSliderVisible: {\n            transition: 'opacity .1s cubic-bezier(0.4,0.0,1,1),margin .2s cubic-bezier(0.4,0.0,1,1),width .2s cubic-bezier(0.4,0.0,1,1)',\n            opacity: 1,\n            width: '52px',\n            marginLeft: '4px',\n            marginRight: '8px',\n        },\n        buttons: {\n            transition: 'opacity .1s cubic-bezier(0.4,0.0,1,1)',\n            opacity: 0.9,\n            minWidth: '20px',\n            verticalAlign: 'initial',\n            color: 'rgb(238, 238, 238)',\n            '&:hover': {\n                opacity: 1,\n                color: \"#fff\",\n            },\n        },\n        tooltip: {\n            padding: '5px 9px',\n            backgroundColor: 'rgba(28,28,28,0.9)',\n            borderRadius: '2px',\n            fontSize: '14px',\n            fontWeight: 'bold',\n            lineHeight: '15px',\n        }\n    }\n);\n\nfunction VolumeControls(props: any, ref: any) {\n    const dispatch = useDispatch();\n\n    const {player} = useSelector((state: any) => ({\n        player: state.player,\n    }));\n\n    const volumeChange = (event: any, newValue: any) => {\n        player.setVolume(newValue / 100);\n    };\n    const [isVolumeMouseOver, setIsVolumeMouseOver] = React.useState<boolean>(false);\n    const [isVolumeMouseDown, setIsVolumeMouseDown] = React.useState<boolean>(false);\n    const volumeMouseOver = (event: MouseEvent, value: boolean) => {\n        setIsVolumeMouseOver(value);\n    };\n    const volumeMouseDown = (event: MouseEvent, value: boolean) => {\n        setIsVolumeMouseDown(value);\n    };\n    const hideVolumeSlider = () => {\n        setIsVolumeMouseOver(false);\n        setIsVolumeMouseDown(false);\n    };\n    const toggleMute = () => {\n        dispatch(ACTIONS.toggleMute());\n    };\n    const shouldShowVolumeSlider = () => isVolumeMouseOver || isVolumeMouseDown;\n\n    const {classes} = props;\n\n\n    return (\n        <ClickAwayListener onClickAway={hideVolumeSlider}>\n            <span\n                onMouseOver={(event: any) => volumeMouseOver(event, true)}\n                onMouseOut={(event: any) => volumeMouseOver(event, false)}\n                className={classes.volumeControlBar}>\n                <Tooltip title={player.isMuted() ? 'Unmute (m)' : 'Mute (m)'}>\n                    <Button\n                        size=\"small\"\n                        className={classes.buttons}\n                        style={{backgroundColor: 'transparent'}}\n                        onClick={toggleMute}\n                    >\n                        {player.isMuted() ? (\n                            <VolumeOff/>\n                        ) : (player.getVolume() > 0.5 ? (<VolumeUp\n                            className={classes.buttons}/>) : (<VolumeDown\n                            className={classes.buttons}/>))}\n\n                    </Button>\n                </Tooltip>\n                <StyledSlider\n                    onMouseDown={(event: any) => volumeMouseDown(event, true)}\n                    onMouseUp={(event: any) => volumeMouseDown(event, false)}\n                    className={shouldShowVolumeSlider() ? classes.volumeSliderVisible : classes.volumeSlider}\n                    value={player.getVolume() * 100}\n                    onChange={volumeChange} aria-labelledby=\"continuous-slider\"\n                />\n            </span>\n        </ClickAwayListener>\n    );\n}\n\nexport default withStyles(styles)(VolumeControls);","import React, {useState} from 'react';\nimport './index.css';\nimport Cast from '@material-ui/icons/Cast';\nimport Button from '@material-ui/core/Button';\n\nexport default class GoogleCastButton extends React.Component<any, any> {\n\n    private _ref: React.RefObject<HTMLElement>;\n\n    constructor(props: any) {\n        super(props);\n        this._ref = React.createRef();\n    }\n\n    componentWillUnmount() {\n        this._ref.current!.remove();\n        // this._ref.current!.dispose() // <-- error throws here\n    }\n\n    render() {\n        const props = {\n            ref: this._ref,\n            style: {\n                'transition': 'opacity .1s cubic-bezier(0.4,0.0,1,1)',\n                'width': '23px',\n                'height': '23px',\n                'marginLeft': '8px',\n                'marginRight': '8px',\n                'fontSize': '1.5rem',\n                'display': 'inline-block',\n                '--disconnected-color': 'rgb(238, 238, 238)',\n                '--connected-color': 'rgb(62, 166, 255)',\n            }\n        };\n        //\n        // if (this.props.disabled) {\n        //     return (\n        //         <Button\n        //             disabled={true}\n        //             size=\"small\"\n        //             style={{backgroundColor: 'transparent', verticalAlign: 'initial'}}\n        //         >\n        //             <Cast />\n        //         </Button>\n        //     );\n        // }\n\n        return (\n            //@ts-ignore\n            <google-cast-launcher {...props} />\n        );\n    }\n}","import React from 'react';\nimport {withStyles, useTheme, Theme, createStyles} from '@material-ui/core/styles';\nimport PlayArrow from '@material-ui/icons/PlayArrow';\nimport Pause from '@material-ui/icons/Pause';\nimport SkipNext from '@material-ui/icons/SkipNext';\nimport Settings from '@material-ui/icons/Settings';\nimport Fullscreen from '@material-ui/icons/Fullscreen';\nimport * as ACTIONS from \"../../../actions/player\";\nimport Button from '@material-ui/core/Button';\nimport {useSelector, useDispatch} from 'react-redux';\nimport VideoProgressBar from \"./videoProgressBar\";\nimport VolumeControls from \"./volumeControls\";\nimport GoogleCastButton from \"./castButton\";\nimport {formatLength} from \"../../../helpers/functions\";\nimport Player from \"../../../service/player/Player\";\nimport Tooltip from '../../tooltip';\nimport GetApp from '@material-ui/icons/GetApp';\nconst fileDownload = require('js-file-download');\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\n\nconst styles = (theme: Theme) => createStyles({\n        root: {\n            position: 'absolute',\n            bottom: '0px',\n            left: '12px',\n            height: '36px',\n            zIndex: 1000,\n            padding: '0px',\n            // transition: 'opacity .1s cubic-bezier(0.4,0.0,1,1)',\n            opacity: 0,\n        },\n        gradientBottom: {\n            opacity: 0,\n            height: '36px',\n            margin: '-41px 0px 0px 0px',\n            zIndex: 22,\n            backgroundPosition: 'bottom',\n            width: '100%',\n            position: 'absolute',\n            backgroundRepeat: 'repeat-x',\n            backgroundImage: 'url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAADGCAYAAAAT+OqFAAAAdklEQVQoz42QQQ7AIAgEF/T/D+kbq/RWAlnQyyazA4aoAB4FsBSA/bFjuF1EOL7VbrIrBuusmrt4ZZORfb6ehbWdnRHEIiITaEUKa5EJqUakRSaEYBJSCY2dEstQY7AuxahwXFrvZmWl2rh4JZ07z9dLtesfNj5q0FU3A5ObbwAAAABJRU5ErkJggg==)',\n            transition: 'opacity .25s cubic-bezier(0.0,0.0,0.2,1)',\n            pointerEvents: 'none',\n        },\n        hover: {\n            opacity: 1,\n        },\n        buttons: {\n            transition: 'opacity .1s cubic-bezier(0.4,0.0,1,1)',\n            opacity: 0.9,\n            minWidth: '20px',\n            verticalAlign: 'initial',\n            color: 'rgb(238, 238, 238)',\n            '&:hover': {\n                opacity: 1,\n                color: \"#fff\",\n            },\n            marginTop: '1px',\n        },\n        hdBadge: {\n            '&::after': {\n                backgroundImage: 'url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMTAwJSIgdmVyc2lvbj0iMS4xIiB2aWV3Qm94PSIwIDAgMTMgOSIgd2lkdGg9IjEwMCUiPjxwYXRoIGQ9Ik01LDcgTDYsNyBMNiw4IEw1LDggTDUsNyBaIE0xMCwzIEwxMCw0IEw4LDQgTDgsMyBMMTAsMyBaIE0zLDYgTDMsNSBMNSw1IEw1LDYgTDMsNiBaIE0yLDcgTDMsNyBMMyw4IEwyLDggTDIsNyBaIE03LDcgTDEwLDcgTDEwLDggTDcsOCBMNyw3IFogTTEwLDYgTDExLDYgTDExLDcgTDEwLDcgTDEwLDYgWiIgZmlsbD0iIzAwMCIgZmlsbC1vcGFjaXR5PSIwLjY0NzEiIGZpbGwtcnVsZT0iZXZlbm9kZCIgLz48cGF0aCBkPSJNNSw3IEw1LDYgTDUsNSBMMyw1IEwzLDYgTDMsNyBMMiw3IEwyLDIgTDMsMiBMMyw0IEw1LDQgTDUsMiBMNiwyIEw2LDcgTDUsNyBaIE0xMSw2IEwxMCw2IEwxMCw3IEw3LDcgTDcsMiBMMTAsMiBMMTAsMyBMMTEsMyBMMTEsNiBaIE0xMCw0IEwxMCwzIEw4LDMgTDgsNCBMOCw2IEwxMCw2IEwxMCw0IFoiIGZpbGw9IiNmZmYiIGZpbGwtcnVsZT0iZXZlbm9kZCIgLz48L3N2Zz4=)',\n                content: \"''\",\n                position: 'absolute',\n                top: '7px',\n                right: '5px',\n                height: '9px',\n                width: '13px',\n                backgroundColor: 'red',\n                borderRadius: '1px',\n            }\n        },\n        timeDisplay: {\n            position: 'absolute',\n            top: '6px',\n            display: 'inline-block',\n            verticalAlign: 'middle',\n            padding: '0 5px',\n            lineHeight: '24px',\n            fontSize: '13px',\n            textShadow: '0 0 2px rgba(0,0,0,.5)',\n            color: 'rgb(238, 238, 238)',\n        },\n        leftControls: {\n            height: '100%',\n            float: 'left',\n        },\n        rightControls: {\n            height: '100%',\n            float: 'right',\n            marginTop: '-1px',\n        },\n        timeCurrent: {},\n        timeSeparator: {},\n        timeDuration: {},\n    }\n);\n\nfunction MediaControls(props: any, ref: any) {\n    const dispatch = useDispatch();\n    const theme = useTheme();\n\n    const {player, archive} = useSelector<{ player: Player, selectedTVSeriesArchive: any }, { player: Player, archive: any }>((state) => ({\n        player: state.player,\n        archive: state.selectedTVSeriesArchive,\n    }));\n\n    const {classes} = props;\n\n    function showControls(): boolean {\n        return player.isCasting || props.isHover || !player.isPlaying();\n    }\n\n    const requestFullScreenVideo = () => {\n        player.requestFullScreen();\n    };\n\n    const mdUp = useMediaQuery(theme.breakpoints.up('md'));\n    //todo fix this whole thing\n    function download(url: string): void {\n        const m = url.match(/\\.[0-9a-z]+$/i);\n        if (m && m[0]) {\n            const title = archive.name;\n            let seriesNumber = String(props.selectedSeasonIndex + 1);\n            if (props.selectedSeasonIndex + 1) {\n                seriesNumber = '0' + seriesNumber;\n            }\n            const series = `S${seriesNumber}`;\n            const meta = player.current().meta as any;\n            let episodeNumber = String(meta.episodeNumber);\n            if (meta.episodeNumber < 9) {\n                episodeNumber = '0' + episodeNumber;\n            }\n            const episode = `E${episodeNumber}`;\n            const ext = m[0];\n            const filename = title + '_' + series + episode + '_' + player.isHighQualitySelected() ? 'hd' : '' + ext;\n\n            if (mdUp) {\n                fileDownload(\n                    url,\n                    filename\n                );\n            } else {\n                window.open(url, '_blank');\n            }\n        }\n    }\n\n    if (player && player.isLoaded()) {\n        return (\n            <React.Fragment>\n                <div\n                    className={showControls() ? `${classes.gradientBottom} ${classes.hover}` : classes.gradientBottom}></div>\n                <div\n                    style={{width: `${parseInt(player.getVideoElementWidth()) - 24}px`}}\n                    className={showControls() ? `${classes.root} ${classes.hover}` : classes.root}\n                >\n                    <VideoProgressBar/>\n\n                    <Tooltip\n                        title={player.isPlaying() ? 'Pause (k)' : 'Play (k)'}\n                    >\n                        <Button\n                            size=\"small\"\n                            className={classes.buttons}\n                            style={{backgroundColor: 'transparent'}}\n                            onClick={() => dispatch(ACTIONS.togglePlay())}\n                        >\n                            {player.isPlaying() ? (\n                                <Pause\n                                    className={classes.buttons}\n\n                                />\n                            ) : (\n                                <PlayArrow\n                                    className={classes.buttons}\n                                />\n                            )}\n                        </Button>\n                    </Tooltip>\n                    <Tooltip\n                        title=\"Next (n)\"\n                    >\n                        <Button\n                            size=\"small\"\n                            className={classes.buttons}\n                            style={{backgroundColor: 'transparent'}}\n                            onClick={() => dispatch(ACTIONS.next())}\n                        >\n                            <SkipNext\n                                className={classes.buttons}\n                            />\n                        </Button>\n                    </Tooltip>\n\n                    <VolumeControls/>\n\n                    <div className={classes.timeDisplay}>\n                        <span className={classes.timeCurrent}>\n                            {formatLength(player.getCurrentTime())}\n                        </span>\n                        <span className={classes.timeSeparator}>&nbsp;/&nbsp;</span>\n                        <span className={classes.timeDuration}>\n                            {formatLength(player.current().duration)}\n                        </span>\n                    </div>\n\n                    <div className={classes.rightControls}>\n                        <Tooltip\n                            title={player.isHighQualitySelected() ? \"Low quality (h)\" : \"High quality(h)\"}\n                        >\n                            <Button\n                                size=\"small\"\n                                className={player.isHighQualitySelected() ? `${classes.buttons} ${classes.hdBadge}` : `${classes.buttons}`}\n                                style={{backgroundColor: 'transparent'}}\n                                onClick={() => dispatch(player.isHighQualitySelected() ? ACTIONS.setVideoLowestQuality() : ACTIONS.setVideoHighestQuality())}\n                            >\n                                <Settings\n                                    className={classes.buttons}\n                                />\n                            </Button>\n                        </Tooltip>\n\n                        <Tooltip\n                            title=\"Download (d)\"\n                        >\n                            <Button\n                                className={classes.buttons}\n                                style={{backgroundColor: 'transparent'}}\n                                size=\"small\"\n                                onClick={() => download(player.currentStream())}\n                            >\n                                <GetApp\n                                    className={classes.buttons}\n                                />\n                            </Button>\n                        </Tooltip>\n\n                        {player.canCast ? (\n                          <Tooltip\n                            title=\"Cast (c)\"\n                          >\n                            <GoogleCastButton\n                                disabled={!player.canCast}\n                            />\n                          </Tooltip>\n                        ) : ''}\n\n                        <Tooltip\n                            title=\"Full screen (f)\"\n                        >\n                        <Button\n                            disabled={!player.isFullScreenAvailable()}\n                            onClick={() => requestFullScreenVideo()}\n                            size=\"medium\"\n                            className={classes.buttons}\n                            style={{backgroundColor: 'transparent'}}\n                        >\n                            <Fullscreen\n                                className={classes.buttons}\n                            />\n                        </Button>\n                        </Tooltip>\n                    </div>\n                </div>\n            </React.Fragment>\n        );\n    }\n\n    return (<div></div>);\n}\n\nexport default withStyles(styles)(MediaControls);\n","import React from 'react';\nimport {makeStyles} from '@material-ui/core/styles';\nimport Transition from \"react-transition-group/Transition\";\n\nconst fadeInUp = \"fade-in\";\n\nconst useStyles = makeStyles({\n    root: {\n        position: 'absolute',\n        top: '50%',\n        left: '50%',\n        width: '52px',\n        height: '52px',\n        marginLeft: '-26px',\n        marginTop: '-26px',\n        backgroundColor: 'rgba(0,0,0,.5)',\n        borderRadius: '26px',\n    },\n    icon: {\n        width: '36px',\n        height: '36px',\n        margin: '14px',\n        display: 'block',\n        color: 'white',\n    },\n    transitionGroup: {\n        position: \"absolute\",\n        width: \"100%\",\n        height: \"100%\",\n    },\n    \"fadeIn-entered\": {\n        display: \"none\",\n    },\n    \"fadeIn-entering\": {\n        top: '50%',\n        left: '50%',\n        animation: `$${fadeInUp} .5s linear 1 normal forwards`,\n        position: \"absolute\",\n    },\n    \"fadeIn-exiting\": {\n        top: '50%',\n        left: '50%',\n        animation: `$${fadeInUp} .5s linear 1 normal forwards`,\n        position: \"absolute\",\n    },\n    \"fadeIn-exited\": {\n        display: \"none\",\n    },\n    [`@keyframes ${fadeInUp}`]: {\n        from: {\n            opacity: 1,\n            transform: 'translateY(-50%)'\n        },\n        to: {\n            opacity: 0,\n            transform: 'scale(2)'\n        }\n    },\n});\n\nfunction Index(props: any) {\n    const classes = useStyles();\n    const {animate, children, ...rest} = props;\n\n    return (\n        <Transition\n            {...rest} in={animate} timeout={500}>\n            {state => {\n                return (<div className={classes[`fadeIn-${state}`] || \"\"}>\n                    <div className={classes.root}>\n                        <div className={classes.icon}>\n                            {children}\n                        </div>\n                    </div>\n                </div>);\n            }}\n        </Transition>\n    );\n}\n\nexport default Index;\n","import React, {useEffect, useState} from 'react';\nimport {makeStyles} from '@material-ui/core/styles';\nimport Transition from \"react-transition-group/Transition\";\n\nconst fadeInUp = \"fade-in\";\n\nconst useStyles = makeStyles({\n    root: {\n        fontSize: '11px',//todo should be set in player root\n        position: 'absolute',\n        top: '10%',\n        left: '0%',\n        right: '0%',\n        textAlign: 'center',\n    },\n    inner: {\n        display: 'inline-block',\n        padding: '10px 20px',\n        fontSize: '175%',\n        backgroundColor: 'rgba(0,0,0,.5)',\n        pointerEvents: 'none',\n        borderRadius: '3px',\n    },\n    transitionGroup: {\n        position: \"absolute\",\n        width: \"100%\",\n        height: \"100%\",\n    },\n    \"fadeIn-entered\": {\n        display: \"none\",\n    },\n    \"fadeIn-exited\": {\n        display: \"none\",\n    },\n    [`@keyframes ${fadeInUp}`]: {\n    },\n});\n\nfunction VolumeLabel(props: any) {\n    const classes = useStyles();\n    const {animate, children, ...rest} = props;\n\n    return (\n        <Transition\n            {...rest} in={animate} timeout={500}>\n            {state => {\n                return (<div className={classes[`fadeIn-${state}`] || \"\"}>\n                    <div className={classes.root}>\n                        <div className={classes.inner}>\n                            {children}\n                        </div>\n                    </div>\n                </div>);\n            }}\n        </Transition>\n    );\n}\n\nexport default VolumeLabel;\n","import React, {useEffect, useRef, useState} from 'react';\nimport Box from '@material-ui/core/Box';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport Divider from '@material-ui/core/Divider';\nimport {useSelector, useDispatch} from 'react-redux';\nimport * as ACTIONS from \"../../actions/player\";\nimport Hidden from '@material-ui/core/Hidden';\nimport PlayerInterface from \"../../service/player/PlayerInterface\";\nimport MediaControls from \"./mediaControls\";\nimport Ripple from \"../ripple\";\nimport Pause from '@material-ui/icons/Pause';\nimport PlayArrow from '@material-ui/icons/PlayArrow';\nimport VolumeUp from '@material-ui/icons/VolumeUp';\nimport VolumeDown from '@material-ui/icons/VolumeDown';\nimport VolumeOff from '@material-ui/icons/VolumeOff';\nimport Forward5 from '@material-ui/icons/Forward5';\nimport Rewind5 from '@material-ui/icons/Replay5';\nimport VolumeLabel from \"./mediaControls/volumeLabel\";\n\nfunction Player(props: any, ref: any) {\n    const dispatch = useDispatch();\n    let playerRef = useRef<HTMLVideoElement>(null);\n\n    type stateInterface = {\n        animateFastForward: boolean,\n        animateRewind: boolean,\n        animateMute: boolean,\n        animatePausePlay: boolean,\n        animateVolumeUp: boolean,\n        animateVolumeDown: boolean,\n        animateVolumeLabel: boolean,\n        player: PlayerInterface\n    };\n\n    const {\n        animateFastForward,\n        animateRewind,\n        animateMute,\n        animatePausePlay,\n        animateVolumeUp,\n        animateVolumeDown,\n        animateVolumeLabel,\n        player,\n    } = useSelector<stateInterface, stateInterface>((state) => ({\n        player: state.player,\n        animatePausePlay: state.animatePausePlay,\n        animateMute: state.animateMute,\n        animateFastForward: state.animateFastForward,\n        animateRewind: state.animateRewind,\n        animateVolumeUp: state.animateVolumeUp,\n        animateVolumeDown: state.animateVolumeDown,\n        animateVolumeLabel: state.animateVolumeLabel,\n    }));\n\n    const [isHover, setIsHover] = useState<boolean>(false);\n\n    const playNextTrigger = () => {\n        dispatch(ACTIONS.next());\n    };\n\n    const dataLoaded = () => {\n        //this is not in store it just triggers react to rerender\n        dispatch(ACTIONS.videoElementDataLoaded());\n    };\n\n    const timeupdate = () => {\n        //this is not in store it just triggers react to rerender\n        dispatch(ACTIONS.videoElementTimeUpdate());\n    };\n\n    const togglePlay = (event: any) => {\n        dispatch(ACTIONS.togglePlayWithAnimation());\n    };\n\n    const toggleMute = (event: any) => {\n        dispatch(ACTIONS.toggleMuteWithAnimation());\n    };\n\n    const fastForward = (event: any) => {\n        dispatch(ACTIONS.fastForwardWithAnimation());\n    };\n\n    const rewind = (event: any) => {\n        dispatch(ACTIONS.rewindWithAnimation());\n    };\n\n    const volumeUp = (event: any) => {\n        dispatch(ACTIONS.volumeUpWithAnimation());\n    };\n\n    const volumeDown = (event: any) => {\n        dispatch(ACTIONS.volumeDownWithAnimation());\n    };\n\n    const reversePlaylistSort = (event: any) => {\n        dispatch(ACTIONS.reversePlaylistSort());\n    };\n\n    useEffect(() => {\n        if (player && player.current()) {\n            document.title = player.current().subtitle;\n        }\n    }, [player && player.current()]);\n\n    useEffect(() => {\n        if (playerRef && playerRef.current) {\n            dispatch(ACTIONS.setVideoElementAndStartPlaying(playerRef.current, {\n                ended: playNextTrigger,\n                loadeddata: dataLoaded,\n                timeupdate: timeupdate,\n                togglePlay: togglePlay,\n                toggleMute: toggleMute,\n                fastForward: fastForward,\n                rewind: rewind,\n                volumeUp: volumeUp,\n                volumeDown: volumeDown,\n                reversePlaylistSort: reversePlaylistSort,\n            }));\n        }\n    }, [player]);\n\n    return (\n        <React.Fragment>\n            <div\n                style={{height: '100%', position: 'relative'}}\n                onMouseOver={() => setIsHover(true)}\n                onMouseOut={() => setIsHover(false)}\n            >\n                {player.isLoaded() ? (\n                    <div\n                        onClick={(event: any) => togglePlay(event)}\n                        style={{width: '100%', height: 'calc(100% - 36px)', zIndex: 99, position: 'absolute'}}\n                    >\n                        <Ripple\n                            animate={animatePausePlay}\n                        >\n                            {player.isPlaying() ? (<PlayArrow/>) : (<Pause/>)}\n                        </Ripple>\n                        <Ripple\n                            animate={animateMute}\n                        >\n                            {player.isMuted() ? (<VolumeOff/>) : (<VolumeUp/>)}\n                        </Ripple>\n                        <Ripple\n                            animate={animateFastForward}\n                        >\n                            <Forward5/>\n                        </Ripple>\n                        <Ripple\n                            animate={animateRewind}\n                        >\n                            <Rewind5/>\n                        </Ripple>\n\n                        <Ripple\n                            animate={animateVolumeUp}\n                        >\n                            <VolumeUp/>\n                        </Ripple>\n\n                        <Ripple\n                            animate={animateVolumeDown}\n                        >\n                            <VolumeDown/>\n                        </Ripple>\n\n                        <VolumeLabel\n                            animate={animateVolumeLabel}\n                        >\n                            {player.getVolume() * 100}%\n                        </VolumeLabel>\n                    </div>\n                ) : ''}\n                <video\n                    ref={playerRef} width=\"100%\" height=\"100%\"/>\n                <MediaControls isHover={isHover}/>\n            </div>\n            {player && player.current() && (\n                <Hidden smDown>\n                    <Box>\n                        <Grid container spacing={2}\n                              direction=\"row\"\n                              justify=\"space-between\"\n                              alignItems=\"flex-start\">\n\n                            <Grid item>\n                                <Typography variant=\"h6\" component=\"h1\">{player.current().title}</Typography>\n                                <Typography variant={'caption'} component=\"p\">{player.current().subtitle}</Typography>\n                            </Grid>\n\n                        </Grid>\n                        <Box mt={1} mb={1}>\n                            <Divider variant=\"fullWidth\"/>\n                        </Box>\n                    </Box>\n                </Hidden>\n            )}\n        </React.Fragment>\n    );\n}\n\nexport default Player;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {withStyles, useTheme, Theme, createStyles} from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardActionArea from '@material-ui/core/CardActionArea';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport Typography from '@material-ui/core/Typography';\nimport Grid from '@material-ui/core/Grid';\nimport Box from '@material-ui/core/Box';\nimport PlayArrow from '@material-ui/icons/PlayArrow';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport ReactTimeAgo from 'react-time-ago';\nimport PlayerInterface from \"../../service/player/PlayerInterface\";\nimport {useSelector} from 'react-redux';\nimport {formatLength} from '../../helpers/functions';\n\nconst styles = (theme: Theme) => createStyles({\n    card: {\n        backgroundColor: 'transparent',\n        paddingBottom: '12px',\n        [theme.breakpoints.down('sm')]: {\n            padding: '12px',\n        },\n    },\n    notSelectedCard: {\n        [theme.breakpoints.down('sm')]: {\n            marginBottom: '-12px',\n        }\n    },\n    selectedCard: {\n        [theme.breakpoints.down('sm')]: {\n            backgroundColor: 'hsla(0,0%,53.3%,.8)',\n        },\n    },\n    selectedCardMarginTop: {\n        [theme.breakpoints.down('sm')]: {\n            marginTop: '12px',\n        },\n    },\n    media: {\n        [theme.breakpoints.down('sm')]: {\n            height: '90px',\n        },\n        [theme.breakpoints.up('md')]: {\n            height: '94px',\n        },\n        position: 'relative',\n    },\n    detail: {\n        height: '90px',\n        padding: '0 8px',\n        '&:last-child': {\n            paddingBottom: 0,\n        }\n    },\n    text: {\n        height: '100%',\n    },\n    headline: {\n        fontSize: '14px',\n        lineHeight: '16px',\n        maxHeight: '32px',\n        overflow: 'hidden',\n        fontWeight: 'bold',\n        marginBottom: '4px',\n    },\n    subhead: {\n        fontSize: '13px',\n    },\n    dateAdded: {\n        fontSize: '12px',\n        opacity: .6,\n    },\n    playlistPosition: {\n        position: 'absolute',\n        left: '-24px',\n        top: '42px',\n        width: '24px',\n        textAlign: 'center',\n        fontSize: '12px',\n    },\n    playlistPositionNumberWidth: {\n        [theme.breakpoints.down('sm')]: {\n            paddingLeft: '0',\n        },\n        [theme.breakpoints.up('md')]: {\n            paddingLeft: '24px',\n        },\n    },\n    playlistPositionArrow: {\n        fontSize: '16px',\n        color: theme.palette.type === 'dark' ? theme.palette.primary.main : theme.palette.text.hint\n    },\n    playlistPositionNumber: {\n        color: theme.palette.type === 'dark' ? 'hsl(0, 0%, 53.3%)' : theme.palette.text.secondary\n    },\n    itemLength: {\n        position: 'absolute',\n        bottom: 0,\n        right: 0,\n        padding: '2px 4px',\n        margin: '4px',\n        backgroundColor: 'rgba(0, 0, 0, 0.80)',\n        color: 'white',\n        borderRadius: '2px',\n        letterSpacing: '.5px',\n        fontSize: '12px',\n        fontWeight: 'bold',\n        lineHeight: '12px',\n    }\n});\n\nfunction PlaylistItem(props: any) {\n    const {player} = useSelector<{ player: PlayerInterface }, { player: PlayerInterface }>((state) => ({\n        player: state.player,\n    }));\n    const {classes, episode, itemClick} = props;\n\n    const theme = useTheme();\n    const mdUp = useMediaQuery(theme.breakpoints.up('md'));\n\n    let imageQuality = 'r320x240';\n    if (player.isHighQualitySelected()) {\n        imageQuality = 'r640x480';\n    }\n    return (\n        <Box width=\"100%\" className={props.isPlaying && props.playlistPosition > 1 ? classes.selectedCardMarginTop : ''} >\n            <Box width=\"100%\" className={props.isPlaying ? classes.selectedCard : classes.notSelectedCard}>\n                <Card className={classes.card} onClick={itemClick} square elevation={0}>\n                    <CardActionArea>\n                        <Grid container\n                              direction=\"row\"\n                              justify=\"space-between\"\n                              alignItems=\"flex-start\">\n\n                            <Grid item xs={6} sm={3} md={5}>\n                                <Box className={classes.playlistPositionNumberWidth}>\n                                    <CardMedia\n                                        className={classes.media}\n                                        image={episode.image.replace(/\\/[r]?[0-9]+x?[0-9]?[n]?\\/?/, `/${imageQuality}/`)}\n                                        title={episode.title}\n\n                                    >\n                                        {mdUp && props.playlistPosition && (\n                                            <Box className={classes.playlistPosition}>\n                                                {props.isPlaying ? (\n                                                    <PlayArrow className={classes.playlistPositionArrow}/>\n                                                ) : (\n                                                    <Box className={classes.playlistPositionNumber}>{props.playlistPosition}</Box>\n                                                )}\n                                            </Box>\n                                        )}\n\n                                        {episode.duration ? (\n                                            <Typography variant={'caption'} component=\"span\">\n                                                <Box className={classes.itemLength}>\n                                                    {formatLength(episode.duration)}\n                                                </Box>\n                                            </Typography>\n                                        ) : ''}\n\n                                    </CardMedia>\n                                </Box>\n                            </Grid>\n\n                            <Grid item xs={6} sm={9} md={7} className={classes.media}>\n                                <CardContent className={classes.detail}>\n                                    <Grid\n                                        className={classes.text}\n                                        container\n                                        direction=\"column\"\n                                    >\n                                        <Grid item>\n                                            <Typography className={classes.headline} variant=\"subtitle2\" component=\"h4\">\n                                                {episode.title}\n                                            </Typography>\n                                        </Grid>\n\n                                        {episode.meta.type === 'TVEpisode' ? (\n                                            <Grid item>\n                                                <Typography className={classes.subhead} variant={'subtitle2'} component=\"p\">\n                                                    Epizda: {episode.meta.episodeNumber}\n                                                </Typography>\n                                            </Grid>\n                                        ) : ''}\n\n                                        {episode.meta.dateAdded && (\n                                            <Grid item>\n                                                <Box mt={episode.meta.type === 'TVEpisode' ? '-4px' : '0'}>\n                                                    <Typography className={classes.dateAdded} variant={'subtitle2'} component=\"p\">\n                                                        <ReactTimeAgo locale={props.locale.lang()} date={episode.meta.dateAdded}/>\n                                                    </Typography>\n                                                </Box>\n                                            </Grid>)}\n                                    </Grid>\n                                </CardContent>\n                            </Grid>\n                        </Grid>\n                    </CardActionArea>\n                </Card>\n            </Box>\n        </Box>\n    );\n}\n\nPlaylistItem.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(PlaylistItem);","import {\n    THEME_SELECT_MODE,\n    THEME_TOGGLE_MODE,\n} from \"../app/config/constants/action_types\";\n\nexport function selectThemeMode(mode: \"dark\"|\"light\") {\n    return {type: THEME_SELECT_MODE, payload: mode};\n}\n\nexport function toggleThemeMode() {\n    return {type: THEME_TOGGLE_MODE};\n}\n","// import {injectable} from \"inversify\";\nimport PlaylistInterface from \"./PlaylistInterface\";\nimport PlaylistItem from \"./PlaylistItem\";\nimport Sortable from \"./Sortable\";\n\n// @injectable()\nclass Playlist implements PlaylistInterface {\n    private _currentIndex = 0;\n    private _sortOrder = 'asc';\n\n    constructor(private _items: Array<PlaylistItem>) {\n    }\n\n    add(item: PlaylistItem): void {\n        this._items.push(item);\n    }\n\n    current(): PlaylistItem {\n        return this._items[this._currentIndex];\n    }\n\n    rest(): Array<PlaylistItem> {\n        return this._items.filter((item: any, index: number) => index > this._currentIndex + 1);\n    }\n\n    next(): PlaylistItem {\n        if (!this._items[this._currentIndex + 1]) {\n            throw new Error('End of playlist reached');\n        }\n        this._currentIndex++;\n\n        return this._items[this._currentIndex];\n    }\n\n    previous(): PlaylistItem {\n        if (!this._items[this._currentIndex - 1]) {\n            throw new Error('Start of playlist reached');\n        }\n        this._currentIndex--;\n\n        return this._items[this._currentIndex];\n    }\n\n    nextItem(): PlaylistItem {\n        if (!this._items[this._currentIndex + 1]) {\n            throw new Error('End of playlist reached');\n        }\n\n        return this._items[this._currentIndex + 1];\n    }\n\n    previousItem(): PlaylistItem {\n        if (!this._items[this._currentIndex - 1]) {\n            throw new Error('Start of playlist reached');\n        }\n\n        return this._items[this._currentIndex - 1];\n    }\n\n    remove(item: PlaylistItem): void {\n    }\n\n    rewind(): void {\n        this._currentIndex = 0;\n    }\n\n    size(): number {\n        return this._items.length;\n    }\n\n    get currentIndex(): number {\n        return this._currentIndex;\n    }\n\n    set currentIndex(value: number) {\n        if (value > this._items.length - 1) {\n            throw new Error(`Invalid index [${value}] provided`);\n        }\n        this._currentIndex = value;\n    }\n\n    moveIndexTo(src: string): void {\n        let moveToIndex = -1;\n        this._items.forEach((item: PlaylistItem, index: number) => {\n            if (item.mp4.indexOf(src) >= 0) {\n                moveToIndex = index;\n            }\n        });\n\n        if (moveToIndex === -1) {\n            throw new Error(`Can not play selected video index ${moveToIndex}`);\n        }\n\n        this.currentIndex = moveToIndex;\n    }\n\n    reverse(): void {\n        if (this._sortOrder === 'asc') {\n            this._sortOrder = 'desc';\n        } else {\n            this._sortOrder = 'asc';\n        }\n        this._items.reverse();\n        this.currentIndex = this._items.length - this.currentIndex -1;\n    }\n\n    sortAsc(): void {\n        this._sortOrder = 'asc';\n        this.items.sort((a: Sortable, b: Sortable) => (a.sortPosition > b.sortPosition) ? 1 : ((b.sortPosition > a.sortPosition) ? -1 : 0));\n    }\n\n    sortDesc(): void {\n        this._sortOrder = 'desc';\n        this.items.sort((a: Sortable, b: Sortable) => (a.sortPosition < b.sortPosition) ? 1 : ((b.sortPosition < a.sortPosition) ? -1 : 0));\n    }\n\n    get sortOrder(): string {\n        return this._sortOrder;\n    }\n\n    get items(): Array<PlaylistItem> {\n        return this._items;\n    }\n}\n\nexport default Playlist;\n","// import {injectable} from \"inversify\";\nimport PlayableItem from \"./PlayableItem\";\nimport Sortable from \"./Sortable\";\n\n// @injectable()\nclass PlaylistItem implements PlayableItem, Sortable {\n    private _sortPosition: number = 0;\n\n    constructor(\n        public title: string,\n        public image: string,\n        public mp4: Array<any>,\n        public duration: number,\n        public subtitle: string,\n        public meta: {},\n    ) {\n        this.title = title;\n        this.image = image;\n        this.mp4 = mp4;\n        this.duration = duration;\n        this.subtitle = subtitle;\n        this.meta = meta;\n    }\n\n    get sortPosition(): number {\n        return this._sortPosition;\n    }\n\n    set sortPosition(value: number) {\n        this._sortPosition = value;\n    }\n}\n\nexport default PlaylistItem;\n","import Playlist from \"./Playlist\";\nimport PlaylistItem from \"./PlaylistItem\";\n\nclass PlaylistFactory {\n    public static createPlaylistForProgramSeason(selectedSeason: any): Playlist {\n        const playlist = new Playlist([]);\n        let sort = 'asc';\n        selectedSeason.episodes.forEach((item: any) => {\n            const playlistItem = this.createPlaylistItem(item);\n            if (item['type'] === 'article' || item['type'] === 'NewsArticle') {\n                sort = 'desc';\n                playlistItem.sortPosition = Date.parse(item.dateAdded);\n            } else {\n                playlistItem.sortPosition = item.episodeNumber;//tvseries\n            }\n            playlist.add(playlistItem);\n        });\n        if (sort === 'asc') {\n            playlist.sortAsc();\n        } else if (sort === 'desc') {\n            playlist.sortDesc();\n        }\n\n        return playlist;\n    }\n\n    private static createPlaylistItem(item: any): PlaylistItem {\n        let dateAdded;\n        if (item.dateAdded !== undefined) {\n            try {\n                dateAdded = new Date(item.dateAdded);\n            } catch (error) {\n            }\n\n            if (!this.isValidDate(dateAdded)) {\n                const bits = item.dateAdded.split('.');\n                const correctlyFormattedDateString = `${bits[2]}-${bits[1]}-${bits[0]}`;\n                try {\n                    dateAdded = new Date(correctlyFormattedDateString);\n                } catch (error){}\n            }\n            if (!this.isValidDate(dateAdded)) {\n                dateAdded = item.dateAdded;\n            }\n        }\n\n        return new PlaylistItem(\n            item.name,\n            item.thumbnailUrl ? item.thumbnailUrl : item.image,\n            item.mp4,\n            item.timeRequired ? parseInt(item.timeRequired.replace(/PT|S/g, '')) : 0,\n            '',\n            {episodeNumber: item.episodeNumber, dateAdded: dateAdded, type: item['type']}\n        )\n    }\n\n    private static isValidDate(d: any) {\n        return !isNaN(d) && d instanceof Date;\n    }\n}\n\nexport default PlaylistFactory;\n","import React, {useEffect, useState, useRef} from 'react';\nimport {useSelector, useDispatch} from 'react-redux';\nimport {withStyles, useTheme, Theme, createStyles} from '@material-ui/core/styles';\nimport * as ACTIONS from \"../../actions/player\";\nimport * as THEME_ACTIONS from \"../../actions/theme\";\nimport Grid from '@material-ui/core/Grid';\nimport Box from '@material-ui/core/Box';\nimport Typography from '@material-ui/core/Typography';\nimport IconButton from '@material-ui/core/IconButton';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport SortByAlpha from '@material-ui/icons/SortByAlpha';\nimport List from '@material-ui/icons/List';\nimport SvgIcon from '@material-ui/core/SvgIcon';\nimport PlayerInterface from \"../../service/player/PlayerInterface\";\nimport PlaylistFactory from \"../../service/player/PlaylistFactory\";\n\nimport Tooltip from '../tooltip';\n\nconst styles = (theme: Theme) => createStyles({\n    playlistHeader: {\n        // transition: 'background-color 1s ease-out',\n        width: '100%',\n        [theme.breakpoints.down('sm')]: {\n            padding: '0 0 0 12px',\n        },\n        [theme.breakpoints.up('md')]: {\n            backgroundColor: theme.palette.type === 'dark' ? 'rgba(136, 136, 136, 0.4)' : 'rgba(238, 238, 238)',\n            padding: '0 0 0 16px',\n        },\n    },\n    playlistHeaderMetaData: {\n        fontSize: '11px',\n        height: '48px',\n        lineHeight: '1.5',\n        [theme.breakpoints.up('md')]: {\n            padding: '12px 16px 0 0',\n        },\n        [theme.breakpoints.down('sm')]: {\n            padding: '8px 5px 0 0',\n        },\n    },\n    playlistHeaderTitle: {\n        fontSize: '14px',\n        [theme.breakpoints.down('sm')]: {\n            color: theme.palette.type === 'dark' ? 'rgb(238, 238, 238)' : 'inherit',\n        },\n        [theme.breakpoints.up('md')]: {\n            marginBottom: '4px',\n        },\n        fontWeight: 'bold',\n        lineHeight: '16px',\n    },\n    playlistHeaderSubHead: {\n        fontSize: '12px',\n        lineHeight: '16.5px',\n        [theme.breakpoints.up('md')]: {\n            color: theme.palette.type === 'light' ? 'rgba(17, 17, 17, 0.6)' : 'inherit',\n        },\n    },\n    controlBar: {\n        height: '44px',\n        width: '100%',\n        [theme.breakpoints.down('sm')]: {\n            height: '48px',\n            color: theme.palette.type === 'dark' ? '#eee' : 'inherit',\n        },\n        [theme.breakpoints.up('md')]: {\n            color: theme.palette.type === 'dark' ? 'rgb(144, 144, 144)' : 'inherit',\n        },\n        paddingRight: '4px',\n    },\n    playerControlsButton: {\n        marginLeft: '10px',\n    },\n    playerControlsButtonCommon: {\n        width: '40px',\n        height: '40px',\n        // color: theme.palette.type === 'light' ? 'rgb(144, 144, 144)' : 'inherit',\n    },\n    firstButton: {\n        marginLeft: '-10px',\n    }\n});\n\nfunction PlaylistHeader(props: any) {\n    const {player, archive, menuAnchorElement} = useSelector<{ menuAnchorElement: HTMLElement, player: PlayerInterface, selectedTVSeriesArchive: any }, { menuAnchorElement: HTMLElement, player: PlayerInterface, archive: any }>((state) => ({\n        player: state.player,\n        archive: state.selectedTVSeriesArchive,\n        menuAnchorElement: state.menuAnchorElement,\n    }));\n\n    const dispatch = useDispatch();\n    const {classes} = props;\n\n    const handlePlaylistChange = (event: any) => {\n        props.setSelectedSeasonIndex(parseInt(event.target.value));\n        dispatch(\n            ACTIONS.loadPlaylistAndStartPlaying(\n                PlaylistFactory.createPlaylistForProgramSeason(archive.seasons[parseInt(event.target.value)])\n            )\n        );\n        handleMenuClose();\n    };\n\n    function handleOpenMenuClick(event: React.MouseEvent<HTMLButtonElement>) {\n        dispatch(ACTIONS.openPlaylistMenu(buttonRef.current));\n    }\n\n    function handleMenuClose() {\n        dispatch(ACTIONS.closePlaylistMenu());\n    }\n\n    useEffect(() => {\n        window.document.addEventListener('keydown', (e: KeyboardEvent) => {\n            if (e.code === 'KeyC') {\n                e.preventDefault();\n                dispatch(ACTIONS.openPlaylistMenu(buttonRef.current));\n            }\n\n            if (e.code === 'KeyT') {\n                e.preventDefault();\n                dispatch(THEME_ACTIONS.toggleThemeMode());\n            }\n        });\n    }, []);\n\n    let buttonRef = useRef<any>(null);\n\n    return (\n        <Box className={classes.playlistHeader}>\n            {player.current() && (\n                <div className={classes.playlistHeaderMetaData}>\n                    <Grid\n                        container\n                        direction=\"row\"\n                    >\n                        <Typography className={classes.playlistHeaderTitle} component=\"h3\">\n                            {archive.name}\n                        </Typography>\n\n                    </Grid>\n\n                    <Grid\n                        container\n                        direction=\"row\"\n                    >\n                        <Typography className={classes.playlistHeaderSubHead} display=\"block\">\n                            {archive.seasons.length > 1 && (archive.seasons[props.selectedSeasonIndex].name + ' - ')}\n                            {player.currentlyPlayingItemOrder} / {player.playlistItemsCount}\n                        </Typography>\n                    </Grid>\n                </div>\n            )}\n            <div className={classes.controlBar}>\n                <Grid item xs={12}\n                      container\n                      direction=\"row\"\n                      justify=\"space-between\"\n                >\n                    <Grid item className={classes.firstButton}>\n                        <Tooltip\n                            title=\"Change season (c)\"\n                        >\n                            <IconButton\n                                ref={buttonRef}\n                                className={classes.playerControlsButtonCommon}\n                                size=\"small\"\n                                // color=\"inherit\"\n                                disabled={archive.seasons.length < 2}\n                                onClick={handleOpenMenuClick}\n                            >\n                                <List/>\n                            </IconButton>\n                        </Tooltip>\n                        <Menu\n                            anchorEl={menuAnchorElement}\n                            keepMounted\n                            open={Boolean(menuAnchorElement)}\n                            onClose={handleMenuClose}\n                        >\n                            {archive.seasons.map((season: any, index: number) =>\n                                <MenuItem\n                                    disabled={index === props.selectedSeasonIndex}\n                                    onClick={handlePlaylistChange}\n                                    key={index}\n                                    value={index}>{season.name}</MenuItem>)}\n                        </Menu>\n                    </Grid>\n                    <Grid item>\n                        <Tooltip\n                            title={player.getPlaylistSortOrder() === 'desc' ? 'Sort ASC (s)' : 'Sort DESC (s)'}\n                        >\n                            <IconButton\n                                className={classes.playerControlsButtonCommon}\n                                size=\"small\"\n                                color={player.getPlaylistSortOrder() === 'desc' ? 'primary' : undefined}\n                                onClick={() => dispatch(ACTIONS.reversePlaylistSort())}\n                                disabled={!player.playlistItemsCount}>\n                                <SortByAlpha/>\n                            </IconButton>\n                        </Tooltip>\n\n                        <Tooltip\n                            title=\"Toggle theme (t)\"\n                        >\n                            <IconButton\n                                className={classes.playerControlsButtonCommon}\n                                size=\"small\"\n                                onClick={() => dispatch(THEME_ACTIONS.toggleThemeMode())}\n                            >\n                                <SvgIcon>\n                                    <path\n                                        d=\"M9 21c0 .55.45 1 1 1h4c.55 0 1-.45 1-1v-1H9v1zm3-19C8.14 2 5 5.14 5 9c0 2.38 1.19 4.47 3 5.74V17c0 .55.45 1 1 1h6c.55 0 1-.45 1-1v-2.26c1.81-1.27 3-3.36 3-5.74 0-3.86-3.14-7-7-7zm2.85 11.1l-.85.6V16h-4v-2.3l-.85-.6C7.8 12.16 7 10.63 7 9c0-2.76 2.24-5 5-5s5 2.24 5 5c0 1.63-.8 3.16-2.15 4.1z\"></path>\n                                </SvgIcon>\n                            </IconButton>\n                        </Tooltip>\n                    </Grid>\n                </Grid>\n            </div>\n        </Box>\n    );\n}\n\n// Header.propTypes = {\n//     classes: Header.object.isRequired,\n// };\n\nexport default withStyles(styles)(PlaylistHeader);","import React, {useEffect, useState} from 'react';\nimport PropTypes from 'prop-types';\nimport {List, ListRowProps, AutoSizer, CellMeasurer, CellMeasurerCache} from 'react-virtualized';\nimport {withStyles, useTheme, Theme, createStyles} from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport Box from '@material-ui/core/Box';\nimport PlaylistItem from \"./playlistItem\";\nimport {useSelector, useDispatch} from 'react-redux';\nimport * as ACTIONS from \"../../actions/player\";\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport Player from \"../../service/player/Player\";\nimport PlaylistHeader from \"./header\";\nimport Hidden from '@material-ui/core/Hidden';\n\nconst styles = (theme: Theme) => createStyles({\n    playlist: {\n        borderBottom: '1px solid rgba(136, 136, 136, 0.4)',\n        [theme.breakpoints.up('md')]: {\n            // padding: '0 8px 8px 0',\n        },\n        width: '100%',\n    },\n    playlistItems: {\n        height: '100%',\n        [theme.breakpoints.up('md')]: {\n            backgroundColor: theme.palette.type === 'dark' ? 'rgba(136, 136, 136, 0.2)' : 'rgba(238, 238, 238, 0.6)',\n        },\n    },\n});\n\nfunction Playlist(props: any) {\n    const locale = props.locale;\n    const {classes} = props;\n    const [playlistHeight, setPlaylistHeight] = useState<string>('600px');\n    const theme = useTheme();\n    const mdUp = useMediaQuery(theme.breakpoints.up('md'));\n    const smDown = useMediaQuery(theme.breakpoints.down('sm'));\n    const dispatch = useDispatch();\n\n    const {player} = useSelector<{ player: Player }, { player: Player }>((state) => ({\n        player: state.player,\n    }));\n\n    useEffect(() => {\n        if (player.isLoaded()) {\n            setHeight();\n        }\n    }, [player && player.isLoaded(), player.isVideoDataLoaded]);\n\n    function setHeight() {\n        const videoHeight = parseInt(player.getVideoElementHeight());\n        const playlistHeight = window.innerHeight - videoHeight;\n        const bodyTopPadding = 16;\n        if (mdUp) {\n            const playlistHeaderHeight = 88;\n            setPlaylistHeight(window.innerHeight - 2 * bodyTopPadding - playlistHeaderHeight + 'px');\n        } else {\n            const playlistHeaderHeight = 0;\n            setPlaylistHeight( `${playlistHeight - playlistHeaderHeight}px`);\n        }\n    }\n\n    const cellMeasurerCache = new CellMeasurerCache({\n        fixedWidth: true,\n        defaultHeight: 300\n    });\n\n    function RowMdUp(props: ListRowProps) {\n        const {index, key, style, parent} = props;\n        const playlistItem = player.playlistItems[index];\n        return (\n            <CellMeasurer\n                key={key}\n                cache={cellMeasurerCache}\n                parent={parent}\n                columnIndex={0}\n                rowIndex={index}>\n                <div style={style}>\n                    <PlaylistItem\n                        locale={locale}\n                        isPlaying={player.currentlyPlayingItemOrder === index + 1}\n                        playlistPosition={index + 1}\n                        key={index}\n                        episode={playlistItem}\n                        itemClick={() => dispatch(ACTIONS.playPlaylistItem(playlistItem))}\n                    />\n                </div>\n            </CellMeasurer>\n        );\n    }\n\n    const [selectedSeasonIndex, setSelectedSeasonIndex] = useState<number>(0);\n\n    function rowSmDown(props: ListRowProps) {\n        const {index, key, style, parent} = props;\n        const playlistItem = player.playlistItems[index -1];\n        return (\n            <CellMeasurer\n                key={key}\n                cache={cellMeasurerCache}\n                parent={parent}\n                columnIndex={0}\n                rowIndex={index}>\n                <div style={style}>\n                    {mdUp || index > 0 ? (<PlaylistItem\n                        locale={locale}\n                        isPlaying={player.currentlyPlayingItemOrder === index}\n                        playlistPosition={index}\n                        key={index}\n                        episode={playlistItem}\n                        itemClick={() => dispatch(ACTIONS.playPlaylistItem(playlistItem))}\n                    />) : (<PlaylistHeader selectedSeasonIndex={selectedSeasonIndex} setSelectedSeasonIndex={setSelectedSeasonIndex}/>)}\n                </div>\n            </CellMeasurer>\n        );\n    }\n\n    RowMdUp.propTypes = {\n        index: PropTypes.number,\n        style: PropTypes.object,\n    } as any;\n\n    return (\n        <div className={classes.playlist}>\n\n            <Hidden smDown>\n                <PlaylistHeader selectedSeasonIndex={selectedSeasonIndex} setSelectedSeasonIndex={setSelectedSeasonIndex}/>\n            </Hidden>\n\n            <Box style={{height: playlistHeight}} className={classes.playlistItems}>\n                <Grid item xs={12}\n                      container\n                      direction=\"row\"\n                      spacing={0}\n                >\n                    <AutoSizer\n                        disableHeight={true}\n                    >\n                        {({ height, width }) => (\n                            <List\n                                style={\n                                    mdUp ? {outline: 'none', paddingBottom: '12px', paddingTop: '8px'} :\n                                        {outline: 'none', paddingBottom: '12px'}\n                                }\n                                width={width}\n                                height={parseInt(playlistHeight)}\n                                deferredMeasurementCache={cellMeasurerCache}\n                                rowHeight={cellMeasurerCache.rowHeight}\n                                rowRenderer={mdUp ? RowMdUp : rowSmDown}\n                                rowCount={smDown ? player.playlistItems.length + 1 : player.playlistItems.length}\n                                overscanRowCount={10}/>\n                        )}\n                    </AutoSizer>\n                </Grid>\n            </Box>\n        </div>\n    );\n}\n\nPlaylist.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(Playlist);","import React from 'react';\n\nclass ErrorBoundary extends React.Component<any, { hasError: null} > {\n    constructor(props: any) {\n        super(props);\n        this.state = { hasError: null};\n    }\n\n    static getDerivedStateFromError(error: Error) {\n        return { hasError: true };\n    }\n\n    componentDidCatch(error: Error, info: any) {\n        // log error\n    }\n\n    render() {\n        if (this.state.hasError) {\n            return <h1>Something went wrong.</h1>;\n        }\n\n        return this.props.children;\n    }\n}\n\nexport default ErrorBoundary;","import React, {useEffect, useState} from 'react';\nimport Box from '@material-ui/core/Box';\nimport Grid from '@material-ui/core/Grid';\nimport {withStyles, Theme} from '@material-ui/core/styles';\nimport {useSelector, useDispatch} from 'react-redux';\nimport * as ITEM_ACTIONS from \"../../../actions/archiveItem\";\nimport Player from \"../../../components/player\";\nimport Playlist from \"../../../components/playlist\";\nimport ErrorBoundary from \"../../../components/errorBoundary\";\nimport Hidden from '@material-ui/core/Hidden';\nimport {useAuth} from \"../../../context/authContext\";\n\nconst styles = (theme: Theme) => ({\n    videoPlayer: {\n        backgroundColor: 'black',\n    },\n    rhc: {\n        padding: '0',\n        [theme.breakpoints.up('md')]: {\n            padding: '0 0 0 16px',\n        },\n        width: '100%',\n    },\n});\n\nfunction EpisodeDetailController(props: any) {\n    const {player, seriesArchive} = useSelector((state: any) => ({\n        player: state.player,\n        seriesArchive: state.selectedTVSeriesArchive\n    }));\n\n    const dispatch = useDispatch();\n    const auth = useAuth();\n    const {classes, ...rest} = props;\n\n    //this happens when somebody loads url directly not coming from programs list view\n    useEffect(() => {\n        if (!seriesArchive) {\n            props.programService.findOne(props.match.params.slug).then((newArchive: Array<any>) => {\n                dispatch(ITEM_ACTIONS.selectSeriesArchive(newArchive));\n            }).catch((e: Error) => auth.logout());\n        }\n    }, [seriesArchive]);\n\n    const [videoElementHeight, setVideoElementHeight] = useState<string>('auto');\n    useEffect(() => {\n        if (player.isVideoDataLoaded) {\n            const height = player.getVideoElementHeight();\n            if (height) {\n                const videoHeight = Math.ceil(parseFloat(height.replace('px', '')));\n                setVideoElementHeight(videoHeight + 'px');\n            }\n        }\n    }, [player && player.isLoaded(), player.isVideoDataLoaded]);\n\n    if (player && seriesArchive) {\n        return (\n            <div className=\"app-wrapper\">\n                {/*<Grid container direction=\"row\" alignItems=\"flex-start\"><Box mb={1}>top row</Box></Grid>*/}\n                <Hidden mdUp>\n                    <Grid container spacing={0}\n                          direction=\"row\"\n                          justify=\"flex-start\"\n                          alignItems=\"flex-start\">\n                        <Grid container direction=\"column\" className={classes.videoPlayer}\n                              style={{height: videoElementHeight}}>\n                            <ErrorBoundary>\n                                <Player/>\n                            </ErrorBoundary>\n                        </Grid>\n                        <Grid container direction=\"column\">\n                            <Box className={classes.rhc}>\n                                <ErrorBoundary>\n                                    <Playlist {...rest}/>\n                                </ErrorBoundary>\n                            </Box>\n                        </Grid>\n                    </Grid>\n                </Hidden>\n\n                <Hidden smDown>\n                    <Grid container spacing={0}\n                          direction=\"row\"\n                          justify=\"flex-start\"\n                          alignItems=\"flex-start\">\n                        <Grid item sm={12} md={8} style={{height: videoElementHeight}}>\n                            <ErrorBoundary>\n                                <Player/>\n                            </ErrorBoundary>\n                        </Grid>\n\n                        <Grid item sm={12} md={4}>\n                            <Box className={classes.rhc}>\n                                <ErrorBoundary>\n                                    <Playlist {...rest}/>\n                                </ErrorBoundary>\n                            </Box>\n                        </Grid>\n                    </Grid>\n                </Hidden>\n            </div>);\n    } else {\n        return (<div className=\"app-wrapper\"></div>);\n    }\n}\n\nexport default withStyles(styles, {withTheme: true})(EpisodeDetailController);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {withStyles} from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardActionArea from '@material-ui/core/CardActionArea';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport {Channel} from \"../../entities/Channel\";\n\nconst styles = {\n    media: {\n        height: 380,\n    },\n};\n\nfunction TvChannel(props: {classes: any, channel: Channel, itemClick: any}) {\n    const {classes, channel, itemClick} = props;\n    const image = channel.image ? channel.image : `https://picsum.photos/380?random=${channel.name}`;\n\n    return (\n        <Card onClick={itemClick} square elevation={0}>\n                <CardActionArea>\n                    <CardMedia\n                        className={classes.media}\n                        image={image}\n                        title={channel.name}\n                    />\n                </CardActionArea>\n        </Card>\n    );\n}\n\nTvChannel.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(TvChannel);","import React, {useEffect, useState} from 'react';\nimport ChannelServiceInterface from \"../../../service/ChannelServiceInterface\";\nimport {ChannelInterface} from \"../../../entities/ChannelInterface\";\nimport Grid from '@material-ui/core/Grid';\nimport TvChannel from \"../../../components/tvChannel\";\nimport {useAuth} from \"../../../context/authContext\";\n\ninterface PropsInterface {\n    channelService: ChannelServiceInterface,\n    match: any,\n    history: any,\n}\n\nfunction ChannelsController(props: PropsInterface) {\n    const auth = useAuth();\n    const [channels, setChannels] = useState<any>([]);\n\n    useEffect(() => {\n        if (!channels.length) {\n            props.channelService.findAll().then((channels: Array<ChannelInterface>) => {\n                channels.sort((a: ChannelInterface, b: ChannelInterface) => {\n                    if (a.id < b.id) {\n                        return -1;\n                    }\n                    if (a.id > b.id) {\n                        return 1;\n                    }\n                    return 0;\n                });\n                setChannels(channels);\n            }).catch((e: Error) => auth.logout());\n        }\n    }, [channels]);\n\n    const {history} = props;\n\n    return (\n        <div className=\"app-wrapper\">\n            {channels.length ?\n            (\n                <Grid container spacing={2}>\n                    {channels.map((channel: any) => (\n                        <Grid key={channel.id} item xs={12} sm={6} md={4}>\n                            <TvChannel itemClick={() => history.push(`/${channel.id}/`)}\n                                       channel={channel}/>\n                        </Grid>\n                    ))}\n                </Grid>\n            ) : ''}\n        </div>\n    );\n}\n\nexport default ChannelsController;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {withStyles, createStyles} from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardActionArea from '@material-ui/core/CardActionArea';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport Typography from '@material-ui/core/Typography';\nimport {useDispatch} from 'react-redux';\nimport * as ACTIONS from \"../../actions/archiveItem\";\nimport ProgramServiceInterface from \"../../service/ProgramServiceInterface\";\nimport ResponsiveLazyLoad from \"../responsiveLazyLoad\";\n\nconst mediaHeight = 240;\nconst styles = createStyles({\n    media: {\n        height: mediaHeight,\n    },\n});\n\nfunction ArchiveItem(props: {history: any, match: any, programService: ProgramServiceInterface, classes: any, archiveItem: {slug: string, img: string, title: string}, itemClick?: any}) {\n    const {classes, archiveItem, itemClick} = props;\n\n    const defaultClickHandler = () => {\n        props.programService.findOne(archiveItem.slug).then((programArchive: any) => {\n            dispatch(ACTIONS.selectSeriesArchive(programArchive));\n            props.history.push(`/${props.match.params.channelId}/${archiveItem.slug}`);\n        });\n\n    };\n\n    const onClickHandler = itemClick ? itemClick : defaultClickHandler;\n\n    const dispatch = useDispatch();\n\n    return (\n        <Card onClick={onClickHandler} square elevation={0}>\n                <CardActionArea>\n                    {/*<ResponsiveLazyLoad*/}\n                    {/*    debounce={false}*/}\n                    {/*    offsetVertical={600}*/}\n                    {/*    throttle={250}*/}\n                    {/*    height={mediaHeight}*/}\n                    {/*>*/}\n                        <CardMedia\n                            className={classes.media}\n                            image={archiveItem.img.replace(/[r]?[0-9]+x[0-9]+[n]?/, 'r400x300')}\n                            title={archiveItem.title}\n                        />\n                    {/*</ResponsiveLazyLoad>*/}\n                    <CardContent>\n                        <Typography gutterBottom variant=\"h5\" component=\"h2\">\n                            {archiveItem.title}\n                        </Typography>\n                    </CardContent>\n                </CardActionArea>\n        </Card>\n    );\n}\n\nArchiveItem.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(ArchiveItem);","import React from 'react'\nimport requestAnimationFrame from 'raf';\n\nexport const memoryStore = {\n    _data: new Map(),\n    get(key: any) {\n        if (!key) {\n            return null\n        }\n\n        return this._data.get(key) || null\n    },\n    set(key: any, data: any) {\n        if (!key) {\n            return\n        }\n        return this._data.set(key, data)\n    }\n};\n\ntype ScrollPosition = {x: number, y: number};\n\n/**\n * Component that will save and restore Window scroll position.\n */\nexport default class ScrollPositionManager extends React.Component<any, any> {\n    private readonly _target: any;\n\n    static defaultProps = {\n        scrollStore: memoryStore\n    };\n\n    constructor(props: any) {\n        super(props);\n        this._target = window\n    }\n\n    restoreScrollPosition(pos?: any): void {\n        pos = pos || this.props.scrollStore.get(this.props.scrollKey);\n        if (this._target && pos) {\n            requestAnimationFrame(() => {\n                this.scroll(this._target, pos)\n            })\n        }\n    }\n\n    saveScrollPosition(key?: any): void {\n        if (this._target) {\n            const pos = this.getScrollPosition(this._target);\n            key = key || this.props.scrollKey;\n            this.props.scrollStore.set(key, pos);\n        }\n    }\n\n    componentDidMount(): void {\n        this.restoreScrollPosition();\n    }\n\n    componentWillReceiveProps(nextProps: any): void {\n        if (this.props.scrollKey !== nextProps.scrollKey) {\n            this.saveScrollPosition();\n        }\n    }\n\n    componentDidUpdate(prevProps: any): void {\n        if (this.props.scrollKey !== prevProps.scrollKey) {\n            this.restoreScrollPosition()\n        }\n    }\n\n    componentWillUnmount(): void {\n        this.saveScrollPosition()\n    }\n\n    render() {\n        const {children = null} = this.props;\n        return (children);\n    }\n\n    private scroll(target: Element, pos: ScrollPosition): void {\n        target.scrollTo(pos.x, pos.y);\n    }\n\n    private getScrollPosition(target: { scrollX: number, scrollY: number }): ScrollPosition {\n        return {x: target.scrollX, y: target.scrollY}\n    }\n}","import React, {useEffect} from 'react';\nimport {List, ListRowProps, AutoSizer, CellMeasurer, CellMeasurerCache} from 'react-virtualized';\nimport {useTheme} from '@material-ui/core/styles';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport Grid from '@material-ui/core/Grid';\nimport {GridSpacing} from '@material-ui/core/Grid';\nimport Box from '@material-ui/core/Box';\nimport ArchiveItem from \"../../../components/archiveItem\";\nimport ScrollManager from \"../../../components/scrollManager\";\nimport {useSelector, useDispatch} from 'react-redux';\nimport * as ITEM_ACTIONS from \"../../../actions/archiveItem\";\nimport {useAuth} from \"../../../context/authContext\";\n\nfunction ProgramController(props: any) {\n    const dispatch = useDispatch();\n    const auth = useAuth();\n    const {archives} = useSelector((state: any) => ({\n        archives: state.channelArchives\n    }));\n\n    const archive = archives[props.match.params.channelId];\n\n    useEffect(() => {\n        if (!archive || !archive.length) {\n            props.programService.findAll(props.match.params.channelId).then((archive: Array<any>) => {\n                dispatch(ITEM_ACTIONS.selectTVChannelArchive(props.match.params.channelId, archive));\n            }).catch((e: Error) => {\n                auth.logout();\n            });\n        }\n    }, [archive]);\n\n    const theme = useTheme();\n    let spacing = 0;\n    const isBetween = useMediaQuery(theme.breakpoints.between('sm', 'md'));\n    const isMdUp = useMediaQuery(theme.breakpoints.up('md'));\n    if (isBetween) {\n        spacing = 1;\n    } else if (isMdUp) {\n        spacing = 2;\n    }\n\n    const {classes, ...rest} = props;\n\n    function Row(props: ListRowProps) {\n        const {index, key, style, parent} = props;\n        const archiveItem = archive[index];\n        return (\n            <CellMeasurer\n                key={key}\n                cache={cellMeasurerCache}\n                parent={parent}\n                columnIndex={0}\n                rowIndex={index}>\n                <div style={style}>\n                    <ArchiveItem\n                        {...rest}\n                        key={archiveItem.title}\n                        archiveItem={archiveItem}\n                    />\n                </div>\n            </CellMeasurer>\n        );\n    }\n\n    const cellMeasurerCache = new CellMeasurerCache({\n        fixedWidth: true,\n        defaultHeight: 300\n    });\n\n    return (\n        <Box height=\"100%\">\n            <ScrollManager scrollKey=\"program-list\"/>\n            {archive ?\n                (\n                    isMdUp ? (\n                        <Grid container spacing={spacing as GridSpacing}>\n                            {archive.map(\n                                (archiveItem: any) => <Grid key={archiveItem.title} item xs={12} sm={6} md={4}>\n                                    <ArchiveItem\n                                        {...rest}\n                                        programService={props.programService}\n                                        key={archiveItem.title}\n                                        archiveItem={archiveItem}\n                                    />\n                                </Grid>)}\n\n                        </Grid>\n                    ) : (\n                        <AutoSizer>\n                            {({height, width}) => (\n                                <List\n                                    width={width}\n                                    height={height}\n                                    deferredMeasurementCache={cellMeasurerCache}\n                                    rowHeight={cellMeasurerCache.rowHeight}\n                                    rowRenderer={Row}\n                                    rowCount={archive.length}\n                                    overscanRowCount={5}/>\n                            )}\n                        </AutoSizer>\n                    )\n                ) : ''}\n        </Box>\n    );\n}\n\nexport default ProgramController;","import React, {useState} from 'react';\nimport {Transition} from 'react-transition-group';\n\nconst duration = 1000;\n\nconst defaultStyle = {\n    transition: `opacity ${duration}ms ease-in-out`,\n    opacity: 0,\n};\n\nconst transitionStyles: {\n    [key: string]: any\n} = {\n    entering: {opacity: 1},\n    entered: {opacity: 0},\n    exiting: {opacity: 1},\n    exited: {opacity: 0},\n};\n\nfunction Index(props: any) {\n    const [inProp, setInProp] = useState(false);\n    const [run, setRun] = useState(false);\n\n    const toggleInOut = () => {\n        if (inProp) {\n            setInProp(false);\n        } else {\n            setInProp(true);\n        }\n    };\n\n    return (\n        <div>\n            {run ? (\n                <Transition in={inProp} timeout={duration}>\n                    {state => {\n                        if (inProp) {\n                            return (<div style={{\n                                ...defaultStyle,\n                                ...transitionStyles[state]\n                            }}>\n                                Transition in\n                            </div>);\n                        }\n\n                        return (\n                            <div style={{\n                                ...defaultStyle,\n                                ...transitionStyles[state]\n                            }}>\n                                Transition out\n                            </div>\n                        );\n                    }}\n                </Transition>\n            ) : (<div>transition is disabled</div>)}\n\n            <button onClick={() => toggleInOut()}>\n                In\n            </button>\n            <button onClick={() => toggleInOut()}>\n                Out\n            </button>\n\n            <button onClick={() => setRun(true)}>\n                Enable\n            </button>\n            <button onClick={() => setRun(false)}>\n                Disable\n            </button>\n            {run ? 'Enabled': 'Disabled'}\n        </div>\n    );\n};\n\nexport default Index;","import React, {useEffect, useState} from 'react';\nimport {makeStyles} from '@material-ui/core/styles';\nimport Slider from '../../../../components/slider/Slider';\nimport {formatLength} from '../../../../helpers/functions';\n\nconst progressBarStyles = makeStyles({\n    root: {\n        color: 'rgb(255,0,0)',\n        height: '5px',\n        padding: '28px 0 0 0',\n        display: 'block',\n    },\n    thumb: (props: any) => ({\n        transition: 'transform .1s cubic-bezier(0.4,0.0,1,1)',\n        marginTop: props.hover ? '-3.5px' : '-4.5px',\n        transform: props.hover ? 'none' : 'scale(0)',\n        '&$focusVisible,&:hover': {\n            boxShadow: 'none',\n        },\n        '&$active': {\n            boxShadow: 'none',\n        }\n    }),\n    active: (props: any) => ({\n        boxShadow: 'none',\n    }),\n    focusVisible: (props: any) => ({\n        boxShadow: 'none',\n    }),\n    track: (props: any) => ({\n        height: '5px',\n        transform: props.hover ? '' : 'scaleY(0.6)',\n        transition: 'transform .1s cubic-bezier(0.4,0.0,1,1)',\n    }),\n    rail: (props: any) => ({\n        color: 'rgba(255,255,255,.2)',\n        transition: 'transform .1s cubic-bezier(0.4,0.0,1,1)',\n        opacity: 1,\n        height: '5px',\n        transform: props.hover ? '' : 'scaleY(0.6)',\n    }),\n    railHover: (props: any) => ({\n        backgroundColor: props.hover ? 'rgba(255, 255, 255, 0.5)' : 'transparent',\n        height: '5px',\n        transform: props.hover ? '' : 'scaleY(0.6)',\n        transition: 'opacity .25s cubic-bezier(0.0,0.0,0.2,1)',\n    }),\n    railHoverTooltip: {\n        left: '0px',\n        transformOrigin: '0',\n        bottom: '20px',\n        color: 'white',\n        borderRadius: '2px',\n        letterSpacing: '.5px',\n        fontSize: '12px',\n        fontWeight: 'bold',\n        lineHeight: '12px',\n    },\n    railHoverTooltipInner: {\n        padding: '5px 9px',\n        backgroundColor: 'rgba(28,28,28,0.9)',\n        borderRadius: '2px',\n        fontSize: '118%',\n        fontWeight: 'bold',\n        lineHeight: '15px',\n    }\n});\n\nfunction StyledSlider(props: any) {\n    const {hover, ...rest} = props;\n    const classes = progressBarStyles(props);\n\n    return <Slider\n        classes={classes} {...rest} />\n}\n\nfunction Index(props: any) {\n    const [isVideoProgressMouseOver, setIsVideoProgressMouseOver] = React.useState<boolean>(false);\n    const progressBarMouseOut = () => {\n        setIsVideoProgressMouseOver(false);\n    };\n    const progressBarMouseOver = () => {\n        setIsVideoProgressMouseOver(true);\n    };\n\n    const valueChange = (event: any, newValue: any) => {\n        setValue(newValue);\n    };\n\n    const currentTime = 0;\n    const duration = 600;\n    const [value, setValue] = React.useState<number>((currentTime / duration) * 100);\n    const format = (value: number, index : number): string => {\n        return formatLength(duration * value / 100, index);\n    };\n\n    return (\n        <StyledSlider\n            railHoverLabel={true}\n            railHoverLabelFormat={(value: any, index: number) => format(value, index)}\n            hover={isVideoProgressMouseOver}\n            onMouseOver={() => progressBarMouseOver()}\n            onMouseOut={() => progressBarMouseOut()}\n            value={value}\n            onChange={valueChange}\n        />\n    );\n};\n\nexport default Index;","const CONSTANTS = {\n    PLAYER: Symbol.for(\"Player\"),\n    BASENAME: Symbol.for(\"Basename\"),\n    CHANNELS: Symbol.for(\"Channels\"),\n    PROGRAMS: Symbol.for(\"Programs\"),\n    AUTH: Symbol.for(\"Auth\"),\n};\n\nexport default CONSTANTS;\n","import React, {useState} from 'react';\n\nexport default class GoogleCastButton extends React.Component<{}> {\n\n    private _ref: React.RefObject<HTMLElement>;\n\n    constructor(props: any) {\n        super(props);\n        this._ref = React.createRef();\n    }\n\n    componentWillUnmount() {\n        this._ref.current!.remove();\n        // this._ref.current!.dispose() // <-- error throws here\n    }\n\n    render() {\n        const props = {\n            ref: this._ref,\n            style: {\n                'width': '1em',\n                'height': '1em',\n                'font-size': '1.5rem',\n                'display': 'inline-block',\n                '--disconnected-color': '#FFF',\n                '--connected-color': '#FFAF3B'\n            }\n        };\n\n        return (\n            //@ts-ignore\n            <google-cast-launcher {...props} />\n        )\n    }\n}","import * as React from 'react';\nimport {Switch, Route} from 'react-router-dom';\nimport {Container} from \"inversify\";\nimport Error404 from '../app/controller/Error/Error404';\nimport AuthController from \"../app/controller/Auth\";\nimport EpisodeDetailController from \"../app/controller/EpisodeDetail\";\nimport ChannelsController from \"../app/controller/Channels\";\nimport ProgramController from \"../app/controller/Programs\";\nimport Animation from \"../app/controller/Sandbox/animation\";\nimport Slider from \"../app/controller/Sandbox/slider\";\nimport CONSTANTS from \"../app/config/constants/ioc\";\nimport ChannelServiceInterface from \"../service/ChannelServiceInterface\";\nimport ProgramServiceInterface from \"../service/ProgramServiceInterface\";\nimport {useAuth} from \"../context/authContext\";\nimport {withStyles, Theme} from '@material-ui/core/styles';\nimport LocaleInterface from \"../entities/LocaleInterface\";\nimport GoogleCastButton from \"../app/controller/Sandbox/castButton\";\n\ninterface PropsInterface {\n    classes: any,\n    container: Container,\n    locale: LocaleInterface,\n}\n\nconst styles = (theme: Theme) => ({\n    main: {\n        height: '100%',\n    }\n});\n\nfunction Main(props: PropsInterface) {\n    const channelService = props.container.get<ChannelServiceInterface>(CONSTANTS.CHANNELS);\n    const programService = props.container.get<ProgramServiceInterface>(CONSTANTS.PROGRAMS);\n    const auth = useAuth();\n    const {classes} = props;\n\n    return auth.isLoggedIn() ? (\n        <main className={classes.main}>\n            <Switch>\n                <Route exact path='/'\n                       render={(routeProps: any) => <ChannelsController\n                           channelService={channelService}\n                           locale={props.locale}\n                           {...routeProps}\n                       />}\n                />\n                <Route exact path='/sandbox/animate'\n                       render={(routeProps: any) => <Animation\n                           {...routeProps}\n                       />}\n                />\n                <Route exact path='/sandbox/slider'\n                       render={(routeProps: any) => <Slider\n                           {...routeProps}\n                       />}\n                />\n                <Route exact path='/sandbox/cast'\n                       render={(routeProps: any) => <GoogleCastButton\n                           {...routeProps}\n                       />}\n                />\n                <Route exact path='/:channelId'\n                       render={(routeProps: any) => <ProgramController\n                           programService={programService}\n                           locale={props.locale}\n                           {...routeProps}\n                       />}\n                />\n                <Route exact path='/:channelId/:slug'\n                       render={(routeProps: any) => <EpisodeDetailController\n                           channelService={channelService}\n                           programService={programService}\n                           locale={props.locale}\n                           {...routeProps}\n                       />}\n                />\n                <Route\n                    component={Error404}/>\n            </Switch>\n        </main>\n    ) : (\n        <main className={classes.main}>\n            <Switch>\n                <Route path='/'\n                       render={(props: any) => <AuthController\n                           {...props}\n                       />}\n                />\n            </Switch>\n        </main>\n    );\n}\n\nexport default withStyles(styles, {withTheme: true})(Main);\n","import * as React from 'react';\nimport {withStyles, Theme} from '@material-ui/core/styles';\nimport Main from './Main';\nimport {Container} from \"inversify\";\nimport LocaleInterface from \"../entities/LocaleInterface\";\n\ninterface PropsInterface {\n    classes: any,\n    container: Container,\n    locale: LocaleInterface,\n}\n\nconst styles = (theme: Theme) => ({\n    app: {\n        height: '100%',\n        [theme.breakpoints.up('md')]: {\n            padding: '16px'\n        },\n    }\n});\n\n\nclass Layout extends React.Component<PropsInterface, any> {\n    constructor(props: PropsInterface) {\n        super(props);\n    }\n\n    render() {\n        const { classes } = this.props;\n\n        return (<div className={classes.app}>\n            <Main container={this.props.container} {...this.props}/>\n        </div>);\n    }\n}\n\nexport default withStyles(styles, {withTheme: true})(Layout);\n","import * as React from 'react';\nimport {HashRouter} from 'react-router-dom';\nimport {MuiThemeProvider, Theme} from '@material-ui/core/styles';\nimport Layout from './Layout';\nimport {Container} from \"inversify\";\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport {AuthProvider} from \"../context/authContext\";\nimport AuthInterface from \"../service/auth/AuthInterface\";\nimport CONSTANTS from \"../app/config/constants/ioc\";\nimport LocaleInterface from \"../entities/LocaleInterface\";\nimport {useSelector} from 'react-redux';\n\ninterface PropsInterface {\n    container: Container,\n    locale: LocaleInterface,\n}\n\nfunction App(props: PropsInterface) {\n    const {container, ...rest} = props;\n    const authService = props.container.get<AuthInterface>(CONSTANTS.AUTH);\n\n    const {theme} = useSelector((state: {theme: Theme}) => ({\n        theme: state.theme,\n    }));\n\n    return (\n        <HashRouter>\n            <MuiThemeProvider theme={theme}>\n                <CssBaseline>\n                    <AuthProvider authService={authService}>\n                        <Layout container={props.container} {...rest} />\n                    </AuthProvider>\n                </CssBaseline>\n            </MuiThemeProvider>\n        </HashRouter>\n    );\n}\n\nexport default App;\n","import { injectable } from \"inversify\";\n\nimport {ChannelInterface} from \"./ChannelInterface\";\n\n@injectable()\nexport class Channel implements ChannelInterface {\n    public id: string;\n    public datafile: string;\n    public name?: string;\n    public image?: string;\n\n    public constructor(id: string, datafile: string, name: string = '', image: string = '') {\n        this.id = id;\n        this.datafile = datafile;\n        this.name = name;\n        this.image = image;\n    }\n}\n","import {injectable} from \"inversify\";\nimport * as crypto from \"crypto-js\";\nimport {ChannelInterface} from \"../entities/ChannelInterface\";\nimport {Channel} from \"../entities/Channel\";\nimport ChannelServiceInterface from \"./ChannelServiceInterface\";\n\ninterface ChannelJson {\n    datafile: string;\n    image: string;\n}\n\ninterface AllChannelsJson {\n    [key: string]: ChannelJson\n}\n\n@injectable()\nclass ChannelService implements ChannelServiceInterface {\n    private readonly channels: Array<ChannelInterface> = [];\n\n    constructor(private readonly basename: string, private readonly password: string) {\n    }\n\n    findAll(): Promise<Array<ChannelInterface>> {\n        const channelsUrl = this.basename ? `${this.basename}/data/channels.json` : '/data/channels.json';\n\n        return fetch(channelsUrl).then((r: Response) => r.text())\n            .then((encrypted: string) => this.decrypt(encrypted))\n            .then((jsonString: string) => JSON.parse(jsonString))\n            .then((channels: AllChannelsJson) => {\n                Object.keys(channels).forEach((channelId: string) => {\n                    const channelData = channels[channelId];\n                    this.channels.push(new Channel(channelId, channelData.datafile, channelId, channelData.image));\n                });\n                return this.channels;\n            });\n    }\n\n    //todo fix this\n    find(id: string): Promise<ChannelInterface> {\n        if (!this.channels.length) {\n            return this.findAll().then((channels: Array<ChannelInterface>) => {\n                const channel = channels.find((channel: ChannelInterface) => channel.id === id);\n                if (!channel) {\n                    throw new Error('Channel not found');\n                }\n                return channel;\n            });\n        } else {\n            return new Promise(resolve => resolve(this.channels.find((channel: ChannelInterface) => {\n                return channel.id === id\n            })));\n        }\n    }\n\n    private decrypt(content: string): string {\n        const bytes = crypto.AES.decrypt(content, this.password);\n        return bytes.toString(crypto.enc.Utf8);\n    }\n}\n\nexport default ChannelService;\n","import {injectable} from \"inversify\";\nimport \"reflect-metadata\";\nimport * as crypto from \"crypto-js\";\nimport ProgramServiceInterface from \"./ProgramServiceInterface\";\nimport {ChannelInterface} from \"../entities/ChannelInterface\";\nimport ChannelServiceInterface from \"./ChannelServiceInterface\";\n\n@injectable()\nclass ProgramService implements ProgramServiceInterface {\n    constructor(\n        private channelService: ChannelServiceInterface,\n        private readonly basename: string,\n        private readonly password: string) {\n    }\n\n    findAll(channelId: string): Promise<Array<{}>> {\n        return this.channelService.find(channelId).then((channel: ChannelInterface) => {\n            const url = this.basename ? `${this.basename}/data/${channel.datafile}` : `/data/${channel.datafile}`;\n            return fetch(url).then((r: any) => r.text())\n                .then((content: string) => JSON.parse(this.decrypt(content)));\n        });\n    }\n\n    findOne(slug: string): Promise<Array<any>> {\n        const url = this.basename ? `${this.basename}/data/${slug}` : `/data/${slug}`;\n        return fetch(url)\n            .then((r: Response) => r.text())\n            .then((encrypted: string) => JSON.parse(this.decrypt(encrypted)))\n            ;\n    }\n\n    private decrypt(content: string): string {\n        const bytes = crypto.AES.decrypt(content, this.password);\n        return bytes.toString(crypto.enc.Utf8);\n    }\n}\n\nexport default ProgramService;\n","import {injectable} from \"inversify\";\nimport AuthInterface from \"./AuthInterface\";\n\n@injectable()\nclass Auth implements AuthInterface {\n    constructor(public _password: string|null = null) {\n        this._password = _password;\n    }\n\n    isLoggedIn(): boolean {\n        return this._password !== '' && this._password !== null;\n    }\n\n    login(password: string): void {\n        this._password = password;\n    }\n\n    logout(): void {\n        this._password = null;\n    }\n\n    get password(): string {\n        return String(this._password);\n    }\n}\n\nexport default Auth;\n","class AdapterException extends Error {\n    static noVideoElement(): AdapterException {\n        return new this('No video element set');\n    };\n\n    static emptyVideoSource(): AdapterException {\n        return new this('No video source set');\n    }\n\n    static volumeOutOfRange(volume: number, min: number, max: number): AdapterException {\n        return new this(`Volume ${volume} is out of range <${min}-${max}>`);\n    }\n}\n\nexport default AdapterException;\n","import HtmlAdapterInterface from \"./HtmlAdapterInterface\";\nimport AdapterException from \"./AdapterException\";\n\nclass DomAdapter implements HtmlAdapterInterface {\n    private readonly htmlVideoElement: HTMLVideoElement;\n\n    private documentListeners: Array<any> = [];\n    private htmlElementListeners: Array<any> = [];\n\n    constructor(private _window: Window = window, ref: HTMLVideoElement) {\n        this._window = window;\n        this.htmlVideoElement = ref;\n    }\n\n    getVideoElementHeight(): string {\n        return String(this._window.getComputedStyle(this.htmlVideoElement).height);\n    }\n\n    getVideoElementWidth(): string {\n        return String(this._window.getComputedStyle(this.htmlVideoElement).width);\n    }\n\n    hasVideoElement(): boolean {\n        return this.htmlVideoElement !== undefined;\n    }\n\n    play(src?: string): Promise<any> {\n        if (src) {\n            this.setVideoSource(src);\n            return this.htmlVideoElement.play();\n        } else if (this.htmlVideoElement.src) {\n            return this.htmlVideoElement.play();\n        } else {\n            throw AdapterException.emptyVideoSource();\n        }\n    }\n\n    setPosterSource(src: string): void {\n        this.htmlVideoElement.poster = src;\n    }\n\n    setVideoSource(src: string): void {\n        this.htmlVideoElement.src = src;\n    }\n\n    pause(): void {\n        this.htmlVideoElement.pause();\n    }\n\n    resume(): void {\n        this.htmlVideoElement.play();\n    }\n\n    isPlaying(): boolean {\n        return !this.htmlVideoElement.paused;\n    }\n\n    currentStream(): string {\n        return this.htmlVideoElement.src;\n    }\n\n    addListener(type: string, listener: EventListenerOrEventListenerObject): void {\n        this.htmlVideoElement.addEventListener(type, listener);\n        this.htmlElementListeners.push({type: type, listener: listener});\n    }\n\n    removeListener(type: string, listener: EventListenerOrEventListenerObject): void {\n        this.htmlVideoElement.removeEventListener(type, listener);\n    }\n\n    addKeyDownListener(listener: EventListenerOrEventListenerObject): void {\n        this._window.document.addEventListener('keydown', listener);\n        this.documentListeners.push(listener);\n    }\n\n    removeKeyDownListener(listener: EventListenerOrEventListenerObject): void {\n        this._window.document.removeEventListener('keydown', listener);\n    }\n\n    unmount(): void {\n        this.documentListeners.forEach((listener: EventListenerOrEventListenerObject) => this._window.document.removeEventListener('keydown', listener));\n        this.htmlElementListeners.forEach((listener: {type: string, listener:EventListenerOrEventListenerObject }) => this.htmlVideoElement.removeEventListener(listener.type, listener.listener));\n    }\n\n    getCurrentVideoTime(): number {\n        return this.htmlVideoElement.currentTime;\n    }\n\n    setCurrentVideoTime(numberOfSeconds: number): void {\n        if (!this.htmlVideoElement.src) {\n            throw AdapterException.emptyVideoSource();\n        }\n\n        this.htmlVideoElement.currentTime = numberOfSeconds;\n    }\n\n    getVideoDuration(): number {\n        return this.htmlVideoElement.duration;\n    }\n\n    getVideoVolume(): number {\n        return this.muted ? 0 : this.htmlVideoElement.volume;\n    }\n\n    setVideoVolume(volume: number): void {\n        if (volume < 0 || volume > 1) {\n            throw AdapterException.volumeOutOfRange(volume, 0, 1);\n        }\n\n        if (volume === 0) {\n            this.htmlVideoElement.muted = true;\n        } else {\n            if (this.htmlVideoElement.muted) {\n                this.htmlVideoElement.muted = false;\n            }\n        }\n        this.htmlVideoElement.volume = volume;\n    }\n\n    get muted(): boolean {\n        return this.htmlVideoElement.muted;\n    }\n\n    set muted(value: boolean) {\n        this.htmlVideoElement.muted = value;\n    }\n\n    isFullScreenAvailable(): boolean {\n        return typeof this.htmlVideoElement.requestFullscreen === 'function';\n    }\n\n    toggleFullScreen(): Promise<void> {\n        return this._window.document.fullscreen ? this._window.document.exitFullscreen() : this.htmlVideoElement.requestFullscreen();\n    }\n\n    requestFullScreen(): Promise<void> {\n        return this.htmlVideoElement.requestFullscreen();\n    }\n}\n\nexport default DomAdapter;\n","import {injectable} from \"inversify\";\nimport PlaylistInterface from \"./PlaylistInterface\";\nimport AdapterInterface from \"./adapter/AdapterInterface\";\nimport Playlist from \"./Playlist\";\nimport PlayableItem from \"./PlayableItem\";\nimport DomAdapter from \"./adapter/DomAdapter\";\nimport CastSenderAdapter from \"./adapter/CastSenderAdapter\";\nimport CastablePlayerInterface from \"./CastablePlayerInterface\";\nimport HtmlPlayerInterface from \"./HtmlPlayerInterface\";\nimport HtmlAdapterInterface from \"./adapter/HtmlAdapterInterface\";\nimport CastSenderAdapterInterface from \"./adapter/CastSenderAdapterInterface\";\n\n@injectable()\nclass Player implements HtmlPlayerInterface, CastablePlayerInterface {\n    private _autoplay: boolean = true;\n    private shuffleEnabled: boolean = false;\n    private loopEnabled: boolean = false;\n    private _isVideoDataLoaded: boolean = false;\n    private _isHighQualitySelected: boolean = false;\n    private currentTime: number = 0;\n    public isCasting: boolean = false;\n\n    private callbacks: any;\n\n    private _adapter: HtmlAdapterInterface|undefined;\n    private castSenderAdapter: CastSenderAdapterInterface|undefined;\n\n    constructor(\n        private playlist: PlaylistInterface = new Playlist([]),\n    ) {\n        this.playlist = playlist;\n    }\n\n    initializeHtmlPlayer(adapter: DomAdapter, callbacks?: any): void {\n        if (this._adapter !== undefined) {\n            this._adapter.unmount();\n        }\n\n        this._adapter = adapter;\n        this.callbacks = callbacks;\n        if (callbacks && callbacks.ended) {\n            this.adapter().addListener('ended', () => {\n                this._autoplay && callbacks.ended();\n            });\n        } else {\n            this.adapter().addListener('ended', () => this._autoplay && this.next());\n        }\n\n        this.adapter().addListener('loadeddata', (event: any) => {\n            this._isVideoDataLoaded = true;\n            if (!this.current().duration) {\n                this.current().duration = Math.ceil(this.adapter().getVideoDuration());\n            }\n            if (this._autoplay) {\n                this.adapter().resume();\n            }\n            callbacks.loadeddata && callbacks.loadeddata();\n        });\n\n        this.adapter().addListener('timeupdate', (a: any) => {\n            this.currentTime = this.adapter().getCurrentVideoTime();\n            callbacks.timeupdate && callbacks.timeupdate();\n        });\n\n        this._adapter.addKeyDownListener((e: KeyboardEvent) => this.handleKeyDown(e));\n    }\n\n    initializeCastPlayer(adapter: CastSenderAdapter): void {\n        if (this.castSenderAdapter !== undefined) {\n            this.castSenderAdapter.unmount();\n        }\n        this.castSenderAdapter = adapter;\n        this.castSenderAdapter.addListener(\n            adapter.cast.framework.RemotePlayerEventType.IS_CONNECTED_CHANGED,\n            (e: any) => this.switchAdapter(e)\n        );\n\n        const handleMediaInfoChange = (e: any) => {\n            if (e.value) {\n                const streamUrl = e.value.contentId;\n                if (streamUrl) {\n                    if (!this.current().duration) {\n                        this.current().duration = Math.ceil(this.castSenderAdapter!.getVideoDuration());\n                    }\n                    if (this.playlist.current().image) {\n                        this._adapter!.setPosterSource(this.playlist.current().image.replace(/[r]?[0-9]+x[0-9]+[n]?/, 'r800x'));\n                    }\n                    this.playlist.moveIndexTo(streamUrl);\n                    if (this.callbacks && this.callbacks.loadeddata) {\n                        this.callbacks.loadeddata();\n                    }\n                }\n            }\n        };\n\n        const handleCurrentTimeChange = (e: any) => {\n            this.currentTime = e.value;\n            this.callbacks.timeupdate && this.callbacks.timeupdate();\n        };\n\n        this.castSenderAdapter!.addListener(\n            'mediaInfoChanged',\n            handleMediaInfoChange,\n        );\n        this.castSenderAdapter!.addListener(\n            'currentTimeChanged',\n            handleCurrentTimeChange,\n        );\n    }\n\n    get canCast(): boolean {\n        return this.castSenderAdapter !== undefined;\n    }\n\n    get isVideoDataLoaded(): boolean {\n        return this._isVideoDataLoaded;\n    }\n\n    get autoplay(): boolean {\n        return this._autoplay;\n    }\n\n    set autoplay(value: boolean) {\n        this._autoplay = value;\n    }\n\n    load(playlist: PlaylistInterface): void {\n        this.playlist = playlist;\n        if (this.canCast && this.castSenderAdapter!.isConnected()) {\n            this.castSenderAdapter!.loadQueueData(this.playlist.items);\n        }\n    }\n\n    isLoaded(): boolean {\n        if (this._adapter !== undefined && this._adapter.hasVideoElement() && this.playlist && this.playlist.size() > 0) {\n            return true;\n        }\n\n        if (this.castSenderAdapter !== undefined && this.castSenderAdapter.isConnected() && this.playlist && this.playlist.size() > 0) {\n            return true;\n        }\n\n        return false;\n    }\n\n    pause(): void {\n        this.adapter().pause();\n    }\n\n    play(): Promise<any> {\n        this.currentTime = 0;\n        this._isVideoDataLoaded = false;\n\n        return this.adapter().play(this.selectStream(this.playlist.current()));\n    }\n\n    playPlaylistItem(item: PlayableItem): void {\n        this.playlist.moveIndexTo(this.selectStream(item));\n        this.play();\n    }\n\n    resume(): void {\n        this.adapter().resume();\n    }\n\n    current(): PlayableItem {\n        return this.playlist.current();\n    };\n\n    isPlaying(): boolean {\n        return this.adapter().isPlaying();\n    }\n\n    currentStream(): string {\n        return this.adapter().currentStream();\n    }\n\n    next(): void {\n        if (this.hasNext()) {\n            this.playlist.next();\n            this.play();\n        } else {\n            if (this.loopEnabled) {\n                this.playlist.rewind();\n                this.play();\n            }\n        }\n    }\n\n    previous(): void {\n        this.playlist.previous();\n        this.play();\n    }\n\n    hasPrevious(): boolean {\n        try {\n            return this.playlist.previousItem() !== undefined;\n        } catch (e) {\n            return false;\n        }\n    }\n\n    hasNext(): boolean {\n        try {\n            return this.playlist.nextItem() !== undefined;\n        } catch (e) {\n            return false;\n        }\n    }\n\n    getPlaylistSortOrder(): string {\n        return this.playlist.sortOrder;\n    }\n\n    reversePlaylistSort(): void {\n        this.playlist.reverse();\n    }\n\n    sortPlaylistAsc(): void {\n        this.playlist.sortAsc();\n    }\n\n    sortPlaylistDesc(): void {\n        this.playlist.sortDesc();\n    }\n\n    get currentlyPlayingItemOrder(): number {\n        return this.playlist.currentIndex + 1;\n    }\n\n    get playlistItemsCount(): number {\n        return this.playlist.size();\n    }\n\n    willPlayNext(): PlayableItem | null {\n        try {\n            return this.playlist.nextItem();\n        } catch (e) {\n            return null;\n        }\n    }\n\n    willPlayAfterNext(): Array<PlayableItem> {\n        return this.playlist.rest();\n    }\n\n    get playlistItems(): Array<PlayableItem> {\n        return this.playlist.items;\n    }\n\n    disableShuffle(): void {\n        this.shuffleEnabled = false;\n    }\n\n    enableShuffle(): void {\n        this.shuffleEnabled = true;\n    }\n\n    isShuffleEnabled(): boolean {\n        return this.shuffleEnabled;\n    }\n\n    disableLoop(): void {\n        this.loopEnabled = false;\n    }\n\n    enableLoop(): void {\n        this.loopEnabled = true;\n    }\n\n    isLoopEnabled(): boolean {\n        return this.loopEnabled;\n    }\n\n    hasHiqhQualityAvailable(): boolean {\n        return this.playlist.current().mp4.length > 1;\n    }\n\n    isHighQualitySelected(): boolean {\n        return this._isHighQualitySelected;\n    }\n\n    availableQuality(): Array<string> {\n        return this.playlist.current().mp4.map((item: string, index: number) => this.qualityLabel(item));\n    }\n\n    setHighestQuality(): void {\n        this._isHighQualitySelected = true;\n        this.reloadStream();\n    }\n\n    setLowestVideoQuality(): void {\n        this._isHighQualitySelected = false;\n        this.reloadStream();\n    }\n\n    getVideoElementHeight(): string {\n        if (this._adapter) {\n            return this._adapter.getVideoElementHeight();\n        }\n\n        return '';\n    }\n\n    getVideoElementWidth(): string {\n        if (this._adapter) {\n            return this._adapter.getVideoElementWidth();\n        }\n\n        return '';\n    }\n\n    getCurrentTime(): number {\n        return this.currentTime;\n    }\n\n    getVolume(): number {\n        return this.adapter().getVideoVolume();\n    }\n\n    setVolume(volume: number): void {\n        this.adapter().setVideoVolume(parseFloat(volume.toFixed(2)));\n    }\n\n    isMuted(): boolean {\n        return this.adapter().muted;\n    }\n\n    mute(): void {\n        this.adapter().muted = true;\n    }\n\n    unMute(): void {\n        this.adapter().muted = false;\n        //if unmuted and is still 0 set to 20%\n        if (this.getVolume() === 0) {\n            this.setVolume(0.2);\n        }\n    }\n\n    volumeUp(): void {\n        let newVolume = this.getVolume() + 0.05;\n        if (newVolume > 1) {\n            newVolume = 1;\n        }\n        this.setVolume(newVolume);\n    }\n\n    volumeDown(): void {\n        let newVolume = this.getVolume() - 0.05;\n        if (newVolume <= 0) {\n            newVolume = 0;\n            this.adapter().muted = true;\n        }\n        this.setVolume(newVolume);\n\n    }\n\n    fastForward(seconds: number): void {\n        let newTime = this.currentTime + seconds;\n        if (newTime > this.current().duration) {\n            newTime =  this.current().duration;\n        }\n        this.adapter().setCurrentVideoTime(newTime);\n    }\n\n    rewind(seconds: number): void {\n        let newTime = this.currentTime - seconds;\n        if (newTime < 0) {\n            newTime =  0;\n        }\n        this.adapter().setCurrentVideoTime(newTime);\n    }\n\n    setProgress(percentage: number): void {\n        if (percentage < 0 || percentage > 100) {\n            throw new Error(`Progress ${percentage} is out of range 0 - 100`);\n        }\n\n        const time = this.current().duration * (percentage/100);\n        this.adapter().setCurrentVideoTime(time);\n    }\n\n    isFullScreenAvailable(): boolean {\n        const adapter = this.adapter();\n        if (adapter instanceof DomAdapter) {\n            return adapter.isFullScreenAvailable();\n        }\n\n        return false;\n    }\n\n    requestFullScreen(): Promise<void>|void {\n        const adapter = this.adapter();\n        if (adapter instanceof DomAdapter) {\n            return adapter.requestFullScreen();\n        }\n    }\n\n    toggleFullScreen(): Promise<void>|void {\n        const adapter = this.adapter();\n        if (adapter instanceof DomAdapter) {\n            return adapter.toggleFullScreen();\n        }\n    }\n\n    private adapter(): AdapterInterface {\n        if (this._adapter === undefined && this.castSenderAdapter === undefined) {\n            throw new Error('No adapter')\n        }\n\n        if (this.castSenderAdapter && this.castSenderAdapter.isConnected()) {\n            return this.castSenderAdapter;\n        } else {\n            return this._adapter!;\n        }\n    }\n\n    private selectStream(item: PlayableItem): string {\n        if (this._isHighQualitySelected) {\n            return item.mp4[item.mp4.length -1];\n        }\n        return item.mp4[0];\n    }\n\n    private reloadStream() {\n        if (this.isCasting) {\n            this.castSenderAdapter!.loadQueueData(this.getCastQueueData());\n            const time = this.currentTime;\n            this.play().then(() => {\n                if (time) {\n                    this.castSenderAdapter!.setCurrentVideoTime(time)\n                }\n            });\n        } else {\n            this.adapter().setVideoSource(this.selectStream(this.playlist.current()));\n            this.adapter().setCurrentVideoTime(this.currentTime);\n        }\n    }\n\n    private switchAdapter(e: any): void {\n        const castRequested = e.value;\n\n        if (castRequested && this.canCast && this.castSenderAdapter!.isConnected()) {\n            this.isCasting = true;\n            this.castSenderAdapter!.loadQueueData(this.getCastQueueData());\n\n            let time = 0;\n            let volume = 1;\n            if (this._adapter !== undefined) {\n                this._adapter.pause();\n                if (this.playlist.current().image) {\n                    this._adapter.setPosterSource(this.playlist.current().image.replace(/[r]?[0-9]+x[0-9]+[n]?/, 'r800x'));\n                }\n                time = this._adapter.getCurrentVideoTime();\n                volume = this._adapter.getVideoVolume();\n                this._adapter.setVideoSource('');\n            }\n            this.play().then(() => {\n                if (time) {\n                    this.castSenderAdapter!.setCurrentVideoTime(time)\n                }\n                if (volume === 1) {\n                    volume = 0.99;//to prevent popup showing about max volume when just connected\n                }\n                this.castSenderAdapter!.setVideoVolume(volume);\n            });\n        } else {\n            if (this.isCasting) {\n                this.isCasting = false;\n                this.castSenderAdapter!.pause();\n                if (this._adapter !== undefined) {\n                    setTimeout(() => {\n                        this._adapter!.setVideoSource(this.selectStream(this.playlist.current()));\n                        this._adapter!.setCurrentVideoTime(this.castSenderAdapter!.getCurrentVideoTime());\n                        this._adapter!.setVideoVolume(this.castSenderAdapter!.getVideoVolume());\n                        this._adapter!.resume();\n                    }, 500);\n                }\n            }\n        }\n    }\n\n    private handleKeyDown(e: KeyboardEvent): void {\n        if (e.code === 'Space' || e.code === 'KeyK') {\n            e.preventDefault();\n            if (this.callbacks.togglePlay) {\n                this.callbacks.togglePlay && this.callbacks.togglePlay();\n            } else {\n                this.isPlaying() ? this.pause() : this.resume();\n            }\n        }\n\n        if (e.code === 'KeyM') {\n            e.preventDefault();\n            if (this.callbacks.toggleMute) {\n                this.callbacks.toggleMute && this.callbacks.toggleMute();\n            } else {\n                this.isMuted() ? this.unMute() : this.mute();\n            }\n        }\n\n        if (e.code === 'KeyN') {\n            e.preventDefault();\n            if (this.callbacks.playNext) {\n                this.callbacks.playNext && this.callbacks.playNext();\n            } else {\n                this.next();\n            }\n        }\n\n        if (e.code === 'ArrowLeft') {\n            e.preventDefault();\n            if (this.callbacks.rewind) {\n                this.callbacks.rewind && this.callbacks.rewind();\n            } else {\n                this.rewind(5);\n            }\n        }\n\n        if (e.code === 'ArrowRight') {\n            e.preventDefault();\n            if (this.callbacks.fastForward) {\n                this.callbacks.fastForward && this.callbacks.fastForward();\n            } else {\n                this.fastForward(5);\n            }\n        }\n\n        if (e.code === 'ArrowUp') {\n            e.preventDefault();\n            if (this.callbacks.volumeUp) {\n                this.callbacks.volumeUp && this.callbacks.volumeUp();\n            } else {\n                this.volumeUp();\n            }\n        }\n\n        if (e.code === 'ArrowDown') {\n            e.preventDefault();\n            if (this.callbacks.volumeDown) {\n                this.callbacks.volumeDown && this.callbacks.volumeDown();\n            } else {\n                this.volumeDown();\n            }\n        }\n\n        if (e.code === 'KeyH') {\n            e.preventDefault();\n            if (this.callbacks.toggleQualityMinMax) {\n                this.callbacks.toggleQualityMinMax && this.callbacks.toggleQualityMinMax();\n            } else {\n                if (this.isHighQualitySelected()) {\n                    this.setLowestVideoQuality();\n                } else {\n                    this.setHighestQuality();\n                }\n            }\n        }\n\n        if (e.code === 'KeyF') {\n            e.preventDefault();\n            if (this.callbacks.toggleFullScreen) {\n                this.callbacks.toggleFullScreen && this.callbacks.toggleFullScreen();\n            } else {\n                this.toggleFullScreen();\n            }\n        }\n\n        if (e.code === 'KeyS') {\n            e.preventDefault();\n            if (this.callbacks.reversePlaylistSort) {\n                this.callbacks.reversePlaylistSort && this.callbacks.reversePlaylistSort();\n            } else {\n                this.reversePlaylistSort();\n            }\n        }\n    }\n\n    private getCastQueueData(): Array<PlayableItem> {\n        return this.playlist.items.map((item: PlayableItem, index: number) => {\n            const newItem = Object.assign({}, item);\n            if (this._isHighQualitySelected) {\n                newItem.mp4 = [item.mp4[item.mp4.length - 1]];\n            } else {\n                newItem.mp4 = [item.mp4[0]];\n            }\n            return newItem;\n        });\n    }\n\n    private qualityLabel(url: string): string  {\n        const r = url.match(/-([^-]+[p]?)\\.mp4/);\n        return r && r[1] !== null ? r[1] : 'undefined';\n    };\n}\n\nexport default Player;\n","import PlayableItem from \"../PlayableItem\";\nimport CastSenderAdapterInterface from \"./CastSenderAdapterInterface\";\n\nclass CastSenderAdapter implements CastSenderAdapterInterface {\n    /**\n     * Cast sender api (window.cast)\n     * <script type=\"text/javascript\" src=\"https://www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1\"></script>\n     */\n    public cast: any;\n\n    /**\n     * Chrome browser (window.chrome)\n     */\n    public chrome: any;\n\n    public remotePlayer: any;\n\n    public remotePlayerController: any;\n\n    private castQueueData: Array<any> = [];\n\n    private listeners: Array<{ type: string, listener: EventListenerOrEventListenerObject }> = [];\n\n    constructor(cast: any, chrome: any) {\n        this.cast = cast;\n        this.chrome = chrome;\n\n        const options = {} as any;\n        options.receiverApplicationId = chrome.cast.media.DEFAULT_MEDIA_RECEIVER_APP_ID;\n        options.autoJoinPolicy = chrome.cast.AutoJoinPolicy.ORIGIN_SCOPED;\n        cast.framework.CastContext.getInstance().setOptions(options);\n\n        this.remotePlayer = new cast.framework.RemotePlayer();\n        this.remotePlayerController = new cast.framework.RemotePlayerController(this.remotePlayer);\n    }\n\n    isConnected(): boolean {\n        return this.remotePlayer.isConnected;\n    }\n\n    addListener(type: string, listener: EventListenerOrEventListenerObject): void {\n        this.remotePlayerController.addEventListener(type, listener);\n        this.listeners.push({type: type, listener: listener});\n    }\n\n    removeListener(type: string, listener: EventListenerOrEventListenerObject): void {\n        this.remotePlayerController.removeEventListener(type, listener);\n    }\n\n    unmount(): void {\n        this.listeners.forEach(\n            (listener: { type: string, listener: EventListenerOrEventListenerObject }) => this.remotePlayerController.removeEventListener(listener.type, listener.listener)\n        );\n    }\n\n    get muted(): boolean {\n        return this.remotePlayer.isMuted;\n    }\n\n    set muted(value: boolean) {\n        this.remotePlayerController.muteOrUnmute();\n    }\n\n    currentStream(): string {\n        const session = cast.framework.CastContext.getInstance().getCurrentSession();\n        if (!session) {\n            return '';\n        }\n\n        let mediaStatus = session.getMediaSession();\n        if (!mediaStatus) {\n            return '';\n        }\n\n        return mediaStatus.media.contentId;\n    }\n\n    getCurrentVideoTime(): number {\n        if (this.remotePlayer.savedPlayerState) {\n            return this.remotePlayer.savedPlayerState.currentTime;\n        }\n\n        return this.remotePlayer.currentTime;\n    }\n\n    getVideoDuration(): number {\n        return this.remotePlayer.duration;\n    }\n\n    getVideoVolume(): number {\n        return this.muted ? 0 : this.remotePlayer.volumeLevel;\n    }\n\n    isPlaying(): boolean {\n        return !this.remotePlayer.isPaused;\n    }\n\n    pause(): void {\n        if (!this.remotePlayer.isPaused) {\n            this.remotePlayerController.playOrPause();\n        }\n    }\n\n    play(item?: string): Promise<any> {\n        const items = [];\n        const queueSize = 50;\n        let i = 0;\n        let add = false;\n        while (items.length < queueSize) {\n            if (this.castQueueData[i] === undefined || items.length >= 50) {\n                break;\n            }\n            if (this.castQueueData[i].mp4.indexOf(item) >= 0) {\n                add = true;\n            }\n            if (add) {\n                items.push(new this.chrome.cast.media.MediaInfo(this.castQueueData[i].mp4[0], 'video/mp4'));\n            }\n            i++;\n        }\n\n        const request = new this.chrome.cast.media.LoadRequest();\n        request.queueData = new this.chrome.cast.media.QueueData(\n            'id',\n            'name',\n            'desc',\n            'OFF',\n            items.map((mediaInfoItem: any) => {\n                const queueItem = new this.chrome.cast.media.QueueItem(mediaInfoItem);\n                queueItem.preloadTime = 20;\n                return queueItem;\n            })\n        );\n\n        return this.cast.framework.CastContext.getInstance().getCurrentSession().loadMedia(request);\n    }\n\n    resume(): void {\n        this.remotePlayerController.playOrPause();\n    }\n\n    setCurrentVideoTime(time: number): void {\n        this.remotePlayer.currentTime = time;\n        this.remotePlayerController.seek();\n    }\n\n    setVideoSource(src: string): void {\n    }\n\n    setVideoVolume(volume: number): void {\n        this.remotePlayer.volumeLevel = volume;\n        this.remotePlayerController.setVolumeLevel(volume);\n    }\n\n    loadQueueData(items: Array<PlayableItem>): void {\n        this.castQueueData = items;\n    }\n}\n\nexport default CastSenderAdapter;\n","import \"reflect-metadata\";\nimport { Container } from \"inversify\";\nimport ChannelServiceInterface from \"../../service/ChannelServiceInterface\";\nimport ChannelService from \"../../service/ChannelService\";\nimport ProgramServiceInterface from \"../../service/ProgramServiceInterface\";\nimport ProgramService from \"../../service/ProgramService\";\nimport CONSTANTS from \"./constants/ioc\";\nimport AuthInterface from \"../../service/auth/AuthInterface\";\nimport Auth from \"../../service/auth/index\";\nimport Player from \"../../service/player/Player\";\nimport CastSenderAdapter from \"../../service/player/adapter/CastSenderAdapter\";\n\nimport JavascriptTimeAgo from 'javascript-time-ago';\nimport sk from 'javascript-time-ago/locale/sk';\nimport en from 'javascript-time-ago/locale/en';\nJavascriptTimeAgo.locale(en);\nJavascriptTimeAgo.locale(sk);\n\nlet container = new Container();\ncontainer.bind<AuthInterface>(CONSTANTS.AUTH).to(Auth).inSingletonScope();\nconst auth = new Auth(process.env.REACT_APP_STREAMTV_PASSWORD)\nconst channelService = () => new ChannelService(\n    process.env.REACT_APP_BASENAME as string,\n    auth.password\n);\ncontainer.bind<ChannelServiceInterface>(CONSTANTS.CHANNELS).toDynamicValue(channelService);\ncontainer.bind<ProgramServiceInterface>(CONSTANTS.PROGRAMS).toDynamicValue( () => new ProgramService(\n    channelService(),\n    process.env.REACT_APP_BASENAME as string,\n    auth.password\n));\n\ncontainer.bind<Player>(CONSTANTS.PLAYER).to(Player).inSingletonScope();\n(window as any)['__onGCastApiAvailable'] = function (isAvailable: boolean) {\n    if (isAvailable) {\n        const cast = window.cast;\n        const chrome = (window as any).chrome;\n        if (cast !== undefined && chrome !== undefined) {\n            container.get<Player>(CONSTANTS.PLAYER).initializeCastPlayer(\n                new CastSenderAdapter(cast, chrome)\n            );\n        }\n    }\n};\n\nexport { container };\n","import {createMuiTheme} from '@material-ui/core/styles';\nimport {PaletteType} from '@material-ui/core';\n\nfunction getTheme(mode: PaletteType) {\n    return createMuiTheme({\n        palette: {\n            type: mode,\n            primary: {\n                main: mode === 'dark' ? 'rgb(62, 166, 255)' : '#065fd4',\n            },\n            background: {\n                default: mode === 'dark' ? 'rgb(18, 18, 18)' : 'default',\n            },\n            text: {\n                primary: mode === 'light' ? 'rgb(13, 13, 13)' : '#fff',\n            }\n        },\n    });\n}\n\nexport default getTheme;","import getTheme from '../containers/themes/streamTv';\nimport {createMuiTheme} from '@material-ui/core/styles';\nimport CONSTANTS from \"../app/config/constants/ioc\";\nimport {container} from \"../app/config/ioc_config\";\n\nimport {\n    PLAYER_NEXT,\n    PLAYER_PAUSE,\n    PLAYER_PLAY,\n    PLAYER_PREVIOUS,\n    PLAYER_SET_AUTOPLAY_ON_OFF,\n    PLAYER_TOGGLE_PAUSE_PLAY,\n    PLAYER_LOAD_PLAYLIST,\n    PLAYER_LOAD_PLAYLIST_AND_START_PLAYING,\n    PLAYER_SET_VIDEO_ELEMENT_AND_START_PLAYING,\n    PLAYER_PLAY_PLAYLIST_ITEM,\n    PLAYER_SORT_PLAYLIST_REVERSE_SORT,\n    PLAYER_SORT_PLAYLIST_ASC,\n    PLAYER_SORT_PLAYLIST_DESC,\n    PLAYER_SHUFFLE_ON,\n    PLAYER_SHUFFLE_OFF,\n    PLAYER_LOOP_ON,\n    PLAYER_LOOP_OFF,\n    SELECT_TVSERIES_ARCHIVE,\n    PLAYER_SET_HIGHEST_QUALITY,\n    PLAYER_SET_LOWEST_QUALITY,\n    SELECT_CHANNEL_ARCHIVE,\n    PLAYER_UPDATE_NEXT_ITEM_DURATION,\n    THEME_SELECT_MODE, THEME_TOGGLE_MODE, PLAYER_TOGGLE_PAUSE_PLAY_WITH_ANIMATION, PLAYER_TOGGLE_MUTE,\n    PLAYER_TOGGLE_MUTE_WITH_ANIMATION,\n    PLAYER_REWIND_WITH_ANIMATION,\n    PLAYER_FAST_FORWARD_WITH_ANIMATION,\n    PLAYER_VOLUME_UP_WITH_ANIMATION,\n    PLAYER_VOLUME_DOWN_WITH_ANIMATION, OPEN_PLAYLIST_MENU, CLOSE_PLAYLIST_MENU,\n} from \"../app/config/constants/action_types\";\nimport PlaylistFactory from \"../service/player/PlaylistFactory\";\nimport Player from \"../service/player/Player\";\nimport DomAdapter from \"../service/player/adapter/DomAdapter\";\n\nconst initialState = {\n    player: container.get<Player>(CONSTANTS.PLAYER),\n    selectedTVSeriesArchive: null,\n    channelArchives: {} as any,\n    theme: getTheme('dark'),\n    animatePausePlay: false,\n    animateMute: false,\n    animateFastForward: false,\n    animateRewind: false,\n    animateVolumeUp: false,\n    animateVolumeDown: false,\n    animateVolumeLabel: false,\n    menuAnchorElement: null,\n};\n\nfunction rootReducer(state = initialState, action: any) {\n    switch(action.type) {\n        case PLAYER_PLAY:\n            state.player.play();\n            return state;\n        case PLAYER_PAUSE:\n            state.player.pause();\n            return state;\n        case PLAYER_NEXT:\n            state.player.next();\n            return state;\n        case PLAYER_PREVIOUS:\n            state.player.previous();\n            return state;\n        case PLAYER_SET_AUTOPLAY_ON_OFF:\n            state.player.autoplay = action.payload;\n            return state;\n        case PLAYER_LOAD_PLAYLIST:\n            state.player.load(action.payload);\n            return state;\n        case PLAYER_SET_HIGHEST_QUALITY:\n            state.player.setHighestQuality();\n            return state;\n        case PLAYER_SET_LOWEST_QUALITY:\n            state.player.setLowestVideoQuality();\n            return state;\n        case PLAYER_PLAY_PLAYLIST_ITEM:\n            state.player.playPlaylistItem(action.payload);\n            return state;\n        case PLAYER_TOGGLE_PAUSE_PLAY:\n            if (state.player.isPlaying()) {\n                state.player.pause();\n            } else {\n                state.player.resume();\n            }\n            return state;\n        case PLAYER_TOGGLE_MUTE:\n            state.player.isMuted() ? state.player.unMute() : state.player.mute();\n            return state;\n        case PLAYER_TOGGLE_MUTE_WITH_ANIMATION:\n            state.player.isMuted() ? state.player.unMute() : state.player.mute();\n            state.animateMute = !state.animateMute;\n            state.animateVolumeLabel = !state.animateVolumeLabel;\n            return state;\n        case PLAYER_TOGGLE_PAUSE_PLAY_WITH_ANIMATION:\n            if (!state.menuAnchorElement) {\n                if (state.player.isPlaying()) {\n                    state.player.pause();\n                } else {\n                    state.player.resume();\n                }\n                state.animatePausePlay = !state.animatePausePlay;\n            }\n            return state;\n        case PLAYER_FAST_FORWARD_WITH_ANIMATION:\n            state.player.fastForward(5);\n            state.animateFastForward = !state.animateFastForward;\n            return state;\n        case PLAYER_REWIND_WITH_ANIMATION:\n            state.player.rewind(5);\n            state.animateRewind = !state.animateRewind;\n            return state;\n        case PLAYER_VOLUME_UP_WITH_ANIMATION:\n            if (!state.menuAnchorElement) {\n                state.player.volumeUp();\n                state.animateVolumeUp = !state.animateVolumeUp;\n                state.animateVolumeLabel = !state.animateVolumeLabel;\n            }\n            return state;\n        case PLAYER_VOLUME_DOWN_WITH_ANIMATION:\n            if (!state.menuAnchorElement) {\n                state.player.volumeDown();\n                state.animateVolumeDown = !state.animateVolumeDown;\n                state.animateVolumeLabel = !state.animateVolumeLabel;\n            }\n            return state;\n        case PLAYER_LOAD_PLAYLIST_AND_START_PLAYING:\n            state.player.load(action.payload);\n            if (state.player.isLoaded() && state.player.autoplay) {\n                state.player.play();\n            }\n            return state;\n        case PLAYER_SET_VIDEO_ELEMENT_AND_START_PLAYING:\n            state.player.initializeHtmlPlayer(new DomAdapter(window, action.payload), action.callbacks);\n            if (state.player.isLoaded() && state.player.autoplay) {\n                state.player.play();\n            }\n            return state;\n        case PLAYER_SORT_PLAYLIST_REVERSE_SORT:\n            state.player.reversePlaylistSort();\n            return state;\n        case PLAYER_SORT_PLAYLIST_ASC:\n            state.player.sortPlaylistAsc();\n            return state;\n        case PLAYER_SORT_PLAYLIST_DESC:\n            state.player.sortPlaylistDesc();\n            return state;\n        case PLAYER_SHUFFLE_ON:\n            state.player.enableShuffle();\n            return state;\n        case PLAYER_SHUFFLE_OFF:\n            state.player.disableShuffle();\n            return state;\n        case PLAYER_LOOP_ON:\n            state.player.enableLoop();\n            return state;\n        case PLAYER_LOOP_OFF:\n            state.player.disableLoop();\n            return state;\n        case SELECT_CHANNEL_ARCHIVE:\n            state.channelArchives[action.payload.channelId] = action.payload.archive;\n            return state;\n        case SELECT_TVSERIES_ARCHIVE:\n            state.player.load(PlaylistFactory.createPlaylistForProgramSeason(action.payload.seasons[0]));\n            state.selectedTVSeriesArchive = action.payload;\n            return state;\n        case PLAYER_UPDATE_NEXT_ITEM_DURATION:\n            const next = state.player.willPlayNext();\n            if (next) {\n                next.duration = action.payload;\n            }\n            return state;\n        case THEME_SELECT_MODE:\n            state.theme = createMuiTheme({\n                palette: {\n                    type: action.payload,\n                },\n            });\n            return state;\n        case THEME_TOGGLE_MODE:\n            state.theme = getTheme(state.theme.palette.type === 'light' ? 'dark' : 'light');\n            return state;\n        case OPEN_PLAYLIST_MENU:\n            state.menuAnchorElement = action.payload;\n            return state;\n        case CLOSE_PLAYLIST_MENU:\n            state.menuAnchorElement = null;\n            return state;\n        default:\n            return state;\n    }\n}\n\nexport default rootReducer;","import { createStore } from \"redux\";\nimport rootReducer from \"../reducers/index\";\nconst store = createStore(rootReducer);\n\nexport default store;","import LocaleInterface from \"./LocaleInterface\";\n\nexport default class Locale implements LocaleInterface {\n    constructor(\n        private readonly _lang: string,\n        private readonly _territory?: string\n    ) {\n    }\n\n    static fromString(inputString: string): Locale {\n        const bits = inputString.split('-');\n\n        if (bits.length === 1) {\n            return new Locale(inputString);\n        }\n        if (bits.length !== 2) {\n            throw new Error(`Can not determinte locale from ${inputString}`);\n        }\n\n        return new Locale(bits[0], bits[1]);\n    }\n\n    lang(): string {\n        return this._lang;\n    }\n\n    territory(): string {\n        return this._territory ? this._territory: '';\n    }\n\n    toString(): string {\n        return this._territory ? `${this._lang}_${this._territory}` : this._lang;\n    }\n}\n","import * as React from 'react';\nimport {render} from 'react-dom';\nimport Kernel from './framework/kernel/Kernel';\nimport config from './app/config/index';\nimport App from './containers/App';\nimport {container} from \"./app/config/ioc_config\";\nimport { Provider } from 'react-redux'\nimport store from \"./store\";\nimport LocaleInterface from \"./entities/LocaleInterface\";\nimport Locale from \"./entities/Locale\";\nconst localeString = require('browser-locale')();\n\nclass ReactAppKernel extends Kernel {\n    protected readonly root: HTMLElement;\n    protected locale: LocaleInterface;\n\n    constructor(root: HTMLElement) {\n        super();\n        this.root = root;\n        this.locale = Locale.fromString(localeString);\n    }\n\n    static attachTo(root: HTMLElement): ReactAppKernel {\n        return new this(root);\n    }\n\n    run(): void {\n        this.boot();\n        render(<Provider store={store}><App locale={this.locale} container={this._container}/></Provider>, this.root);\n    }\n\n    protected initializeContainer(): void {\n        this._container = container;\n    }\n\n    protected loadConfig(): void {\n        this.config = config;\n    }\n}\n\nexport default ReactAppKernel;\n","import ReactAppKernel from './Kernel';\n\nconst element = document.getElementById('app');\nif (element) {\n    ReactAppKernel.attachTo(element).run();\n}\n"],"sourceRoot":""}